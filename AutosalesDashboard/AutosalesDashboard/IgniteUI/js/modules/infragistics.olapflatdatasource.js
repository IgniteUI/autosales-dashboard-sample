/*!@license
* Infragistics.Web.ClientUI infragistics.olapflatdatasource.js 13.2.20132.1010
*
* Copyright (c) 2011-2013 Infragistics Inc.
*
* http://www.infragistics.com/
*
* Depends:
*     jquery-1.4.4.js
*     jquery.ui.core.js
*     jquery.ui.widget.js
*     infragistics.util.js
*/
$.ig=$.ig||{};$.ig.util.bulkDefine(["AbstractEnumerable","AbstractEnumerator","IEnumerable$1","ICollection$1","IList$1","IArrayList","List$1","Collection$1","IDictionary$2","Dictionary$2","GenericEnumerable$1","IEnumerator$1","GenericEnumerator$1","INotifyCollectionChanged","NotifyCollectionChangedEventHandler","NotifyCollectionChangedEventArgs","NotifyCollectionChangedAction","KeyValuePair$2","LinkedList$1","LinkedListNode$1","ObservableCollection$1","Queue$1","ReadOnlyCollection$1","ReadOnlyObservableCollection$1","NameValueCollection","Stack$1","IComparer$1","Expression","MemberExpression","ParameterExpression","LambdaExpression","MethodCallExpression","IOrderedEnumerable$1","Queryable","Enumerable","SortedList$1","IGrouping$2","IArray","DependencyObject","Test","IQueryable","IQueryable$1","IQueryProvider","Activator","AggregateException","ArgumentException","ArgumentNullException","ArgumentOutOfRangeException","AsyncCompletedEventArgs","AsyncCompletedEventHandler","ListSortDirection","Convert","Environment","InvalidOperationException","Debug","IEquatable$1","BinaryReader","ICredentials","NetworkCredential","UploadStringCompletedEventHandler","UploadStringCompletedEventArgs","WebClient","WebHeaderCollection","FaultCode","FaultException","FaultException$1","FaultReason","StringBuilder","BinaryFileDownloader","NotImplementedException","Random","Encoding","UnicodeEncoding","UTF8Encoding","Task","Task$1","TaskCompletionSource$1","TaskFactory","TaskStatus","Tuple$2","Uri","JavaScriptSerializer","UIElement","UIElementCollection","FrameworkElement","Control","ContentControl","Panel","Canvas","Image","TextBlock","CornerRadius","DataTemplate","DataTemplatePassInfo","DataTemplateMeasureInfo","DataTemplateRenderInfo","DataTemplateRenderHandler","DataTemplateMeasureHandler","DataTemplatePassHandler","Binding","DependencyProperty","UnsetValue","DependencyPropertiesCollection","DependencyPropertyChangedEventArgs","Key","ModifierKeys","MouseEventArgs","MouseButtonEventArgs","Brush","LinearGradientBrush","GradientStop","Color","DoubleCollection","FillRule","GeometryType","Geometry","GeometryCollection","GeometryGroup","LineGeometry","RectangleGeometry","EllipseGeometry","PathGeometry","PathFigure","PathFigureCollection","PathSegmentType","PathSegment","PathSegmentCollection","LineSegment","BezierSegment","PolyBezierSegment","PolyLineSegment","ArcSegment","SweepDirection","HorizontalAlignment","PenLineCap","Stretch","Transform","RotateTransform","TranslateTransform","TransformGroup","TransformCollection","Thickness","VerticalAlignment","Point","PointCollection","PropertyChangedCallback","CoerceValueCallback","PropertyMetadata","PropertyPath","Rect","Shape","Line","Path","Polygon","Polyline","Rectangle","Size","Style","StyleTypedPropertyAttribute","TemplatePartAttribute","TemplateVisualStateAttribute","Visibility","XObject","XAttribute","XNode","XContainer","XDocument","XElement","XmlUtils","XName","XNamespace","Object","MulticastDelegate","Action","Action$1","Action$2","Action$3","Action$4","Action$5","Action$6","Action$7","Action$8","IEqualityComparer$1","IEnumerable","ICollection","IDictionary","IList","Array","Comparison$1","Attribute","BrowsableAttribute","EventArgs","CancelEventArgs","DesignTimeVisibleAttribute","EditorBrowsableAttribute","ValueType","Enum","EditorBrowsableState","ISupportInitialize","ITypeDescriptorContext","TypeConverter","TypeConverterAttribute","WinMDTypeAttribute","WinMDPropertyToObjectTypeAttribute","Error","IFormatProvider","NotSupportedException","ObsoleteAttribute","MemberInfo","MethodBase","ConstructorInfo","IComparable","Date","Number","SuppressMessageAttribute","EventHandler$1","PlaceholderSystemCollectionsObjectModel","PlaceholderSystemCollectionsSpecialized","PlaceholderSystemWindows","PlaceholderSystemWindowsControls","PlaceholderSystemWindowsData","PlaceholderSystemWindowsInput","PlaceholderSystemWindowsMarkup","PlaceholderSystemWindowsMediaImaging","PlaceholderSystemWindowsShapes","PlaceholderSystemWindowsControlsPrimitives","PlaceholderSystemWindowsAutomation","PlaceholderSystemWindowsAutomationPeers","PlaceholderSystemText","PlaceholderSystemGlobalization","PlaceholderSystemWindowsDocuments","PlaceholderSystemWindowsInk","PlaceholderSystemWindowsMediaAnimation","PlaceholderSystemWindowsMediaEffects","PlaceholderSystemWindowsThreading","PlaceholderInfragisticsControlerChartsAutomationPeers","FlagsAttribute","Func$1","Func$2","Func$3","Func$4","Func$5","Func$6","Func$7","Func$8","Func$9","Math","XMLHttpRequest","Nullable$1","ParamArrayAttribute","AttributeTargets","AttributeUsageAttribute","Boolean","String","CompareCallback","Dictionary","DictionaryEntry","IEnumerator","INotifyPropertyChanged","PropertyChangedEventArgs","PropertyChangedEventHandler","CultureInfo","Delegate","IDisposable","IntPtr","ReflectionUtil","AssemblyTitleAttribute","AssemblyCompanyAttribute","AssemblyConfigurationAttribute","AssemblyCopyrightAttribute","AssemblyCultureAttribute","AssemblyDescriptionAttribute","AssemblyFileVersionAttribute","AssemblyProductAttribute","AssemblyTrademarkAttribute","AssemblyVersionAttribute","DefaultMemberAttribute","MethodInfo","ParameterInfo","PropertyInfo","RegExp","RuntimeFieldHandle","RuntimeTypeHandle","ClientScriptAttribute","ClientNameAttribute","DontObfuscateAttribute","EmitIgnoreTypeAttribute","ExtensionAttribute","GlobalMemberAttribute","IgnoreAttribute","InlineItemAccessAttribute","InlinePropertyAttribute","InternalsVisibleToAttribute","KeepOriginalNameAttribute","LiteralStringAttribute","NativeMethodAttribute","NativePropertyAttribute","NativeTypeAttribute","RuntimeHelpers","WeakAttribute","WidgetAttribute","MainWidgetAttribute","SuppressWidgetMemberAttribute","SuppressWidgetMemberCopyAttribute","WidgetDefaultStringAttribute","WidgetDefaultNumberAttribute","WidgetDefaultBooleanAttribute","MvcEnumSetStringEnumAttribute","WidgetModuleAttribute","WidgetModuleParentAttribute","WidgetIgnoreDependsAttribute","WidgetIncludeDependsAttribute","WidgetModuleExclusionParentAttribute","ComVisibleAttribute","GuidAttribute","OutAttribute","DataContractAttribute","DataMemberAttribute","WaitHandle","EventWaitHandle","Monitor","TypeCode","TargetFrameworkAttribute","Script","Single","ManualResetEvent","Thread","Type","UIntPtr","XmlAttributeAttribute","XmlElementAttribute","XmlEnumAttribute","XmlIgnoreAttribute","XmlRootAttribute","XmlTypeAttribute","XmlNode","XmlAttribute","XmlDocument","XmlDocumentParser","XmlLinkedNode","XmlElement","Void","XmlNodeList","XmlNamedNodeMap","XmlNodeType","XmlSchemaForm","Element","CanvasElement","console","DivElement","Document","ElementAttribute","ElementAttributeCollection","ElementCollection","ElementEventHandler","ElementNodeType","EventListener","IElementEventHandler","ImageElement","CanvasContext","CanvasContext2D","ImageData","Gradient","TextMetrics","MSGesture","WebStyle","window","Callback","JQuery","JQueryDeferred","JQueryEvent","JQueryObject","JQueryCallback","JQueryUICallback","JQueryPosition","JQueryPromise"]);$.ig.util.defType("TaskStatus","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("TaskStatus",$.ig.Object.prototype.$type)},true);$.ig.util.defType("ListSortDirection","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("ListSortDirection",$.ig.Object.prototype.$type)},true);$.ig.util.defType("NotifyCollectionChangedAction","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("NotifyCollectionChangedAction",$.ig.Object.prototype.$type)},true);$.ig.util.defType("AbstractEnumerable","Object",{a:null,init:function(a){$.ig.Object.prototype.init.call(this);this.a=a},getEnumerator:function(){return new $.ig.AbstractEnumerator(this.a().getEnumerator())},$type:new $.ig.Type("AbstractEnumerable",$.ig.Object.prototype.$type,[$.ig.IEnumerable.prototype.$type])},true);$.ig.util.defType("AbstractEnumerator","Object",{a:null,init:function(a){$.ig.Object.prototype.init.call(this);this.a=a},current:function(){return this.a.current()},moveNext:function(){return this.a.moveNext()},reset:function(){this.a.reset()},$type:new $.ig.Type("AbstractEnumerator",$.ig.Object.prototype.$type,[$.ig.IEnumerator.prototype.$type])},true);$.ig.util.defType("IEnumerable$1","Object",{$type:new $.ig.Type("IEnumerable$1",null,[$.ig.IEnumerable.prototype.$type])},true);$.ig.util.defType("ICollection$1","Object",{$type:new $.ig.Type("ICollection$1",null,[$.ig.IEnumerable$1.prototype.$type.specialize(0),$.ig.IEnumerable.prototype.$type])},true);$.ig.util.defType("IList$1","Object",{$type:new $.ig.Type("IList$1",null,[$.ig.ICollection$1.prototype.$type.specialize(0),$.ig.IEnumerable$1.prototype.$type.specialize(0),$.ig.IEnumerable.prototype.$type])},true);$.ig.util.defType("IArrayList","Object",{$type:new $.ig.Type("IArrayList",null)},true);$.ig.util.defType("List$1","Object",{$t:null,__inner:null,init:function($t,initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}this.a={};this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.Object.prototype.init.call(this);this.__inner=new $.ig.Array},init1:function($t,initNumber,a){this.a={};this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.Object.prototype.init.call(this);this.__inner=new $.ig.Array;if(this.n(0,a)){return}var c=a.getEnumerator();while(c.moveNext()){var b=c.current();this.add(b)}},init2:function($t,initNumber,a){this.a={};this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.Object.prototype.init.call(this);this.__inner=new $.ig.Array},i:function(a,b){this.__inner[a]=b},j:function(a,b){this.__inner.insert(a,b)},k:function(a){this.__inner.add(a)},l:function(a){this.__inner.removeAt(a)},m:function(){this.__inner.clear()},item:function(b,a){if(arguments.length===2){this.i(b,a);return a}else{return this.__inner[b]}},indexOf:function(a){return this.__inner.indexOf(a)},insert:function(a,b){this.j(a,b)},removeAt:function(a){this.l(a)},count:function(){return this.__inner.length},isReadOnly:function(){return false},add:function(a){this.k(a)},clear:function(){this.m()},contains:function(a){return this.__inner.contains(a)},copyTo:function(a,b){for(var c=0;c<this.__inner.length;c++){a[b+c]=this.__inner[c]}},remove:function(a){var b=this.indexOf(a);if(b<0){return false}this.l(b);return true},getEnumerator:function(){var $self=this;var $iter=function(){return function(){return{$state:0,$this:$self,$current:null,current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$b=this.$this.__inner.getEnumerator();this.$state=4;break;case 2:this.$a=this.$b.current();this.$current=this.$a;this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$b.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}()};return new $.ig.GenericEnumerator$1(this.$t,$iter())},asArrayList:function(){return this.__inner},n:function(a,collection_){var b=$.ig.util.cast($.ig.IArrayList.prototype.$type,collection_);if(b!=null){this.__inner.insertRange1(a,b.asArrayList());return true}var c=$.ig.util.cast($.ig.IArray.prototype.$type,collection_);if(c!=null){this.__inner.insertRange(a,c.asArray());return true}var d=$.ig.util.cast($.ig.IList$1.prototype.$type.specialize(this.$t),collection_);if(d!=null){for(var e=0;e<d.count();e++){this.__inner.insert(a+e,d.item(e))}return true}var f=$.isArray(collection_)?collection_:null;if(f!=null){this.__inner.insertRange(a,f);return true}return false},o:function(a,b){if(this.n(a,b)){return}var c=0;var e=b.getEnumerator();while(e.moveNext()){var d=e.current();this.__inner.insert(a+c,d);c++}},p:function(a,b){if(this.n(a,b)){return}var c=0;var e=b.getEnumerator();while(e.moveNext()){var d=e.current();this.__inner.insert(a+c,d);c++}},q:function(a,b){this.__inner.splice(a,b)},copyTo1:function(a,b){this.__inner.copyTo(a,b)},isFixedSize:function(){return false},add1:function(c){this.k(c);return this.__inner.length-1},contains1:function(d){return this.__inner.contains(d)},indexOf1:function(e){return this.__inner.indexOf(e)},insert1:function(f,g){this.j(f,g)},remove1:function(h){var i=this.indexOf1(h);this.l(i)},r:function(){var $self=this;var j=null;if(this.$t==Number){j=function(k,l){var m=k;var n=l;if(m<n){return-1}if(m==n){return 0}return 1}}else if(this.$t==$.ig.Single.prototype.$type){j=function(o,p){var q=o;var r=p;if(q<r){return-1}if(q==r){return 0}return 1}}else if(this.$t==$.ig.Number.prototype.$type){j=function(s,t){var u=s;var v=t;if(u<v){return-1}if(u==v){return 0}return 1}}else if(this.$t==$.ig.Date.prototype.$type){j=function(w,x){var y=w;var z=x;if(y.getTime()<z.getTime()){return-1}if(y.getTime()==z.getTime()){return 0}return 1}}else{j=function(aa,ab){return aa.compareTo(ab)}}this.s(j)},s:function(ac){this.__inner.sort(ac)},t:function(ad){var $self=this;this.__inner.sort(function(ae,af){var ag=ae;var ah=af;return ad(ag,ah)})},_h:null,h:function(ai){if(arguments.length===1){this._h=ai;return ai}else{return this._h}},w:function(aj){var al=aj.getEnumerator();while(al.moveNext()){var ak=al.current();this.__inner.add(ak)}},x:function(){return this.__inner.slice(0)},y:function(am){},isSynchronized:function(){return true},a:null,syncRoot:function(){return this.a},$type:new $.ig.Type("List$1",$.ig.Object.prototype.$type,[$.ig.IList$1.prototype.$type.specialize(0),$.ig.IArrayList.prototype.$type,$.ig.IList.prototype.$type])},true);$.ig.util.defType("IDictionary$2","Object",{$type:new $.ig.Type("IDictionary$2",null,[$.ig.ICollection$1.prototype.$type.specialize($.ig.KeyValuePair$2.prototype.$type.specialize(0,1)),$.ig.IEnumerable$1.prototype.$type.specialize($.ig.KeyValuePair$2.prototype.$type.specialize(0,1)),$.ig.IEnumerable.prototype.$type])},true);$.ig.util.defType("Dictionary$2","Object",{$tKey:null,$tValue:null,__inner:null,__keys:null,init:function($tKey,$tValue,initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}this.a=null;this._useToString=false;this.b=false;this._needsEnsure=false;this.$tKey=$tKey;this.$tValue=$tValue;this.$type=this.$type.specialize(this.$tKey,this.$tValue);$.ig.Object.prototype.init.call(this);this.__inner=new $.ig.Dictionary(0);this.__keys=new $.ig.Dictionary(0)},init1:function($tKey,$tValue,initNumber,a){this.a=null;this._useToString=false;this.b=false;this._needsEnsure=false;this.$tKey=$tKey;this.$tValue=$tValue;this.$type=this.$type.specialize(this.$tKey,this.$tValue);$.ig.Object.prototype.init.call(this);this.__inner=new $.ig.Dictionary(1,a);this.__keys=new $.ig.Dictionary(0)},a:null,init2:function($tKey,$tValue,initNumber,a){this.a=null;this._useToString=false;this.b=false;this._needsEnsure=false;this.$tKey=$tKey;this.$tValue=$tValue;this.$type=this.$type.specialize(this.$tKey,this.$tValue);$.ig.Object.prototype.init.call(this);this.__inner=new $.ig.Dictionary(0);this.__keys=new $.ig.Dictionary(0);this.a=a},count:function(){return this.__inner.count()},item:function(b,a){if(arguments.length===2){this.__inner.item(this.f(b),a);this.__keys.item(this.f(b),b);return a}else{return this.__inner.item(this.f(b))}},c:function(){return this.__inner.length()},containsKey:function(a){return this.__inner.containsKey(this.f(a))},remove:function(a){var b=this.f(a);if(!this.__keys.containsKey(b)){return false}this.__inner.remove(b);this.__keys.remove(b);return true},clear:function(){this.__inner.clear();this.__keys.clear()},_useToString:null,b:null,_needsEnsure:null,e:function(key_){if(!this.b){this.b=true;this._needsEnsure=typeof key_=="object";if(!this._needsEnsure){this._useToString=!key_.getHashCode}}},f:function(key_){this.e(key_);if(this._needsEnsure){$.ig.util.ensureUniqueId(key_)}if(this.a!=null){return this.a.getHashCode(key_).toString()}if(this._useToString){return key_.toString()}else{return key_.getHashCode().toString()}},add:function(a,b){this.__inner.item(this.f(a),b);this.__keys.item(this.f(a),a)},tryGetValue:function(a,b){if(!this.__inner.containsKey(this.f(a))){b=null;return{ret:false,value:b}}b=this.__inner.item(this.f(a));return{ret:true,value:b};return{value:b}},keys:function(){var $self=this;var $iter=function(){return function(){return{$state:0,$this:$self,$current:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$c=this.$this.__keys.values().getEnumerator();this.$state=4;break;case 2:this.$b=this.$c.current();this.$current=this.$b;this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$c.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}()};return new $.ig.GenericEnumerable$1(this.$tKey,$iter)},values:function(){var $self=this;var $iter=function(){return function(){return{$state:0,$this:$self,$current:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$c=this.$this.__inner.values().getEnumerator();this.$state=4;break;case 2:this.$b=this.$c.current();this.$current=this.$b;this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$c.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}()};return new $.ig.GenericEnumerable$1(this.$tValue,$iter)},isReadOnly:function(){return false},add1:function(a){this.add(a.key(),a.value())},contains:function(a){return this.containsKey(a.key())},g:function(a,b){throw new $.ig.NotImplementedException},remove1:function(a){this.remove(a.key());return true},h:function(){var $self=this;var $iter=function(){return function(){return{$state:0,$this:$self,$current:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$b=this.$this.__keys.values().getEnumerator();this.$state=4;break;case 2:this.$a=this.$b.current();this.$current=new $.ig.KeyValuePair$2(this.$tKey,this.$tValue,this.$a,this.$this.__inner.item(this.$this.f(this.$a)));this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$b.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}()};return new $.ig.GenericEnumerable$1($.ig.KeyValuePair$2.prototype.$type.specialize(this.$tKey,this.$tValue),$iter)},getEnumerator:function(){return this.h().getEnumerator()},$type:new $.ig.Type("Dictionary$2",$.ig.Object.prototype.$type,[$.ig.IDictionary$2.prototype.$type.specialize(0,1),$.ig.IDictionary.prototype.$type])},true);$.ig.util.defType("GenericEnumerable$1","Object",{$t:null,a:null,init:function($t,a){this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.Object.prototype.init.call(this);this.a=a},getEnumerator:function(){return new $.ig.GenericEnumerator$1(this.$t,this.a().getEnumerator())},$type:new $.ig.Type("GenericEnumerable$1",$.ig.Object.prototype.$type,[$.ig.IEnumerable$1.prototype.$type.specialize(0)])},true);$.ig.util.defType("IEnumerator$1","Object",{$type:new $.ig.Type("IEnumerator$1",null,[$.ig.IEnumerator.prototype.$type])},true);$.ig.util.defType("GenericEnumerator$1","Object",{$t:null,a:null,init:function($t,a){this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.Object.prototype.init.call(this);this.a=a},current:function(){return this.a.current()},moveNext:function(){return this.a.moveNext()},reset:function(){this.a.reset()},$type:new $.ig.Type("GenericEnumerator$1",$.ig.Object.prototype.$type,[$.ig.IEnumerator$1.prototype.$type.specialize(0)])},true);$.ig.util.defType("INotifyCollectionChanged","Object",{$type:new $.ig.Type("INotifyCollectionChanged",null)},true);$.ig.util.defType("NotifyCollectionChangedEventArgs","EventArgs",{init:function(initNumber,a){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}$.ig.EventArgs.prototype.init.call(this);this.a=a;this.d=new $.ig.List$1($.ig.Object.prototype.$type,0);this.b=new $.ig.List$1($.ig.Object.prototype.$type,0)},init1:function(initNumber,a,b,c){var $self=this;$.ig.EventArgs.prototype.init.call(this);this.a=a;this.d=new $.ig.List$1($.ig.Object.prototype.$type,0);if(this.a==$.ig.NotifyCollectionChangedAction.prototype.remove||this.a==$.ig.NotifyCollectionChangedAction.prototype.replace){this.d.add(b);this.e=c}if(this.a!=$.ig.NotifyCollectionChangedAction.prototype.remove){this.b=function(){var $ret=new $.ig.List$1($.ig.Object.prototype.$type,0);$ret.add(b);return $ret}()}else{this.b=new $.ig.List$1($.ig.Object.prototype.$type,0)}this.c=c},init2:function(initNumber,a,b,c,d){var $self=this;$.ig.EventArgs.prototype.init.call(this);this.a=a;this.c=d;this.e=d;this.b=function(){var $ret=new $.ig.List$1($.ig.Object.prototype.$type,0);$ret.add(b);return $ret}();this.d=function(){var $ret=new $.ig.List$1($.ig.Object.prototype.$type,0);$ret.add(c);return $ret}()},a:null,action:function(){return this.a},b:null,newItems:function(){return this.b},c:null,newStartingIndex:function(){return this.c},d:null,oldItems:function(){return this.d},e:null,oldStartingIndex:function(){return this.e},$type:new $.ig.Type("NotifyCollectionChangedEventArgs",$.ig.EventArgs.prototype.$type)},true);$.ig.util.defType("KeyValuePair$2","ValueType",{$tKey:null,$tValue:null,a:null,b:null,init:function($tKey,$tValue,a,b){this.$tKey=$tKey;this.$tValue=$tValue;this.$type=this.$type.specialize(this.$tKey,this.$tValue);$.ig.ValueType.prototype.init.call(this);this.a=a;this.b=b},key:function(){return this.a},value:function(){return this.b},$type:new $.ig.Type("KeyValuePair$2",$.ig.Object.prototype.$type)},true);$.ig.util.defType("ReadOnlyCollection$1","Object",{$t:null,init:function($t,initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}this.b={};this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.Object.prototype.init.call(this)},init1:function($t,initNumber,a){this.b={};this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.Object.prototype.init.call(this);this.a=a},a:null,item:function(b,a){if(arguments.length===2){this.a.item(b,a);return a}else{return this.a.item(b)}},indexOf:function(a){return this.a.indexOf(a)},insert:function(a,b){},removeAt:function(a){},count:function(){return this.a.count()},isReadOnly:function(){return true},add:function(a){},clear:function(){},contains:function(a){return this.a.contains(a)},copyTo:function(a,b){this.a.copyTo(a,b)},remove:function(a){return false},getEnumerator:function(){return this.a.getEnumerator()},isFixedSize:function(){return true},add1:function(c){return-1},contains1:function(d){return this.a.contains(d)},indexOf1:function(e){return this.a.indexOf(e)},insert1:function(f,g){},remove1:function(h){},copyTo1:function(i,j){this.a.copyTo(i,j)},c:function(){return this.a},isSynchronized:function(){return true},b:null,syncRoot:function(){return this.b},$type:new $.ig.Type("ReadOnlyCollection$1",$.ig.Object.prototype.$type,[$.ig.IList$1.prototype.$type.specialize(0),$.ig.IList.prototype.$type])},true);$.ig.util.defType("IOrderedEnumerable$1","Object",{$type:new $.ig.Type("IOrderedEnumerable$1",null,[$.ig.IEnumerable$1.prototype.$type.specialize(0),$.ig.IEnumerable.prototype.$type])},true);$.ig.util.defType("Enumerable","Object",{init:function(){$.ig.Object.prototype.init.call(this)},where$1:function($tSource,b){var $self=this;var $iter=function(){return function($tSource,b){return{$state:0,$this:$self,$current:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$d=this.$this.getEnumerator();this.$state=7;break;case 2:this.$c=this.$d.current();this.$state=3;break;case 3:if(b(this.$c)){this.$state=4}else{this.$state=6}break;case 4:this.$current=this.$c;this.$state=5;return true;case 5:this.$state=6;break;case 6:this.$state=7;break;case 7:if(this.$d.moveNext()){this.$state=2}else{this.$state=8}break;case 8:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,b)};return new $.ig.GenericEnumerable$1($tSource,$iter)},where$11111:function($tSource,b){var $self=this;var $iter=function(){return function($tSource,b){return{$state:0,$this:$self,$current:null,$c:0,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$c=0;this.$state=1;break;case 1:this.$e=this.$this.getEnumerator();this.$state=7;break;case 2:this.$d=this.$e.current();this.$state=3;break;case 3:if(b(this.$d,this.$c)){this.$state=4}else{this.$state=6}break;case 4:this.$current=this.$d;this.$state=5;return true;case 5:this.$state=6;break;case 6:this.$c++;this.$state=7;break;case 7:if(this.$e.moveNext()){this.$state=2}else{this.$state=8}break;case 8:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,b)};return new $.ig.GenericEnumerable$1($tSource,$iter)},select$2:function($tSource,$tResult,b){var $self=this;var $iter=function(){return function($tSource,$tResult,b){return{$state:0,$this:$self,$current:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$d=this.$this.getEnumerator();this.$state=4;break;case 2:this.$c=this.$d.current();this.$current=b(this.$c);this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$d.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,$tResult,b)};return new $.ig.GenericEnumerable$1($tResult,$iter)},selectMany$2:function($tSource,$tResult,b){var $self=this;var $iter=function(){return function($tSource,$tResult,b){return{$state:0,$this:$self,$current:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$d=this.$this.getEnumerator();this.$state=8;break;case 2:this.$c=this.$d.current();this.$state=3;break;case 3:this.$f=b(this.$c).getEnumerator();this.$state=6;break;case 4:this.$e=this.$f.current();this.$current=this.$e;this.$state=5;return true;case 5:this.$state=6;break;case 6:if(this.$f.moveNext()){this.$state=4}else{this.$state=7}break;case 7:this.$state=8;break;case 8:if(this.$d.moveNext()){this.$state=2}else{this.$state=9}break;case 9:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,$tResult,b)};return new $.ig.GenericEnumerable$1($tResult,$iter)},ofType$1:function($tResult){var $self=this;var $iter=function(){return function($tResult){return{$state:0,$this:$self,$current:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$c=this.$this.getEnumerator();this.$state=7;break;case 2:this.$b=this.$c.current();this.$state=3;break;case 3:if($.ig.util.cast($tResult,this.$b)!==null){this.$state=4}else{this.$state=6}break;case 4:this.$current=this.$b;this.$state=5;return true;case 5:this.$state=6;break;case 6:this.$state=7;break;case 7:if(this.$c.moveNext()){this.$state=2}else{this.$state=8}break;case 8:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tResult)};return new $.ig.GenericEnumerable$1($tResult,$iter)},last$1:function($tSource){var b=$.ig.util.cast($.ig.IList$1.prototype.$type.specialize($tSource),this);if(b!=null){return b.item(b.count()-1)}var c=null;var e=this.getEnumerator();while(e.moveNext()){var d=e.current();c=d}return c},first$1:function($tSource){var c=this.getEnumerator();while(c.moveNext()){var b=c.current();return b}return null},firstOrDefault$1:function($tSource){var c=this.getEnumerator();while(c.moveNext()){var b=c.current();return b}return null},orderBy$2:function($tSource,$tKey,b){var $self=this;var c=new $.ig.SortedList$1($tSource,this);c.t(function(d,e){var f=d;var g=e;var h=b(f);var i=b(g);if($.ig.util.cast($.ig.IComparable.prototype.$type,h)!==null){return $.ig.util.cast($.ig.IComparable.prototype.$type,h).compareTo(i)}else{return h.toString().compareTo(i.toString())}});return c},orderByDescending$2:function($tSource,$tKey,b){var $self=this;var c=new $.ig.SortedList$1($tSource,this);c.t(function(d,e){var f=e;var g=d;var h=b(f);var i=b(g);if($.ig.util.cast($.ig.IComparable.prototype.$type,h)!==null){return $.ig.util.cast($.ig.IComparable.prototype.$type,h).compareTo(i)}else{return h.toString().compareTo(i.toString())}});return c},toList$1:function($tSource){var b=new $.ig.List$1($tSource,1,this);return b},a:function(a,b){var $self=this;var $iter=function(){return function(a,b){return{$state:0,$this:$self,$current:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$c=a;this.$state=5;break;case 2:this.$current=this.$c;this.$state=3;return true;case 3:this.$state=4;break;case 4:this.$c++;this.$state=5;break;case 5:if(this.$c<b){this.$state=2}else{this.$state=6}break;case 6:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}(a,b)};return new $.ig.GenericEnumerable$1($.ig.Number.prototype.$type,$iter)},concat$1:function($tSource,b){var $self=this;var $iter=function(){return function($tSource,b){return{$state:0,$this:$self,$current:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$d=this.$this.getEnumerator();this.$state=4;break;case 2:this.$c=this.$d.current();this.$current=this.$c;this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$d.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=6;break;case 6:this.$f=b.getEnumerator();this.$state=9;break;case 7:this.$e=this.$f.current();this.$current=this.$e;this.$state=8;return true;case 8:this.$state=9;break;case 9:if(this.$f.moveNext()){this.$state=7}else{this.$state=10}break;case 10:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,b)};return new $.ig.GenericEnumerable$1($tSource,$iter)},max:function(){var b=true;var c=0;var e=this.getEnumerator();while(e.moveNext()){var d=e.current();if(b){b=false;c=d}else{c=Math.max(c,d)}}return c},max$111:function($tSource,b){return this.select$2($tSource,$.ig.Number.prototype.$type,b).max()},min:function(){var b=true;var c=0;var e=this.getEnumerator();while(e.moveNext()){var d=e.current();if(b){b=false;c=d}else{c=Math.min(c,d)}}return c},min$111:function($tSource,b){return this.select$2($tSource,$.ig.Number.prototype.$type,b).max()},count$1:function($tSource){var b=0;var d=this.getEnumerator();while(d.moveNext()){var c=d.current();b++}return b},reverse$1:function($tSource){var $self=this;var $iter=function(){return function($tSource){return{$state:0,$this:$self,$current:null,$b:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$b=new $.ig.List$1($tSource,1,this.$this);this.$state=1;break;case 1:this.$c=this.$b.count()-1;this.$state=5;break;case 2:this.$current=this.$b.__inner[this.$c];this.$state=3;return true;case 3:this.$state=4;break;case 4:this.$c--;this.$state=5;break;case 5:if(this.$c>0){this.$state=2}else{this.$state=6}break;case 6:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource)};return new $.ig.GenericEnumerable$1($tSource,$iter)
},cast$1:function($tResult){if(this==null){throw new $.ig.ArgumentNullException("source")}var b=$.ig.util.cast($.ig.IEnumerable$1.prototype.$type.specialize($tResult),this);if(b!=null){return b}var c=new $.ig.List$1($tResult,0);var e=this.getEnumerator();while(e.moveNext()){var d=e.current();if($.ig.util.cast($tResult,d)!==null){c.add(d)}else{c.add(null)}}return c},take$1:function($tSource,b){var $self=this;var $iter=function(){return function($tSource,b){return{$state:0,$this:$self,$current:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$d=this.$this.getEnumerator();this.$state=9;break;case 2:this.$c=this.$d.current();this.$state=3;break;case 3:if(b>0){this.$state=4}else{this.$state=6}break;case 4:b--;this.$current=this.$c;this.$state=5;return true;case 5:this.$state=8;break;case 6:this.$state=-2;return false;case 7:this.$state=8;break;case 8:this.$state=9;break;case 9:if(this.$d.moveNext()){this.$state=2}else{this.$state=10}break;case 10:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,b)};return new $.ig.GenericEnumerable$1($tSource,$iter)},skip$1:function($tSource,b){var $self=this;var $iter=function(){return function($tSource,b){return{$state:0,$this:$self,$current:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$d=this.$this.getEnumerator();this.$state=8;break;case 2:this.$c=this.$d.current();this.$state=3;break;case 3:if(b<=0){this.$state=4}else{this.$state=6}break;case 4:this.$current=this.$c;this.$state=5;return true;case 5:this.$state=7;break;case 6:b--;this.$state=7;break;case 7:this.$state=8;break;case 8:if(this.$d.moveNext()){this.$state=2}else{this.$state=9}break;case 9:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,b)};return new $.ig.GenericEnumerable$1($tSource,$iter)},any$1:function($tSource){var c=this.getEnumerator();while(c.moveNext()){var b=c.current();return true}return false},contains$1:function($tSource,value_){var b=this.getEnumerator();while(b.moveNext()){var item_=b.current();if(item_===value_){return true}}return false},union$1:function($tSource,b){return null},toArray$1:function($tSource){var b=new $.ig.List$1($tSource,1,this);return b.asArrayList()},elementAt$1:function($tSource,b){var c=$.ig.util.cast($.ig.IList$1.prototype.$type.specialize($tSource),this);if(c!=null){return c.item(b)}return this.skip$1($tSource,b).first$1($tSource)},sum:function(){var b=0;var d=this.getEnumerator();while(d.moveNext()){var c=d.current();b+=c}return b},sum$111:function($tSource,b){return this.select$2($tSource,Number,b).sum()},$type:new $.ig.Type("Enumerable",$.ig.Object.prototype.$type)},true);$.ig.util.defType("SortedList$1","List$1",{$tElement:null,init:function($tElement,a){this.$tElement=$tElement;this.$type=this.$type.specialize(this.$tElement);$.ig.List$1.prototype.init1.call(this,this.$tElement,1,a)},getEnumerator:function(){return $.ig.List$1.prototype.getEnumerator.call(this)},$type:new $.ig.Type("SortedList$1",$.ig.List$1.prototype.$type.specialize(0),[$.ig.IOrderedEnumerable$1.prototype.$type.specialize(0)])},true);$.ig.util.defType("IArray","Object",{$type:new $.ig.Type("IArray",null)},true);$.ig.util.defType("AggregateException","Error",{init:function(initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}$.ig.Error.prototype.init.call(this)},init1:function(initNumber,a){$.ig.Error.prototype.init1.call(this,1,a)},init2:function(initNumber,a,b){$.ig.Error.prototype.init2.call(this,2,a,b)},$type:new $.ig.Type("AggregateException",$.ig.Error.prototype.$type)},true);$.ig.util.defType("ArgumentException","Error",{init:function(initNumber,a){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}$.ig.Error.prototype.init1.call(this,1,a)},init1:function(initNumber,a,b){$.ig.Error.prototype.init1.call(this,1,a)},$type:new $.ig.Type("ArgumentException",$.ig.Error.prototype.$type)},true);$.ig.util.defType("ArgumentNullException","Error",{init:function(a){$.ig.Error.prototype.init1.call(this,1,a+" cannot be null.")},$type:new $.ig.Type("ArgumentNullException",$.ig.Error.prototype.$type)},true);$.ig.util.defType("InvalidOperationException","Error",{init:function(initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}$.ig.Error.prototype.init1.call(this,1,"Invalid operation")},init1:function(initNumber,a){$.ig.Error.prototype.init1.call(this,1,a)},$type:new $.ig.Type("InvalidOperationException",$.ig.Error.prototype.$type)},true);$.ig.util.defType("Debug","Object",{init:function(){$.ig.Object.prototype.init.call(this)},a:function(a,b){},b:function(a){},c:function(a){},$type:new $.ig.Type("Debug",$.ig.Object.prototype.$type)},true);$.ig.util.defType("NotImplementedException","Error",{init:function(){$.ig.Error.prototype.init1.call(this,1,"not implemented")},$type:new $.ig.Type("NotImplementedException",$.ig.Error.prototype.$type)},true);$.ig.util.defType("Task","Object",{_f:null,f:function(a){if(arguments.length===1){this._f=a;return a}else{return this._f}},_g:null,g:function(a){if(arguments.length===1){this._g=a;return a}else{return this._g}},_h:null,h:function(a){if(arguments.length===1){this._h=a;return a}else{return this._h}},init:function(initNumber,a){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}$.ig.Task.prototype.init1.call(this,1,a,null)},init1:function(initNumber,a,b){var $self=this;$.ig.Object.prototype.init.call(this);var c=function(){};var e=function(d){if(d==null){$self.g(true)}else{$self.h(new $.ig.AggregateException(2,"Exception occurred during task execution",d))}};this.f(a.done(c).fail(e));this.j(b)},i:function(){if(this.g()){return $.ig.TaskStatus.prototype.canceled}switch(this.f().state()){case"pending":return $.ig.TaskStatus.prototype.created;case"resolved":return $.ig.TaskStatus.prototype.ranToCompletion;case"rejected":return $.ig.TaskStatus.prototype.faulted;default:return $.ig.TaskStatus.prototype.created}},_j:null,j:function(a){if(arguments.length===1){this._j=a;return a}else{return this._j}},t:function(a){var $self=this;var b=function(){return a($self)};var d=function(c){return a($self)};var e=this.f().done(b).fail(d);return new $.ig.Task(0,e)},v:function($tNewResult,a){var $self=this;var b=new $.ig.TaskCompletionSource$1($tNewResult,0);var d=function(){try{var c=a($self);b.i(c)}catch(e_){b.h(e_)}};var f=function(e){return d()};var h=function(g){return d()};this.f().done(f).fail(h);return b.d()},$type:new $.ig.Type("Task",$.ig.Object.prototype.$type)},true);$.ig.util.defType("Task$1","Task",{$tResult:null,init:function($tResult,a,b){var $self=this;this.y=false;this.$tResult=$tResult;this.$type=this.$type.specialize(this.$tResult);$.ig.Task.prototype.init1.call(this,1,a,b);var e=function(c){var d=c;$self.z=d;$self.y=true};var g=function(f){$self.y=true};this.f().done(e).fail(g)},y:null,z:null,aa:function(){if(!this.y){throw"Result is not ready yet"}if(this.h()!=null){throw this.h()}return this.z},ac:function(a){var $self=this;return $.ig.Task.prototype.t.call(this,function(b){return a(b)})},ae:function($tNewResult,a){var $self=this;var c=function(b){return a(b)};return this.ag($.ig.Object.prototype.$type,c).ag($.ig.Object.prototype.$type,function(d){return d.aa()})},ag:function($tNewResult,a){return $.ig.Task.prototype.v.call(this,$tNewResult,a)},$type:new $.ig.Type("Task$1",$.ig.Task.prototype.$type)},true);$.ig.util.defType("TaskCompletionSource$1","Object",{$tResult:null,_c:null,c:function(a){if(arguments.length===1){this._c=a;return a}else{return this._c}},init:function($tResult,initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}this.$tResult=$tResult;this.$type=this.$type.specialize(this.$tResult);$.ig.TaskCompletionSource$1.prototype.init1.call(this,1,null)},init1:function($tResult,initNumber,a){this.$tResult=$tResult;this.$type=this.$type.specialize(this.$tResult);$.ig.Object.prototype.init.call(this);this.c($.ig.util.deferred());this.d(new $.ig.Task$1(this.$tResult,this.c().promise(),a))},g:function(){this.c().reject(null)},h:function(a){this.c().reject(a)},i:function(a){this.c().resolve(a)},_d:null,d:function(a){if(arguments.length===1){this._d=a;return a}else{return this._d}},$type:new $.ig.Type("TaskCompletionSource$1",$.ig.Object.prototype.$type)},true);$.ig.util.defType("TaskFactory","Object",{init:function(){$.ig.Object.prototype.init.call(this)},a:function(a,b){var $self=this;return new $.ig.Task(0,this.i(this.h(a)).always(function(){return b(a)}))},c:function($tResult,a,b){var $self=this;var c=new $.ig.TaskCompletionSource$1($tResult,0);this.i(this.h(a)).always(function(){try{var d=b(a);c.i(d)}catch(e_){c.h(e_)}});return c.d()},e:function($tAntecedentResult,a,b){var $self=this;return this.e($tAntecedentResult,a,function(c){return b(c)})},g:function($tAntecedentResult,$tResult,a,b){var $self=this;var d=function(c){return b(c)};return this.c($.ig.Object.prototype.$type,a,d).ae($tResult,function(e){return e.aa()})},h:function(a){var b=new Array(a.length);for(var c=0;c<a.length;c++){b[c]=a[c].f()}return b},i:function(a){var promises_=a;var b=function(p){function whenAll(){var whenDeffered=$.ig.util.deferred();if(arguments.length===0){whenDeffered.resolve();return whenDeffered}var count=arguments.length;var resolve=true;for(var i=0;i<arguments.length;i++){arguments[i].done(function(){resolve=resolve&&true}).fail(function(){resolve=resolve&&false}).always(function(){count--;if(count<=0){if(resolve){whenDeffered.resolve()}else{whenDeffered.reject()}}})}return whenDeffered}return whenAll.apply($,p)}(promises_);return b},$type:new $.ig.Type("TaskFactory",$.ig.Object.prototype.$type)},true);$.ig.util.defType("Tuple$2","Object",{$t1:null,$t2:null,_c:null,c:function(a){if(arguments.length===1){this._c=a;return a}else{return this._c}},_d:null,d:function(a){if(arguments.length===1){this._d=a;return a}else{return this._d}},init:function($t1,$t2,a,b){this.$t1=$t1;this.$t2=$t2;this.$type=this.$type.specialize(this.$t1,this.$t2);$.ig.Object.prototype.init.call(this);this.c(a);this.d(b)},$type:new $.ig.Type("Tuple$2",$.ig.Object.prototype.$type)},true);$.ig.TaskStatus.prototype.created=0;$.ig.TaskStatus.prototype.ranToCompletion=5;$.ig.TaskStatus.prototype.canceled=6;$.ig.TaskStatus.prototype.faulted=7;$.ig.ListSortDirection.prototype.ascending=0;$.ig.ListSortDirection.prototype.descending=1;$.ig.NotifyCollectionChangedAction.prototype.add=0;$.ig.NotifyCollectionChangedAction.prototype.remove=1;$.ig.NotifyCollectionChangedAction.prototype.replace=2;$.ig.NotifyCollectionChangedAction.prototype.reset=4;$.ig.util.extCopy($.ig.Queryable,[[[$.ig.AbstractEnumerable,$.ig.IEnumerable$1,$.ig.ICollection$1,$.ig.IList$1,$.ig.List$1,$.ig.IDictionary$2,$.ig.Dictionary$2,$.ig.GenericEnumerable$1,$.ig.ReadOnlyCollection$1,$.ig.Stack$1,$.ig.IOrderedEnumerable$1,$.ig.SortedList$1,$.ig.IGrouping$2,$.ig.ICollection,$.ig.IList,$.ig.Array,$.ig.Dictionary,$.ig.XmlNodeList,$.ig.XmlNamedNodeMap],["asQueryable"]]]);$.ig.util.extCopy($.ig.Enumerable,[[[$.ig.ICollection$1,$.ig.IList$1,$.ig.List$1,$.ig.IDictionary$2,$.ig.Dictionary$2,$.ig.GenericEnumerable$1,$.ig.ReadOnlyCollection$1,$.ig.Stack$1,$.ig.IOrderedEnumerable$1,$.ig.SortedList$1,$.ig.IGrouping$2,$.ig.IEnumerable$1],["where$1","where$11111","select$2","selectMany$2","last$1","first$1","firstOrDefault$1","orderBy$2","orderByDescending$2","toList$1","concat$1","max","max$111","min","min$111","count$1","reverse$1","take$1","skip$1","any$1","contains$1","union$1","toArray$1","elementAt$1","sum","sum$111"]],[[$.ig.AbstractEnumerable,$.ig.IEnumerable$1,$.ig.ICollection$1,$.ig.IList$1,$.ig.List$1,$.ig.IDictionary$2,$.ig.Dictionary$2,$.ig.GenericEnumerable$1,$.ig.ReadOnlyCollection$1,$.ig.Stack$1,$.ig.IOrderedEnumerable$1,$.ig.SortedList$1,$.ig.IGrouping$2,$.ig.ICollection,$.ig.IList,$.ig.Array,$.ig.Dictionary,$.ig.XmlNodeList,$.ig.XmlNamedNodeMap],["ofType$1","cast$1"]]]);$.ig=$.ig||{};$.ig.util.bulkDefine(["ICoreOlapElement","Cube","Catalog","Dimension","CubeType","ScopeType","DimensionType","LevelType","HierarchyOrigin","AggregatorType","CardinalityType","MemberType","Hierarchy","Level","Measure","MeasureGroup","MeasureGroupDimension","Member","OlapResult","OlapResultAxis","IPosition$2","OlapResultTuple","IPositionItem$2","IHierarchicalPositionItem$2","OlapResultAxisMember","OlapResultCell","HeaderCellsLayoutOrientation","LevelSpanManager","SpanSource","ITableViewHeadersFactory","TableViewHeadersFactory","TableCompactViewHeadersFactory","TableViewHeaderCellSource","TableViewImpl","TableViewSettings","OlapResultView","ResultViewHelper","OlapTableViewHeaderCell","OlapTableViewResultCell","ArrayListCollection$1","IOlapDataSource","MeasureList","MeasureListLocation","OlapMetadataTreeItemType","OlapMetadataTreeItem","MetaTreeHelper","HierarchyItemPosition","MeasureGroupMetaItemsCache","DataSourceBaseOptions","CubeMetaItemsCache","SourceInitHelper","AxisDefinitionParser","CoreOlapElementType","CoreOlapElementParseResult","CoreOlapElementParser","AxisElement","PivotActionStatus","PivotAction","AxisItemsChangeType","AxisChangedAction","AxisItemsChangedAction","ExpansionStateChangeType","ExpansionStateChangedAction","PivotActionManager","KeyValueItem","PositionItemInfo$2","PositionResolver$2","LevelSortDirection","LevelSortBehavior","TaskExtensions","HierarchyFilterView","FilterMember","FilterMemberStateChangedEventArgs","ResultSorter$1","ResultHeaderSorter","AxisTupleVisitor","AxisHeaderSortingVisitor","ResultColumnValueSorter","AxisValueSortingVisitor","TupleSortDirection","DataSourceBase","jQueryUtils","OlapUtilities","OlapTableView"]);$.ig.util.defType("LevelSortBehavior","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("LevelSortBehavior",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapMetadataTreeItemType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("OlapMetadataTreeItemType",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MeasureListLocation","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("MeasureListLocation",$.ig.Object.prototype.$type)},true);$.ig.util.defType("HeaderCellsLayoutOrientation","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("HeaderCellsLayoutOrientation",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MemberType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("MemberType",$.ig.Object.prototype.$type)},true);$.ig.util.defType("CardinalityType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("CardinalityType",$.ig.Object.prototype.$type)},true);$.ig.util.defType("AggregatorType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("AggregatorType",$.ig.Object.prototype.$type)},true);$.ig.util.defType("HierarchyOrigin","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("HierarchyOrigin",$.ig.Object.prototype.$type)},true);$.ig.util.defType("DimensionType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("DimensionType",$.ig.Object.prototype.$type)},true);$.ig.util.defType("CubeType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("CubeType",$.ig.Object.prototype.$type)},true);$.ig.util.defType("ICoreOlapElement","Object",{$type:new $.ig.Type("ICoreOlapElement",null)},true);$.ig.util.defType("Cube","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_catalogName:null,catalogName:function(a){if(arguments.length===1){this._catalogName=a;return a}else{return this._catalogName}},_name:null,name:function(a){if(arguments.length===1){this._name=a;return a}else{return this._name}},_cubeType:null,cubeType:function(a){if(arguments.length===1){this._cubeType=a;return a}else{return this._cubeType}},_caption:null,caption:function(a){if(arguments.length===1){this._caption=a;return a}else{return this._caption}},_lastProcessed:null,lastProcessed:function(a){if(arguments.length===1){this._lastProcessed=a;return a}else{return this._lastProcessed}},_lastUpdated:null,lastUpdated:function(a){if(arguments.length===1){this._lastUpdated=a;return a}else{return this._lastUpdated}},_description:null,description:function(a){if(arguments.length===1){this._description=a;return a}else{return this._description}},uniqueName:function(a){if(arguments.length===1){this.name(a);return a}else{return this.name()}},$type:new $.ig.Type("Cube",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("Dimension","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(a){if(arguments.length===1){this._name=a;return a}else{return this._name}},_uniqueName:null,uniqueName:function(a){if(arguments.length===1){this._uniqueName=a;return a}else{return this._uniqueName}},_caption:null,caption:function(a){if(arguments.length===1){this._caption=a;return a}else{return this._caption}},_dimensionType:null,dimensionType:function(a){if(arguments.length===1){this._dimensionType=a;return a}else{return this._dimensionType}},_description:null,description:function(a){if(arguments.length===1){this._description=a;return a}else{return this._description}},_defaultHierarchy:null,defaultHierarchy:function(a){if(arguments.length===1){this._defaultHierarchy=a;return a}else{return this._defaultHierarchy}},$type:new $.ig.Type("Dimension",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("Hierarchy","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(a){if(arguments.length===1){this._name=a;return a}else{return this._name}},_uniqueName:null,uniqueName:function(a){if(arguments.length===1){this._uniqueName=a;return a}else{return this._uniqueName}},_defaultHierarchy:null,defaultHierarchy:function(a){if(arguments.length===1){this._defaultHierarchy=a;return a}else{return this._defaultHierarchy}},_caption:null,caption:function(a){if(arguments.length===1){this._caption=a;return a}else{return this._caption}},_description:null,description:function(a){if(arguments.length===1){this._description=a;return a}else{return this._description}},_defaultMember:null,defaultMember:function(a){if(arguments.length===1){this._defaultMember=a;return a}else{return this._defaultMember}},_allMember:null,allMember:function(a){if(arguments.length===1){this._allMember=a;return a}else{return this._allMember}},_dimensionUniqueName:null,dimensionUniqueName:function(a){if(arguments.length===1){this._dimensionUniqueName=a;return a}else{return this._dimensionUniqueName}},_hierarchyOrigin:null,hierarchyOrigin:function(a){if(arguments.length===1){this._hierarchyOrigin=a;return a}else{return this._hierarchyOrigin}},_hierarchyDisplayFolder:null,hierarchyDisplayFolder:function(a){if(arguments.length===1){this._hierarchyDisplayFolder=a;return a}else{return this._hierarchyDisplayFolder}},$type:new $.ig.Type("Hierarchy",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("Level","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(a){if(arguments.length===1){this._name=a;return a}else{return this._name}},_caption:null,caption:function(a){if(arguments.length===1){this._caption=a;return a}else{return this._caption}},_uniqueName:null,uniqueName:function(a){if(arguments.length===1){this._uniqueName=a;return a}else{return this._uniqueName}},_description:null,description:function(a){if(arguments.length===1){this._description=a;return a}else{return this._description}},_depth:null,depth:function(a){if(arguments.length===1){this._depth=a;return a}else{return this._depth}},_hierarchyUniqueName:null,hierarchyUniqueName:function(a){if(arguments.length===1){this._hierarchyUniqueName=a;return a}else{return this._hierarchyUniqueName}},_dimensionUniqueName:null,dimensionUniqueName:function(a){if(arguments.length===1){this._dimensionUniqueName=a;return a}else{return this._dimensionUniqueName}},_membersCount:null,membersCount:function(a){if(arguments.length===1){this._membersCount=a;return a}else{return this._membersCount}},_levelOrigin:null,levelOrigin:function(a){if(arguments.length===1){this._levelOrigin=a;return a}else{return this._levelOrigin}},_levelOrderingProperty:null,levelOrderingProperty:function(a){if(arguments.length===1){this._levelOrderingProperty=a;return a}else{return this._levelOrderingProperty}},$type:new $.ig.Type("Level",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("Measure","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(a){if(arguments.length===1){this._name=a;return a}else{return this._name}},_uniqueName:null,uniqueName:function(a){if(arguments.length===1){this._uniqueName=a;return a}else{return this._uniqueName}},_caption:null,caption:function(a){if(arguments.length===1){this._caption=a;return a}else{return this._caption}},_description:null,description:function(a){if(arguments.length===1){this._description=a;return a}else{return this._description}},_measureGroupName:null,measureGroupName:function(a){if(arguments.length===1){this._measureGroupName=a;return a}else{return this._measureGroupName}},_aggregatorType:null,aggregatorType:function(a){if(arguments.length===1){this._aggregatorType=a;return a}else{return this._aggregatorType}},_defaultFormatString:null,defaultFormatString:function(a){if(arguments.length===1){this._defaultFormatString=a;return a}else{return this._defaultFormatString}},_measureDisplayFolder:null,measureDisplayFolder:function(a){if(arguments.length===1){this._measureDisplayFolder=a;return a}else{return this._measureDisplayFolder}},$type:new $.ig.Type("Measure",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("MeasureGroupDimension","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_cubeName:null,cubeName:function(a){if(arguments.length===1){this._cubeName=a;return a}else{return this._cubeName}},_catalogName:null,catalogName:function(a){if(arguments.length===1){this._catalogName=a;return a}else{return this._catalogName}},_measureGroupName:null,measureGroupName:function(a){if(arguments.length===1){this._measureGroupName=a;return a}else{return this._measureGroupName}},_dimensionUniqueName:null,dimensionUniqueName:function(a){if(arguments.length===1){this._dimensionUniqueName=a;return a}else{return this._dimensionUniqueName}},_measureGroupCardinality:null,measureGroupCardinality:function(a){if(arguments.length===1){this._measureGroupCardinality=a;return a}else{return this._measureGroupCardinality}},_dimensionCardinality:null,dimensionCardinality:function(a){if(arguments.length===1){this._dimensionCardinality=a;return a}else{return this._dimensionCardinality}},_isDimensionVisible:null,isDimensionVisible:function(a){if(arguments.length===1){this._isDimensionVisible=a;return a}else{return this._isDimensionVisible}},_isFactDimension:null,isFactDimension:function(a){if(arguments.length===1){this._isFactDimension=a;return a}else{return this._isFactDimension}},_dimensionPath:null,dimensionPath:function(a){if(arguments.length===1){this._dimensionPath=a;return a}else{return this._dimensionPath}},_dimensionGranularity:null,dimensionGranularity:function(a){if(arguments.length===1){this._dimensionGranularity=a;return a}else{return this._dimensionGranularity}},$type:new $.ig.Type("MeasureGroupDimension",$.ig.Object.prototype.$type)},true);$.ig.util.defType("Member","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_cubeName:null,cubeName:function(a){if(arguments.length===1){this._cubeName=a;return a}else{return this._cubeName}},_catalogName:null,catalogName:function(a){if(arguments.length===1){this._catalogName=a;return a}else{return this._catalogName}},_dimensionUniqueName:null,dimensionUniqueName:function(a){if(arguments.length===1){this._dimensionUniqueName=a;return a}else{return this._dimensionUniqueName}},_hierarchyUniqueName:null,hierarchyUniqueName:function(a){if(arguments.length===1){this._hierarchyUniqueName=a;return a}else{return this._hierarchyUniqueName}},_levelUniqueName:null,levelUniqueName:function(a){if(arguments.length===1){this._levelUniqueName=a;return a}else{return this._levelUniqueName}},_levelDepth:null,levelDepth:function(a){if(arguments.length===1){this._levelDepth=a;return a}else{return this._levelDepth}},_name:null,name:function(a){if(arguments.length===1){this._name=a;return a}else{return this._name}},_uniqueName:null,uniqueName:function(a){if(arguments.length===1){this._uniqueName=a;return a}else{return this._uniqueName}},_memberType:null,memberType:function(a){if(arguments.length===1){this._memberType=a;return a}else{return this._memberType}},_caption:null,caption:function(a){if(arguments.length===1){this._caption=a;return a}else{return this._caption}},_childrenCardinality:null,childrenCardinality:function(a){if(arguments.length===1){this._childrenCardinality=a;return a}else{return this._childrenCardinality}},_parentLevel:null,parentLevel:function(a){if(arguments.length===1){this._parentLevel=a;return a}else{return this._parentLevel}},_parentUniqueName:null,parentUniqueName:function(a){if(arguments.length===1){this._parentUniqueName=a;return a}else{return this._parentUniqueName}},_description:null,description:function(a){if(arguments.length===1){this._description=a;return a}else{return this._description}},_scope:null,scope:function(a){if(arguments.length===1){this._scope=a;return a}else{return this._scope}},$type:new $.ig.Type("Member",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("OlapResult","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_isEmpty:null,isEmpty:function(a){if(arguments.length===1){this._isEmpty=a;return a}else{return this._isEmpty}},_axes:null,axes:function(a){if(arguments.length===1){this._axes=a;return a}else{return this._axes}},_cells:null,cells:function(a){if(arguments.length===1){this._cells=a;return a}else{return this._cells}},$type:new $.ig.Type("OlapResult",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapResultAxis","Object",{init:function(a,b){$.ig.Object.prototype.init.call(this);this.tuples(a.toList$1($.ig.OlapResultTuple.prototype.$type));this.tupleSize(b);this.positionResolver(new $.ig.PositionResolver$2(String,$.ig.Object.prototype.$type,a,b))},_positionResolver:null,positionResolver:function(a){if(arguments.length===1){this._positionResolver=a;return a}else{return this._positionResolver}},clone:function(){var $self=this;var a=new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0);var c=this.tuples().getEnumerator();while(c.moveNext()){var b=c.current();a.add(b.clone())}return function(){var $ret=new $.ig.OlapResultAxis(a,$self.tupleSize());$ret.name($self.name());return $ret}()},_name:null,name:function(a){if(arguments.length===1){this._name=a;return a}else{return this._name}},_tupleSize:null,tupleSize:function(a){if(arguments.length===1){this._tupleSize=a;return a}else{return this._tupleSize}},_tuples:null,tuples:function(a){if(arguments.length===1){this._tuples=a;return a}else{return this._tuples}},$type:new $.ig.Type("OlapResultAxis",$.ig.Object.prototype.$type)},true);$.ig.util.defType("IPosition$2","Object",{$type:new $.ig.Type("IPosition$2",null)},true);$.ig.util.defType("OlapResultTuple","Object",{init:function(a){$.ig.Object.prototype.init.call(this);this.members(new $.ig.ReadOnlyCollection$1($.ig.OlapResultAxisMember.prototype.$type,1,a))},_members:null,members:function(a){if(arguments.length===1){this._members=a;return a}else{return this._members}},getItems:function(){return this.members()},itemsCount:function(){return this.members().count()},indexOf:function(a){return this.members().indexOf(a)},item:function(b){return this.members().item(b)},isEmpty:function(){return false},clone:function(){var a=new $.ig.List$1($.ig.OlapResultAxisMember.prototype.$type,0);var c=this.members().getEnumerator();while(c.moveNext()){var b=c.current();a.add(b.clone())}var d=new $.ig.OlapResultTuple(a);var f=a.getEnumerator();while(f.moveNext()){var e=f.current();e.position(d)}return d},$type:new $.ig.Type("OlapResultTuple",$.ig.Object.prototype.$type,[$.ig.IPosition$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type)])},true);$.ig.util.defType("IPositionItem$2","Object",{$type:new $.ig.Type("IPositionItem$2",null)},true);$.ig.util.defType("IHierarchicalPositionItem$2","Object",{$type:new $.ig.Type("IHierarchicalPositionItem$2",null,[$.ig.IPositionItem$2.prototype.$type.specialize(0,1)])},true);$.ig.util.defType("OlapResultAxisMember","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.properties(new $.ig.Dictionary$2(String,String,0));this.ordinal(-1)},_uniqueName:null,uniqueName:function(a){if(arguments.length===1){this._uniqueName=a;return a}else{return this._uniqueName}},_caption:null,caption:function(a){if(arguments.length===1){this._caption=a;return a}else{return this._caption}},_levelUniqueName:null,levelUniqueName:function(a){if(arguments.length===1){this._levelUniqueName=a;return a}else{return this._levelUniqueName}},_hierarchyUniqueName:null,hierarchyUniqueName:function(a){if(arguments.length===1){this._hierarchyUniqueName=a;return a}else{return this._hierarchyUniqueName}},_levelNumber:null,levelNumber:function(a){if(arguments.length===1){this._levelNumber=a;return a}else{return this._levelNumber}},_displayInfo:null,displayInfo:function(a){if(arguments.length===1){this._displayInfo=a;return a}else{return this._displayInfo}},childCount:function(){return this.displayInfo()&~65536&~131072},drilledDown:function(){return(this.displayInfo()&65536)==65536},parentSameAsPrev:function(){return(this.displayInfo()&131072)==131072},_properties:null,properties:function(a){if(arguments.length===1){this._properties=a;return a}else{return this._properties}},_position:null,position:function(a){if(arguments.length===1){this._position=a;return a}else{return this._position}},key:function(){return this.uniqueName()},sortKey:function(){if(this.ordinal()>-1){return this.ordinal()}var b=parseFloat(this.caption());if(!isNaN(b)){return b}return this.caption()},_ordinal:null,ordinal:function(a){if(arguments.length===1){this._ordinal=a;return a}else{return this._ordinal}},hierarchyKey:function(){return this.hierarchyUniqueName()},hierarchyLevelKey:function(){return this.levelUniqueName()},parentKey:function(){var $self=this;var b;(function(){var $ret=$self.properties().tryGetValue("PARENT_UNIQUE_NAME",b);b=$ret.value;return $ret.ret})();return b},depth:function(){return this.levelNumber()},isExpandable:function(){return this.childCount()>0},clone:function(){var a=new $.ig.OlapResultAxisMember;a.caption(this.caption());a.displayInfo(this.displayInfo());a.hierarchyUniqueName(this.hierarchyUniqueName());a.levelNumber(this.levelNumber());a.levelUniqueName(this.levelUniqueName());a.ordinal(this.ordinal());var c=this.properties().getEnumerator();while(c.moveNext()){var b=c.current();a.properties().add(b.key(),b.value())}a.uniqueName(this.uniqueName());a.position(this.position());return a},$type:new $.ig.Type("OlapResultAxisMember",$.ig.Object.prototype.$type,[$.ig.IHierarchicalPositionItem$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type)])},true);$.ig.util.defType("OlapResultCell","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.properties(new $.ig.Dictionary$2(String,$.ig.Object.prototype.$type,0))},_cellOrdinal:null,cellOrdinal:function(a){if(arguments.length===1){this._cellOrdinal=a;return a
}else{return this._cellOrdinal}},_properties:null,properties:function(a){if(arguments.length===1){this._properties=a;return a}else{return this._properties}},clone:function(){var $self=this;var a=function(){var $ret=new $.ig.OlapResultCell;$ret.cellOrdinal($self.cellOrdinal());return $ret}();var c=this.properties().getEnumerator();while(c.moveNext()){var b=c.current();a.properties().add(b.key(),b.value())}return a},$type:new $.ig.Type("OlapResultCell",$.ig.Object.prototype.$type)},true);$.ig.util.defType("LevelSpanManager","Object",{a:null,init:function(a){$.ig.Object.prototype.init.call(this);this.c(a);this.a=new Array(a)},_c:null,c:function(a){if(arguments.length===1){this._c=a;return a}else{return this._c}},f:function(a,b){var $self=this;var c=this.a[a];if(c==null){c=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.SpanSource.prototype.$type,0);this.a[a]=c}var d;if(!function(){var $ret=c.tryGetValue(b,d);d=$ret.value;return $ret.ret}()){d=new $.ig.SpanSource;if(b>0){var e;if(function(){var $ret=c.tryGetValue(b-1,e);e=$ret.value;return $ret.ret}()){d.d(e);e.j()}}c.add(b,d)}return d},$type:new $.ig.Type("LevelSpanManager",$.ig.Object.prototype.$type)},true);$.ig.util.defType("SpanSource","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.a=1},_d:null,d:function(a){if(arguments.length===1){this._d=a;return a}else{return this._d}},a:null,e:function(a){if(arguments.length===1){if(this.a!=a){var b=a-this.a;if(this.d()!=null){this.d().e(this.d().e()+b)}this.a=a}return a}else{return this.a}},b:null,j:function(){if(!this.b){this.b=true;this.e(this.e()+1)}},$type:new $.ig.Type("SpanSource",$.ig.Object.prototype.$type)},true);$.ig.util.defType("ITableViewHeadersFactory","Object",{$type:new $.ig.Type("ITableViewHeadersFactory",null)},true);$.ig.util.defType("TableViewHeadersFactory","Object",{_f:null,f:function(a){if(arguments.length===1){this._f=a;return a}else{return this._f}},_g:null,g:function(a){if(arguments.length===1){this._g=a;return a}else{return this._g}},_h:null,h:function(a){if(arguments.length===1){this._h=a;return a}else{return this._h}},_i:null,i:function(a){if(arguments.length===1){this._i=a;return a}else{return this._i}},_j:null,j:function(a){if(arguments.length===1){this._j=a;return a}else{return this._j}},init:function(a,b,c,d,e){$.ig.Object.prototype.init.call(this);this.f(a);this.g(b);this.h(c);this.i(d);this.j(e)},createHeaderCells:function(){var $self=this;if(this.f().positionResolver().hasUnregisterdPositions()){this.f().positionResolver().completeRegisterPositions()}var a=this.f().positionResolver().rootPositionInfo();var b=new $.ig.List$1($.ig.IList$1.prototype.$type.specialize($.ig.TableViewHeaderCellSource.prototype.$type),0);for(var c=0;c<a.positionSize();c++){b.add(new $.ig.List$1($.ig.TableViewHeaderCellSource.prototype.$type,0))}$.ig.TableViewHeadersFactory.prototype.u(a,a.positionItemDepthMin(),b,this.i(),this.j());var d=new $.ig.ArrayListCollection$1($.ig.OlapTableViewHeaderCell.prototype.$type);var e=0;for(var f=0;f<a.positionSize();f++){var g=b.item(f);var h=0;var i=0;var k=g.getEnumerator();while(k.moveNext()){var j=k.current();var l;var m;var n;var o;if(this.h()==$.ig.HeaderCellsLayoutOrientation.prototype.horizontal){l=h;m=j.p().e();n=j.r().positionItemDepth()+e;o=j.o().e()}else{n=h;o=j.p().e();l=j.r().positionItemDepth()+e;m=j.o().e()}var p=this.f().tuples().__inner[j.r().positionIndex()];var q=p.item(j.r().positionItemIndex());var r=this.f().tuples().__inner[j.s()];if(this.g().positionResolver().hasUnregisterdPositions()){this.g().positionResolver().completeRegisterPositions()}var s=this.g().positionResolver().getPositionIndex(r);var t=function(){var $ret=new $.ig.OlapTableViewHeaderCell;$ret.axisName($self.f().name());$ret.hierarchyNumber(j.r().positionItemIndex());$ret.levelNumber(j.r().positionItemDepth());$ret.caption(q.caption());$ret.columnIndex(l);$ret.columnSpan(m);$ret.isExpanded(j.u());$ret.isExpandable(j.v());$ret.tupleIndex(s);$ret.memberIndex(j.r().positionItemIndex());$ret.rowIndex(n);$ret.rowSpan(o);return $ret}();if(!j.l()){h=h+j.p().e()}i=Math.max(i,j.r().positionItemDepth());d.add(t)}e+=i+1}return d},u:function(a,b,c,d,e){var $self=this;var f=new $.ig.LevelSpanManager(a.positionSize());var i=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type,function(g){return g.positionItemDepth()==b}).getEnumerator();while(i.moveNext()){var h=i.current();var j;var k;(function(){var $ret=$.ig.TableViewHeadersFactory.prototype.w(a,h,c,f,d,e,j,k);j=$ret.headerCellSource;k=$ret.totalSpan;return $ret.ret})()}},v:function(a,b,c,d,e,f){var $self=this;var h=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type,function(g){return g.positionItemDepth()==a.positionItemDepthMin()}).toList$1($.ig.PositionItemInfo$2.prototype.$type);if(h.count()>0){var j=h.getEnumerator();while(j.moveNext()){var i=j.current();var k;var l;(function(){var $ret=$.ig.TableViewHeadersFactory.prototype.w(a,i,b,c,d,f,k,l);k=$ret.headerCellSource;l=$ret.totalSpan;return $ret.ret})();e.p().e(e.p().e()+l);if(k.l()){e.p().e(e.p().e()+1)}}e.p().e(e.p().e()-1)}else{f.add(a.positionIndex())}e.s(a.positionIndex())},w:function(a,b,c,d,e,f,g,h){var $self=this;var i=c.item(b.positionItemIndex());var j=d.f(b.positionItemIndex(),b.positionItemDepth());var k=function(){var $ret=new $.ig.TableViewHeaderCellSource;$ret.o(j);$ret.r(b);$ret.v(b.isExpandable());return $ret}();g=k;if(e){i.add(k);$.ig.TableViewHeadersFactory.prototype.v(b,c,d,true,k,f)}var l=null;if(b.isExpanded()){l=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type,function(m){return m.parentKey()==b.key()}).toList$1($.ig.PositionItemInfo$2.prototype.$type)}if(l!=null&&l.count()>0){var n=function(){var $ret=new $.ig.TableViewHeaderCellSource;$ret.l(true);$ret.r(b);$ret.v(b.isExpandable());return $ret}();i.add(n);var p=l.getEnumerator();while(p.moveNext()){var o=p.current();var q;var r;(function(){var $ret=$.ig.TableViewHeadersFactory.prototype.w(a,o,c,d,e,f,q,r);q=$ret.headerCellSource;r=$ret.totalSpan;return $ret.ret})();n.p().e(n.p().e()+r);if(q.l()){n.p().e(n.p().e()+1)}}n.p().e(n.p().e()-1);k.u(true);k.v(false);n.u(true);k.q(n);if(!e){i.add(k);$.ig.TableViewHeadersFactory.prototype.v(b,c,d,false,k,f)}n.s(k.s());g=n;h=k.p().e()+n.p().e()-1}else{if(b.isExpanded()){k.v(false)}if(!e){i.add(k);$.ig.TableViewHeadersFactory.prototype.v(b,c,d,false,k,f)}h=k.p().e()}return{headerCellSource:g,totalSpan:h}},$type:new $.ig.Type("TableViewHeadersFactory",$.ig.Object.prototype.$type,[$.ig.ITableViewHeadersFactory.prototype.$type])},true);$.ig.util.defType("TableCompactViewHeadersFactory","Object",{_f:null,f:function(a){if(arguments.length===1){this._f=a;return a}else{return this._f}},_g:null,g:function(a){if(arguments.length===1){this._g=a;return a}else{return this._g}},_h:null,h:function(a){if(arguments.length===1){this._h=a;return a}else{return this._h}},_i:null,i:function(a){if(arguments.length===1){this._i=a;return a}else{return this._i}},_j:null,j:function(a){if(arguments.length===1){this._j=a;return a}else{return this._j}},init:function(a,b,c,d,e){$.ig.Object.prototype.init.call(this);this.f(a);this.g(b);this.h(c);this.i(d);this.j(e)},createHeaderCells:function(){var $self=this;if(this.f().positionResolver().hasUnregisterdPositions()){this.f().positionResolver().completeRegisterPositions()}var a=this.f().positionResolver().rootPositionInfo();var b=new $.ig.List$1($.ig.IList$1.prototype.$type.specialize($.ig.TableViewHeaderCellSource.prototype.$type),0);for(var c=0;c<a.positionSize();c++){b.add(new $.ig.List$1($.ig.TableViewHeaderCellSource.prototype.$type,0))}$.ig.TableCompactViewHeadersFactory.prototype.u(a,a.positionItemDepthMin(),b,this.i(),this.j());var d=new $.ig.ArrayListCollection$1($.ig.OlapTableViewHeaderCell.prototype.$type);var e=0;for(var f=0;f<a.positionSize();f++){var g=b.item(f);var h=0;var i=0;var k=g.getEnumerator();while(k.moveNext()){var j=k.current();var l;var m;var n;var o;if(this.h()==$.ig.HeaderCellsLayoutOrientation.prototype.horizontal){l=h;m=j.p().e();n=e;o=1}else{n=h;o=j.p().e();l=e;m=1}var p=this.f().tuples().__inner[j.r().positionIndex()];var q=p.item(j.r().positionItemIndex());var r=this.f().tuples().__inner[j.s()];if(this.g().positionResolver().hasUnregisterdPositions()){this.g().positionResolver().completeRegisterPositions()}var s=this.g().positionResolver().getPositionIndex(r);var t=function(){var $ret=new $.ig.OlapTableViewHeaderCell;$ret.axisName($self.f().name());$ret.hierarchyNumber(j.r().positionItemIndex());$ret.levelNumber(j.r().positionItemDepth());$ret.caption(q.caption());$ret.columnIndex(l);$ret.columnSpan(m);$ret.isExpanded(j.u());$ret.isExpandable(j.v());$ret.tupleIndex(s);$ret.memberIndex(j.r().positionItemIndex());$ret.rowIndex(n);$ret.rowSpan(o);return $ret}();if(!j.l()){h=h+j.p().e()}d.add(t)}e+=i+1}return d},u:function(a,b,c,d,e){var $self=this;var f=new $.ig.LevelSpanManager(a.positionSize());var i=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type,function(g){return g.positionItemDepth()==b}).getEnumerator();while(i.moveNext()){var h=i.current();var j;var k;(function(){var $ret=$.ig.TableCompactViewHeadersFactory.prototype.w(a,h,c,f,d,e,j,k);j=$ret.headerCellSource;k=$ret.totalSpan;return $ret.ret})()}},v:function(a,b,c,d,e,f){var $self=this;var h=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type,function(g){return g.positionItemDepth()==a.positionItemDepthMin()}).toList$1($.ig.PositionItemInfo$2.prototype.$type);if(h.count()>0){var j=h.getEnumerator();while(j.moveNext()){var i=j.current();var k;var l;(function(){var $ret=$.ig.TableCompactViewHeadersFactory.prototype.w(a,i,b,c,d,f,k,l);k=$ret.headerCellSource;l=$ret.totalSpan;return $ret.ret})();e.p().e(e.p().e()+l);if(k.q()!=null){e.p().e(e.p().e()+1)}}e.p().e(e.p().e()-1)}else{f.add(a.positionIndex())}e.s(a.positionIndex())},w:function(a,b,c,d,e,f,g,h){var $self=this;var i=c.item(b.positionItemIndex());var j=d.f(b.positionItemIndex(),b.positionItemDepth());var k=function(){var $ret=new $.ig.TableViewHeaderCellSource;$ret.o(j);$ret.r(b);$ret.v(b.isExpandable());return $ret}();g=k;if(e){i.add(k);$.ig.TableCompactViewHeadersFactory.prototype.v(b,c,d,true,k,f)}var l=null;if(b.isExpanded()){l=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type,function(m){return m.parentKey()==b.key()}).toList$1($.ig.PositionItemInfo$2.prototype.$type)}if(l!=null&&l.count()>0){var n=function(){var $ret=new $.ig.TableViewHeaderCellSource;$ret.l(true);$ret.r(b);$ret.v(b.isExpandable());return $ret}();var p=l.getEnumerator();while(p.moveNext()){var o=p.current();var q;var r;(function(){var $ret=$.ig.TableCompactViewHeadersFactory.prototype.w(a,o,c,d,e,f,q,r);q=$ret.headerCellSource;r=$ret.totalSpan;return $ret.ret})();n.p().e(n.p().e()+r);if(q.q()!=null){n.p().e(n.p().e()+1)}}n.p().e(n.p().e()-1);k.u(true);k.v(true);k.q(n);if(!e){i.add(k);$.ig.TableCompactViewHeadersFactory.prototype.v(b,c,d,false,k,f)}n.s(k.s());h=k.p().e()+n.p().e()-1}else{if(b.isExpanded()){k.v(false)}if(!e){i.add(k);$.ig.TableCompactViewHeadersFactory.prototype.v(b,c,d,false,k,f)}h=k.p().e()}return{headerCellSource:g,totalSpan:h}},$type:new $.ig.Type("TableCompactViewHeadersFactory",$.ig.Object.prototype.$type,[$.ig.ITableViewHeadersFactory.prototype.$type])},true);$.ig.util.defType("TableViewHeaderCellSource","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.p(new $.ig.SpanSource);this.o(new $.ig.SpanSource)},_l:null,l:function(a){if(arguments.length===1){this._l=a;return a}else{return this._l}},_m:null,m:function(a){if(arguments.length===1){this._m=a;return a}else{return this._m}},_n:null,n:function(a){if(arguments.length===1){this._n=a;return a}else{return this._n}},_o:null,o:function(a){if(arguments.length===1){this._o=a;return a}else{return this._o}},_p:null,p:function(a){if(arguments.length===1){this._p=a;return a}else{return this._p}},_q:null,q:function(a){if(arguments.length===1){this._q=a;return a}else{return this._q}},_r:null,r:function(a){if(arguments.length===1){this._r=a;return a}else{return this._r}},_s:null,s:function(a){if(arguments.length===1){this._s=a;return a}else{return this._s}},_t:null,t:function(a){if(arguments.length===1){this._t=a;return a}else{return this._t}},_u:null,u:function(a){if(arguments.length===1){this._u=a;return a}else{return this._u}},_v:null,v:function(a){if(arguments.length===1){this._v=a;return a}else{return this._v}},$type:new $.ig.Type("TableViewHeaderCellSource",$.ig.Object.prototype.$type)},true);$.ig.util.defType("TableViewImpl","Object",{init:function(a,b,c,d){var $self=this;$.ig.Object.prototype.init.call(this);if(a==null){throw new $.ig.ArgumentNullException("result")}this.result(a);this.originalResult(a);if(d==null){this.viewSettings(new $.ig.TableViewSettings)}else{this.viewSettings(d)}this.hasColumns(b);this.hasRows(c);this.columnSortDirections(new $.ig.ArrayListCollection$1($.ig.TupleSortDirection.prototype.$type));this.columnSortDirections().collectionChanged=$.ig.Delegate.prototype.combine(this.columnSortDirections().collectionChanged,function(e,f){$self.u(true)});this.levelSortDirections(new $.ig.ArrayListCollection$1($.ig.LevelSortDirection.prototype.$type));this.levelSortDirections().collectionChanged=$.ig.Delegate.prototype.combine(this.levelSortDirections().collectionChanged,function(g,h){$self.u(true)});this.appliedColumnSortDirections(new $.ig.List$1($.ig.TupleSortDirection.prototype.$type,0));this.appliedLevelSortDirections(new $.ig.List$1($.ig.LevelSortDirection.prototype.$type,0));this.appliedSortDirectionsMap(new $.ig.Dictionary$2(String,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type)),0))},_viewSettings:null,viewSettings:function(a){if(arguments.length===1){this._viewSettings=a;return a}else{return this._viewSettings}},_result:null,result:function(a){if(arguments.length===1){this._result=a;return a}else{return this._result}},_originalResult:null,originalResult:function(a){if(arguments.length===1){this._originalResult=a;return a}else{return this._originalResult}},_hasRows:null,hasRows:function(a){if(arguments.length===1){this._hasRows=a;return a}else{return this._hasRows}},_hasColumns:null,hasColumns:function(a){if(arguments.length===1){this._hasColumns=a;return a}else{return this._hasColumns}},_r:null,r:function(a){if(arguments.length===1){this._r=a;return a}else{return this._r}},_s:null,s:function(a){if(arguments.length===1){this._s=a;return a}else{return this._s}},_t:null,t:function(a){if(arguments.length===1){this._t=a;return a}else{return this._t}},_u:null,u:function(a){if(arguments.length===1){this._u=a;return a}else{return this._u}},a:null,b:null,c:null,rowHeaders:function(a){if(arguments.length===1){this.a=a;return a}else{if(!this.t()||this.u()){this.initialize()}return this.a}},columnHeaders:function(a){if(arguments.length===1){this.b=a;return a}else{if(!this.t()||this.u()){this.initialize()}return this.b}},resultCells:function(a){if(arguments.length===1){this.c=a;return a}else{if(!this.t()||this.u()){this.initialize()}return this.c}},_columnSortDirections:null,columnSortDirections:function(a){if(arguments.length===1){this._columnSortDirections=a;return a}else{return this._columnSortDirections}},_levelSortDirections:null,levelSortDirections:function(a){if(arguments.length===1){this._levelSortDirections=a;return a}else{return this._levelSortDirections}},_appliedColumnSortDirections:null,appliedColumnSortDirections:function(a){if(arguments.length===1){this._appliedColumnSortDirections=a;return a}else{return this._appliedColumnSortDirections}},_appliedLevelSortDirections:null,appliedLevelSortDirections:function(a){if(arguments.length===1){this._appliedLevelSortDirections=a;return a}else{return this._appliedLevelSortDirections}},_appliedSortDirectionsMap:null,appliedSortDirectionsMap:function(a){if(arguments.length===1){this._appliedSortDirectionsMap=a;return a}else{return this._appliedSortDirectionsMap}},initialize:function(){var $self=this;this.r(null);this.s(null);this.rowHeaders(null);this.columnHeaders(null);this.resultCells(null);this.result(this.originalResult());if(this.result().isEmpty()){this.u(false);this.t(true);return}if(this.levelSortDirections().count()>0){var a=new $.ig.ResultHeaderSorter(this.result(),this.hasRows(),this.hasColumns(),this.levelSortDirections());this.result(a.m());this.appliedLevelSortDirections(a.r());this.appliedSortDirectionsMap(a.s())}else{this.appliedLevelSortDirections(new $.ig.List$1($.ig.LevelSortDirection.prototype.$type,0));this.appliedSortDirectionsMap(new $.ig.Dictionary$2(String,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type)),0))}if(this.hasRows()&&this.columnSortDirections().count()>0){if(this.appliedLevelSortDirections().count()>0){if(this.originalResult().axes().item(0).positionResolver().hasUnregisterdPositions()){this.originalResult().axes().item(0).positionResolver().completeRegisterPositions()}if(this.result().axes().item(0).positionResolver().hasUnregisterdPositions()){this.result().axes().item(0).positionResolver().completeRegisterPositions()}var b=new $.ig.List$1($.ig.TupleSortDirection.prototype.$type,2,this.columnSortDirections().count());var c=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Number.prototype.$type,1,this.appliedColumnSortDirections().count());var e=this.columnSortDirections().getEnumerator();while(e.moveNext()){var d=e.current();var f=this.originalResult().axes().item(0).tuples().__inner[d.tupleIndex()];var g=this.result().axes().item(0).positionResolver().getPositionIndex(f);var h=new $.ig.TupleSortDirection;h.sortDirection(d.sortDirection());h.tupleIndex(g);h.comparer(d.comparer());b.add(h);c.item(g,d.tupleIndex())}var i=new $.ig.ResultColumnValueSorter(this.result(),this.hasRows(),this.hasColumns(),b);this.result(i.m());var k=i.q().getEnumerator();while(k.moveNext()){var j=k.current();j.tupleIndex(c.item(j.tupleIndex()))}this.appliedColumnSortDirections(i.q())}else{var l=new $.ig.ResultColumnValueSorter(this.result(),this.hasRows(),this.hasColumns(),this.columnSortDirections());this.result(l.m());this.appliedColumnSortDirections(l.q())}}else{this.appliedColumnSortDirections(new $.ig.List$1($.ig.TupleSortDirection.prototype.$type,0))}var m=0;var n=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Number.prototype.$type,0);var o=1;if(this.hasColumns()){var p=this.result().axes().item(m);var q=this.originalResult().axes().item(m);var r=this.ap(p,q);for(var s=0;s<r.count();s++){var t=r.item(s);n.add(t,s)}m++;o=p.tuples().count()}var u=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Number.prototype.$type,0);if(this.hasRows()){var v=this.result().axes().item(m);var w=this.originalResult().axes().item(m);var x=this.aq(v,w);for(var y=0;y<x.count();y++){var z=x.item(y);u.add(z,y)}}var aa=new $.ig.ArrayListCollection$1($.ig.OlapTableViewResultCell.prototype.$type);for(var ab=0;ab<this.result().cells().count();ab++){var ac=this.result().cells().item(ab);var ad;(function(){var $ret=ac.properties().tryGetValue("Value",ad);ad=$ret.value;return $ret.ret})();var ae;(function(){var $ret=ac.properties().tryGetValue("FmtValue",ae);ae=$ret.value;return $ret.ret})();var af=ac.cellOrdinal();if(this.hasColumns()){var ag=af%o;var ah=n.item(ag);if(ag!=ah){var ai=$.ig.intDivide(af,o);af=ai*o+ah}}if(this.hasRows()){var aj=$.ig.intDivide(af,o);var ak=u.item(aj);if(aj!=ak){var al=af%o;af=ak*o+al}}aa.add(function(){var $ret=new $.ig.OlapTableViewResultCell;$ret.value(ad);$ret.formattedValue(ae);$ret.cellOrdinal(af);$ret.resultCellIndex(ab);return $ret}());this.resultCells(aa)}this.u(false);this.t(true)},ap:function(a,b){var c=new $.ig.List$1($.ig.Number.prototype.$type,0);if(this.viewSettings().h()){this.s(new $.ig.TableCompactViewHeadersFactory(a,b,$.ig.HeaderCellsLayoutOrientation.prototype.horizontal,this.viewSettings().e(),c))}else{this.s(new $.ig.TableViewHeadersFactory(a,b,$.ig.HeaderCellsLayoutOrientation.prototype.horizontal,this.viewSettings().e(),c))}this.columnHeaders(this.s().createHeaderCells());return c},aq:function(a,b){var c=new $.ig.List$1($.ig.Number.prototype.$type,0);if(this.viewSettings().g()){this.r(new $.ig.TableCompactViewHeadersFactory(a,b,$.ig.HeaderCellsLayoutOrientation.prototype.vertical,this.viewSettings().f(),c))}else{this.r(new $.ig.TableViewHeadersFactory(a,b,$.ig.HeaderCellsLayoutOrientation.prototype.vertical,this.viewSettings().f(),c))}this.rowHeaders(this.r().createHeaderCells());return c},$type:new $.ig.Type("TableViewImpl",$.ig.Object.prototype.$type)},true);$.ig.util.defType("TableViewSettings","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_e:null,e:function(a){if(arguments.length===1){this._e=a;return a}else{return this._e}},_f:null,f:function(a){if(arguments.length===1){this._f=a;return a}else{return this._f}},_g:null,g:function(a){if(arguments.length===1){this._g=a;return a}else{return this._g}},_h:null,h:function(a){if(arguments.length===1){this._h=a;return a}else{return this._h}},$type:new $.ig.Type("TableViewSettings",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapResultView","Object",{init:function(a,b,c,d){$.ig.Object.prototype.init.call(this);if(a==null){throw new $.ig.ArgumentNullException("result")}this.result(a);this.visibleResult(b);this.hasColumns(c);this.hasRows(d)},_result:null,result:function(a){if(arguments.length===1){this._result=a;return a}else{return this._result}},_visibleResult:null,visibleResult:function(a){if(arguments.length===1){this._visibleResult=a;return a}else{return this._visibleResult}},_hasRows:null,hasRows:function(a){if(arguments.length===1){this._hasRows=a;return a}else{return this._hasRows}},_hasColumns:null,hasColumns:function(a){if(arguments.length===1){this._hasColumns=a;return a}else{return this._hasColumns}},i:function(a,b,c,d,e){var $self=this;var f=0;var g=null;var h=1;if(e){g=a.axes().item(f);h=g.tuples().count();f++}var i=null;var j=1;if(d){i=a.axes().item(f);j=i.tuples().count()}var k=1;if(b!=null){k=b.tuples().count()}var l=1;if(c!=null){l=c.tuples().count()}var m=new Array(k*l);if(a.cells().count()>0){var n=0;var o=a.cells().item(n);for(var p=0;p<j;p++){var q=$.ig.intDivide(o.cellOrdinal(),h);if(q!=p){continue}var r=0;if(b!=null&&i!=null){var s=i.tuples().__inner[p];r=b.positionResolver().getPositionIndex(s)}if(r==-1){while(q==p){n++;if(n<a.cells().count()){o=a.cells().item(n);q=$.ig.intDivide(o.cellOrdinal(),h)}else{break}}continue}var t=o.cellOrdinal()%h;for(var u=0;u<h;u++){if(t!=u){continue}var v=-1;if(c==null||g==null){v=0}else{var w=g.tuples().__inner[u];v=c.positionResolver().getPositionIndex(w)}if(v==-1){n++;if(n<a.cells().count()){o=a.cells().item(n);q=$.ig.intDivide(o.cellOrdinal(),h);if(q>p){break}t=o.cellOrdinal()%h}continue}var x=o.clone();x.cellOrdinal(r*l+v);m[x.cellOrdinal()]=x;n++;if(n<a.cells().count()){o=a.cells().item(n);q=$.ig.intDivide(o.cellOrdinal(),h);if(q>p){break}t=o.cellOrdinal()%h}}}}var y=new $.ig.List$1($.ig.OlapResultCell.prototype.$type,0);for(var aa=0;aa<m.length;aa++){var z=m[aa];if(z!=null){y.add(z)}}var ab=new $.ig.List$1($.ig.OlapResultAxis.prototype.$type,0);if(e){ab.add(c)}if(d){ab.add(b)}return function(){var $ret=new $.ig.OlapResult;$ret.axes(ab);$ret.cells(y);$ret.isEmpty(!d&&!e&&y.count()==0);return $ret}()},j:function(a,b,c){var $self=this;var d=new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0);if(c){for(var e=0;e<b.count();e++){var f=b.item(e);d.add(a.tuples().__inner[f].clone())}}else{var g=0;var h=b.item(g);for(var i=0;i<a.tuples().count();i++){if(i==h){g++;if(g<b.count()){h=b.item(g)}}else{d.add(a.tuples().__inner[i].clone())}}}var j=function(){var $ret=new $.ig.OlapResultAxis(d,a.tupleSize());$ret.name(a.name());return $ret}();return j},expandTupleMember:function(a,b,c){var $self=this;var d=this.o(a,b,c,this.visibleResult());if(d==null){return null}if(!d.isExpandable()){throw new $.ig.InvalidOperationException(1,"The position is not expandable.")}if(d.isExpanded()){return this}var f=this.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(e){return e.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var h=this.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(g){return g.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var i=a=="Axis0"&&!this.hasColumns()||a=="Axis1"&&this.hasRows();var j=f.tuples().__inner[b];var k=h.positionResolver().getPositionIndex(j);var l=this.n(a,k,c,this.result());if(l.count()==0){return null}var m=null;var n=null;if(i){m=this.j(h,l,true);if(this.hasColumns()){n=this.visibleResult().axes().item(0)}}else{n=this.j(h,l,true);if(this.hasRows()){m=this.visibleResult().axes().item(1)}}var o=this.i(this.result(),m,n,this.hasRows(),this.hasColumns());var p=this.k(this.visibleResult(),o,h.name());return new $.ig.OlapResultView(this.result(),p,this.hasColumns(),this.hasRows())},collapseTupleMember:function(a,b,c){var $self=this;var d=this.o(a,b,c,this.visibleResult());if(d==null){return null}if(!d.isExpandable()){throw new $.ig.InvalidOperationException(1,"The position is not expandable.")}if(!d.isExpanded()){return this}var e=this.n(a,b,c,this.visibleResult());if(e.count()==0){return null}var g=this.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(f){return f.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var h=a=="Axis0"&&!this.hasColumns()||a=="Axis1"&&this.hasRows();var i=null;var j=null;if(h){i=this.j(g,e,false);if(this.hasColumns()){j=this.visibleResult().axes().item(0)}}else{j=this.j(g,e,false);if(this.hasRows()){i=this.visibleResult().axes().item(1)}}var l=this.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(k){return k.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var m=l.tuples().__inner[b];if(l.positionResolver().hasUnregisterdPositions()){l.positionResolver().completeRegisterPositions()}var n=l.positionResolver().getHostPositionItemInfo(m,c);var o=n.item(m.item(c).key());o.isExpanded(false);var p=this.i(this.visibleResult(),i,j,this.hasRows(),this.hasColumns());return new $.ig.OlapResultView(this.result(),p,this.hasColumns(),this.hasRows())},extend:function(a,b){var $self=this;var d=this.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(c){return c.name()==b}).first$1($.ig.OlapResultAxis.prototype.$type);var e=b=="Axis0"&&!this.hasColumns()||b=="Axis1"&&this.hasRows();var f=null;var g=null;var h=null;var i=false;if(e){f=d;if(this.hasColumns()){g=this.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(j){return j.name()!=b}).first$1($.ig.OlapResultAxis.prototype.$type);h=this.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(k){return k.name()!=b}).first$1($.ig.OlapResultAxis.prototype.$type);i=g.tuples().count()!=h.tuples().count()}}else{g=d;if(this.hasRows()){f=this.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(l){return l.name()!=b}).first$1($.ig.OlapResultAxis.prototype.$type);h=this.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(m){return m.name()!=b}).first$1($.ig.OlapResultAxis.prototype.$type);i=f.tuples().count()!=h.tuples().count()}}var n=null;var o=null;if(h!=null&&i){var p=this.i(this.result(),f,g,this.hasRows(),this.hasColumns());n=this.k(p,a,b);o=this.k(p,a,b)}else{n=this.k(this.result(),a,b);o=this.k(this.visibleResult(),a,b)}return new $.ig.OlapResultView(n,o,this.hasColumns(),this.hasRows())},k:function(a,b,c){var $self=this;var e=a.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(d){return d.name()==c}).first$1($.ig.OlapResultAxis.prototype.$type);if(e==null){return null}var g=b.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(f){return f.name()==c}).first$1($.ig.OlapResultAxis.prototype.$type);var h=c=="Axis0"&&!this.hasColumns()||c=="Axis1"&&this.hasRows();var i=null;var j=null;if(h){if(this.hasColumns()){i=a.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(k){return k.name()!=c}).first$1($.ig.OlapResultAxis.prototype.$type);j=b.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(l){return l.name()!=c}).first$1($.ig.OlapResultAxis.prototype.$type)}}else{if(this.hasRows()){i=a.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(m){return m.name()!=c}).first$1($.ig.OlapResultAxis.prototype.$type);j=b.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(n){return n.name()!=c}).first$1($.ig.OlapResultAxis.prototype.$type)}}var o=new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0);var q=e.tuples().getEnumerator();while(q.moveNext()){var p=q.current();o.add(p.clone())}var s=g.tuples().getEnumerator();while(s.moveNext()){var r=s.current();o.add(r)}var t=g.tuples().count();var u=j!=null&&j.tuples().count()>0?j.tuples().count():1;var v=e.tuples().count()>0?e.tuples().count():1;var w=i!=null&&i.tuples().count()>0?i.tuples().count():1;var x=v*w;var y=new $.ig.List$1($.ig.OlapResultCell.prototype.$type,0);if(h){var aa=a.cells().getEnumerator();while(aa.moveNext()){var z=aa.current();y.add(z.clone())}var ac=b.cells().getEnumerator();while(ac.moveNext()){var ab=ac.current();var ad=ab.clone();var ae=this.l(ad.cellOrdinal(),i,j);var af=$.ig.intDivide(ad.cellOrdinal(),u);ad.cellOrdinal(af*w+ae);ad.cellOrdinal(ad.cellOrdinal()+x);y.add(ad)}}else{var ag=new Array(w*(v+t));var ai=a.cells().getEnumerator();while(ai.moveNext()){var ah=ai.current();var aj=ah.clone();var ak=$.ig.intDivide(aj.cellOrdinal(),v);aj.cellOrdinal(aj.cellOrdinal()+ak*t);ag[aj.cellOrdinal()]=aj}var am=b.cells().getEnumerator();while(am.moveNext()){var al=am.current();var an=al.clone();var ao=this.m(an.cellOrdinal(),i,j,t);var ap=$.ig.intDivide(al.cellOrdinal(),t);if(ao!=ap){}var aq=an.cellOrdinal()%t;an.cellOrdinal(ao*t+aq);an.cellOrdinal(an.cellOrdinal()+(ao+1)*v);ag[an.cellOrdinal()]=an}for(var as=0;as<ag.length;as++){var ar=ag[as];if(ar!=null){y.add(ar)}}}var at=new $.ig.OlapResult;at.axes(new $.ig.List$1($.ig.OlapResultAxis.prototype.$type,0));var au=function(){var $ret=new $.ig.OlapResultAxis(o,e.tupleSize());$ret.name(e.name());return $ret}();if(h){if(i!=null){at.axes().add(i)}at.axes().add(au)}else{at.axes().add(au);if(i!=null){at.axes().add(i)}}at.cells(y);at.isEmpty(!this.hasColumns()&&!this.hasRows()&&y.count()==0);return at},l:function(a,b,c){if(c==null){return 0}var d=a%c.tuples().count();var e=c.tuples().__inner[d];var f=b.positionResolver().getPositionIndex(e);return f},m:function(a,b,c,d){if(c==null){return 0}var e=$.ig.intDivide(a,d);var f=c.tuples().__inner[e];var g=b.positionResolver().getPositionIndex(f);return g},n:function(a,b,c,d){var $self=this;var f=d.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(e){return e.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var g=f.tuples().__inner[b];var h=g.item(c);if(f.positionResolver().hasUnregisterdPositions()){f.positionResolver().completeRegisterPositions()}var i=f.positionResolver().n(h,$.ig.ListSortDirection.prototype.ascending);if(i!=null){return i.toList$1($.ig.Number.prototype.$type)}return null},o:function(a,b,c,d){var $self=this;var f=d.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(e){return e.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var g=f.tuples().__inner[b];var h=g.item(c);if(f.positionResolver().hasUnregisterdPositions()){f.positionResolver().completeRegisterPositions()}var i=f.positionResolver().getHostPositionItemInfo(g,c);var j;(function(){var $ret=i.tryGetValue(h.key(),j);j=$ret.value;return $ret.ret})();return j},$type:new $.ig.Type("OlapResultView",$.ig.Object.prototype.$type)},true);$.ig.util.defType("ResultViewHelper","Object",{init:function(){$.ig.Object.prototype.init.call(this)},a:function(a,b,c,d,e){$.ig.ResultViewHelper.prototype.c(a,b,c,true,e.visibleResult());$.ig.ResultViewHelper.prototype.c(a,b,c,true,e.result())},b:function(a,b,c){var $self=this;var e=b.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(d){return d.name()==a
}).first$1($.ig.OlapResultAxis.prototype.$type);var g=c.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(f){return f.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);$.ig.ResultViewHelper.prototype.e(e.positionResolver(),g.positionResolver());var i=b.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(h){return h.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var k=c.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(j){return j.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);$.ig.ResultViewHelper.prototype.e(i.positionResolver(),k.positionResolver())},c:function(a,b,c,d,e){var $self=this;var g=e.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(f){return f.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);if(g.positionResolver().hasUnregisterdPositions()){g.positionResolver().completeRegisterPositions()}$.ig.ResultViewHelper.prototype.d(b,c,d,g.positionResolver())},d:function(a,b,c,d){if(d.hasUnregisterdPositions()){d.completeRegisterPositions()}var e=d.positions().__inner[a];var f=d.getHostPositionItemInfo(e,b);var g=f.item(e.item(b).key());g.isExpanded(c)},e:function(a,b){if(a.hasUnregisterdPositions()){a.completeRegisterPositions()}if(b.hasUnregisterdPositions()){b.completeRegisterPositions()}$.ig.ResultViewHelper.prototype.f(a.rootPositionInfo(),b.rootPositionInfo())},f:function(a,b){var $self=this;var d=a.getEnumerator();while(d.moveNext()){var c=d.current();var e=c.value();var f;if(function(){var $ret=b.tryGetValue(c.key(),f);f=$ret.value;return $ret.ret}()){if(e.isExpanded()!=true){f.isExpanded(false)}if(f.count()>0){$.ig.ResultViewHelper.prototype.f(e,f)}}}},$type:new $.ig.Type("ResultViewHelper",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapTableViewHeaderCell","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.columnSpan(1);this.rowSpan(1)},_id:null,id:function(a){if(arguments.length===1){this._id=a;return a}else{return this._id}},_caption:null,caption:function(a){if(arguments.length===1){this._caption=a;return a}else{return this._caption}},_isExpanded:null,isExpanded:function(a){if(arguments.length===1){this._isExpanded=a;return a}else{return this._isExpanded}},_isExpandable:null,isExpandable:function(a){if(arguments.length===1){this._isExpandable=a;return a}else{return this._isExpandable}},_rowIndex:null,rowIndex:function(a){if(arguments.length===1){this._rowIndex=a;return a}else{return this._rowIndex}},_rowSpan:null,rowSpan:function(a){if(arguments.length===1){this._rowSpan=a;return a}else{return this._rowSpan}},_columnIndex:null,columnIndex:function(a){if(arguments.length===1){this._columnIndex=a;return a}else{return this._columnIndex}},_columnSpan:null,columnSpan:function(a){if(arguments.length===1){this._columnSpan=a;return a}else{return this._columnSpan}},_axisName:null,axisName:function(a){if(arguments.length===1){this._axisName=a;return a}else{return this._axisName}},_tupleIndex:null,tupleIndex:function(a){if(arguments.length===1){this._tupleIndex=a;return a}else{return this._tupleIndex}},_memberIndex:null,memberIndex:function(a){if(arguments.length===1){this._memberIndex=a;return a}else{return this._memberIndex}},_levelNumber:null,levelNumber:function(a){if(arguments.length===1){this._levelNumber=a;return a}else{return this._levelNumber}},_hierarchyNumber:null,hierarchyNumber:function(a){if(arguments.length===1){this._hierarchyNumber=a;return a}else{return this._hierarchyNumber}},toString:function(){return this.caption()},$type:new $.ig.Type("OlapTableViewHeaderCell",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapTableViewResultCell","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_value:null,value:function(a){if(arguments.length===1){this._value=a;return a}else{return this._value}},_formattedValue:null,formattedValue:function(a){if(arguments.length===1){this._formattedValue=a;return a}else{return this._formattedValue}},_cellOrdinal:null,cellOrdinal:function(a){if(arguments.length===1){this._cellOrdinal=a;return a}else{return this._cellOrdinal}},_resultCellIndex:null,resultCellIndex:function(a){if(arguments.length===1){this._resultCellIndex=a;return a}else{return this._resultCellIndex}},$type:new $.ig.Type("OlapTableViewResultCell",$.ig.Object.prototype.$type)},true);$.ig.util.defType("ArrayListCollection$1","Object",{$t:null,init:function($t){this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.Object.prototype.init.call(this);this.inner(new $.ig.Array)},_inner:null,inner:function(a){if(arguments.length===1){this._inner=a;return a}else{return this._inner}},collectionChanged:null,indexOf:function(a){return this.inner().indexOf(a)},insert:function(a,b){this.inner().insert(a,b);this.e(a,b)},removeAt:function(a){var b=this.inner()[a];this.inner().removeAt(a);this.f(a,b)},item:function(b,a){if(arguments.length===2){this.inner()[b]=a;return a}else{return this.inner()[b]}},add:function(a){this.inner().add(a);this.e(this.inner().length-1,a)},clear:function(){this.inner().clear();this.g()},contains:function(a){return this.inner().contains(a)},copyTo:function(a,b){throw new $.ig.NotImplementedException},count:function(){return this.inner().length},isReadOnly:function(){return false},remove:function(a){var b=this.inner().indexOf(a);if(b>=0){this.inner().removeAt(b);this.f(b,a);return true}return false},d:function(){var $self=this;var $iter=function(){return function(){return{$state:0,$this:$self,$current:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$a=0;this.$state=5;break;case 2:this.$current=this.$this.inner()[this.$a];this.$state=3;return true;case 3:this.$state=4;break;case 4:this.$a++;this.$state=5;break;case 5:if(this.$a<this.$this.inner().length){this.$state=2}else{this.$state=6}break;case 6:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}()};return new $.ig.GenericEnumerable$1(this.$t,$iter)},getEnumerator:function(){return this.d().getEnumerator()},e:function(a,b){if(this.collectionChanged!=null){var c=new $.ig.NotifyCollectionChangedEventArgs(1,$.ig.NotifyCollectionChangedAction.prototype.add,b,a);this.collectionChanged(this,c)}},f:function(a,b){if(this.collectionChanged!=null){var c=new $.ig.NotifyCollectionChangedEventArgs(1,$.ig.NotifyCollectionChangedAction.prototype.remove,b,a);this.collectionChanged(this,c)}},g:function(){if(this.collectionChanged!=null){var a=new $.ig.NotifyCollectionChangedEventArgs(1,$.ig.NotifyCollectionChangedAction.prototype.reset,null,-1);this.collectionChanged(this,a)}},$type:new $.ig.Type("ArrayListCollection$1",$.ig.Object.prototype.$type,[$.ig.IList$1.prototype.$type.specialize(0),$.ig.INotifyCollectionChanged.prototype.$type])},true);$.ig.util.defType("IOlapDataSource","Object",{$type:new $.ig.Type("IOlapDataSource",null)},true);$.ig.util.defType("MeasureList","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(a){if(arguments.length===1){this._name=a;return a}else{return this._name}},_caption:null,caption:function(a){if(arguments.length===1){this._caption=a;return a}else{return this._caption}},uniqueName:function(a){if(arguments.length===1){this.name(a);return a}else{return this.name()}},_measures:null,measures:function(a){if(arguments.length===1){this._measures=a;return a}else{return this._measures}},$type:new $.ig.Type("MeasureList",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("OlapMetadataTreeItem","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_item:null,item:function(a){if(arguments.length===1){this._item=a;return a}else{return this._item}},_type:null,type:function(a){if(arguments.length===1){this._type=a;return a}else{return this._type}},_caption:null,caption:function(a){if(arguments.length===1){this._caption=a;return a}else{return this._caption}},_children:null,children:function(a){if(arguments.length===1){this._children=a;return a}else{return this._children}},e:function(a){if(this.children()==null){this.children(new Array(1));this.children()[0]=a;return}var b=new Array(this.children().length+1);$.ig.Array.prototype.copy(this.children(),0,b,0,this.children().length);b[this.children().length]=a;this.children(b)},$type:new $.ig.Type("OlapMetadataTreeItem",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MetaTreeHelper","Object",{init:function(){$.ig.Object.prototype.init.call(this)},getDimensionMetaItems:function(a,b,c,d,e){var $self=this;var f=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);var g=new $.ig.HierarchyItemPosition;g.c(0);g.d(0);var h=new $.ig.List$1($.ig.Hierarchy.prototype.$type,0);var j=c.getEnumerator();while(j.moveNext()){var i=j.current();h.add(i)}var k=new $.ig.List$1($.ig.Level.prototype.$type,0);var m=d.getEnumerator();while(m.moveNext()){var l=m.current();k.add(l)}var o=a.getEnumerator();while(o.moveNext()){var n=o.current();var p=$.ig.MetaTreeHelper.prototype.i(h,k,n,g);if(n.dimensionType()!=$.ig.DimensionType.prototype.measure){var q=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.dimension);$ret.caption(n.caption());$ret.item(n);return $ret}();$.ig.MetaTreeHelper.prototype.setMetaItemChildren(q,p);f.add(q)}else{var r=$.ig.MetaTreeHelper.prototype.k(b,n,e);f.insert(0,r)}}return f},setMetaItemChildren:function(a,b){if(b.count()>0){var c=new Array(b.count());for(var d=0;d<b.count();d++){c[d]=b.item(d)}a.children(c)}},i:function(a,b,c,d){var $self=this;var e=new $.ig.Dictionary$2(String,$.ig.Tuple$2.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type)),0);var f=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);var g=a.item(d.c());while(g.dimensionUniqueName()!=c.uniqueName()){d.c(d.c()+1);g=a.item(d.c())}while(g.dimensionUniqueName()==c.uniqueName()){var h=null;if(!String.isNullOrEmpty(g.hierarchyDisplayFolder())){var i=String.empty();var j=$.ig.MetaTreeHelper.prototype.l(g.hierarchyDisplayFolder());for(var k=0;k<j.length;k++){var l=j[k];i+=l+"\\";var m;if(!function(){var $ret=e.tryGetValue(i,m);m=$ret.value;return $ret.ret}()){var n=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.group);$ret.caption(l);return $ret}();m=new $.ig.Tuple$2($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type),n,new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0));e.add(i,m);if(h!=null){h.d().add(n)}else{f.add(n)}}h=m}}var o;switch(g.hierarchyOrigin()){case $.ig.HierarchyOrigin.prototype.systemEnabled:o=$.ig.OlapMetadataTreeItemType.prototype.systemEnabledHierarchy;break;case $.ig.HierarchyOrigin.prototype.userDefined:o=$.ig.OlapMetadataTreeItemType.prototype.userDefinedHierarchy;break;default:o=$.ig.OlapMetadataTreeItemType.prototype.parentChildHierarchy;break}var p=$.ig.MetaTreeHelper.prototype.j(b,g,d);var q=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type(o);$ret.caption(g.caption());$ret.item(g);return $ret}();$.ig.MetaTreeHelper.prototype.setMetaItemChildren(q,p);if(h!=null){h.d().add(q)}else{f.add(q)}if(d.c()+1>=a.count()){break}d.c(d.c()+1);g=a.item(d.c())}var s=e.values().getEnumerator();while(s.moveNext()){var r=s.current();var t=r.c();$.ig.MetaTreeHelper.prototype.setMetaItemChildren(t,r.d())}return f},j:function(a,b,c){var $self=this;var d=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);if(a==null||a.count()==0){return d}var e=a.item(c.d());while(e.hierarchyUniqueName()!=b.uniqueName()){c.d(c.d()+1);e=a.item(c.d())}while(e.hierarchyUniqueName()==b.uniqueName()){var f;switch(e.depth()){case 0:case 1:f=$.ig.OlapMetadataTreeItemType.prototype.level1;break;case 2:f=$.ig.OlapMetadataTreeItemType.prototype.level2;break;case 3:f=$.ig.OlapMetadataTreeItemType.prototype.level3;break;case 4:f=$.ig.OlapMetadataTreeItemType.prototype.level4;break;default:f=$.ig.OlapMetadataTreeItemType.prototype.level5;break}var g=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type(f);$ret.caption(e.caption());$ret.item(e);return $ret}();d.add(g);if(c.d()+1>=a.count()){break}c.d(c.d()+1);e=a.item(c.d())}return d},k:function(a,b,c){var $self=this;var d=new $.ig.Dictionary$2(String,$.ig.Tuple$2.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type)),0);var e=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.measure);$ret.caption(b.caption());$ret.item(b);return $ret}();var f=new $.ig.Tuple$2($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type),e,new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0));var h=a.getEnumerator();while(h.moveNext()){var g=h.current();var i=f;if(!String.isNullOrEmpty(g.measureGroupName())){if(!function(){var $ret=d.tryGetValue(g.measureGroupName(),i);i=$ret.value;return $ret.ret}()){var j=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.group);$ret.caption(g.measureGroupName());return $ret}();i=new $.ig.Tuple$2($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type),j,new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0));d.add(g.measureGroupName(),i);f.d().add(i.c())}}var k=i;if(!String.isNullOrEmpty(g.measureDisplayFolder())){var l=g.measureGroupName();var m=$.ig.MetaTreeHelper.prototype.l(g.measureDisplayFolder());for(var n=0;n<m.length;n++){var o=m[n];l+="\\"+o;var p;if(!function(){var $ret=d.tryGetValue(l,p);p=$ret.value;return $ret.ret}()){var q=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.group);$ret.caption(o);return $ret}();p=new $.ig.Tuple$2($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type),q,new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0));d.add(l,p);k.d().add(q)}k=p}}var r=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.measure);$ret.caption(g.caption());$ret.item(g);return $ret}();k.d().add(r)}var s=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);var w=f.d().where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(t){return t.type()==$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(u){return u.caption()}).getEnumerator();while(w.moveNext()){var v=w.current();s.add(v)}var aa=f.d().where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(x){return x.type()!=$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(y){return y.caption()}).getEnumerator();while(aa.moveNext()){var z=aa.current();s.add(z)}$.ig.MetaTreeHelper.prototype.setMetaItemChildren(e,s);var ac=d.values().getEnumerator();while(ac.moveNext()){var ab=ac.current();var ad=ab.d();var ag=ad.where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(ae){return ae.type()==$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(af){return af.caption()}).toList$1($.ig.OlapMetadataTreeItem.prototype.$type);var aj=ad.where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(ah){return ah.type()!=$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(ai){return ai.caption()}).toList$1($.ig.OlapMetadataTreeItem.prototype.$type);var ak=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);for(var al=0;al<ag.count();al++){ak.add(ag.item(al))}for(var am=0;am<aj.count();am++){ak.add(aj.item(am))}var an=ab.c();$.ig.MetaTreeHelper.prototype.setMetaItemChildren(an,ak)}return e},l:function(a){var b=a.split("\\");return b},$type:new $.ig.Type("MetaTreeHelper",$.ig.Object.prototype.$type)},true);$.ig.util.defType("HierarchyItemPosition","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_c:null,c:function(a){if(arguments.length===1){this._c=a;return a}else{return this._c}},_d:null,d:function(a){if(arguments.length===1){this._d=a;return a}else{return this._d}},$type:new $.ig.Type("HierarchyItemPosition",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MeasureGroupMetaItemsCache","Object",{a:null,b:null,c:null,d:null,e:null,init:function(a,b,c){$.ig.Object.prototype.init.call(this);this.a=new $.ig.Dictionary$2(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Dimension.prototype.$type),0);this.b=new $.ig.Dictionary$2(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Measure.prototype.$type),0);this.c=c;this.d=a;this.e=b},getMeasureGroupDimensions:function(a){var $self=this;var b;if(!function(){var $ret=$self.a.tryGetValue(a,b);b=$ret.value;return $ret.ret}()){var c=new $.ig.List$1(String,0);var e=this.c.getEnumerator();while(e.moveNext()){var d=e.current();if(d.measureGroupName()==a){c.add(d.dimensionUniqueName())}}var f=new $.ig.List$1($.ig.Dimension.prototype.$type,0);var h=this.d.getEnumerator();while(h.moveNext()){var g=h.current();if(c.contains(g.uniqueName())||g.dimensionType()==$.ig.DimensionType.prototype.measure){f.add(g)}}this.a.add(a,f);b=f}return b},getMeasureGroupMeasures:function(a){var $self=this;var b;if(!function(){var $ret=$self.b.tryGetValue(a,b);b=$ret.value;return $ret.ret}()){var c=new $.ig.List$1($.ig.Measure.prototype.$type,0);var e=this.e.getEnumerator();while(e.moveNext()){var d=e.current();if(d.measureGroupName()==a){c.add(d)}}this.b.add(a,c);b=c}return b},$type:new $.ig.Type("MeasureGroupMetaItemsCache",$.ig.Object.prototype.$type)},true);$.ig.util.defType("DataSourceBaseOptions","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_measures:null,measures:function(a){if(arguments.length===1){this._measures=a;return a}else{return this._measures}},_filters:null,filters:function(a){if(arguments.length===1){this._filters=a;return a}else{return this._filters}},_columns:null,columns:function(a){if(arguments.length===1){this._columns=a;return a}else{return this._columns}},_rows:null,rows:function(a){if(arguments.length===1){this._rows=a;return a}else{return this._rows}},$type:new $.ig.Type("DataSourceBaseOptions",$.ig.Object.prototype.$type)},true);$.ig.util.defType("CubeMetaItemsCache","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.a=new $.ig.Dictionary$2(String,$.ig.Tuple$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.Member.prototype.$type),0);this.b=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Member.prototype.$type,0);this.c=new $.ig.Dictionary$2(String,$.ig.IList$1.prototype.$type.specialize($.ig.Member.prototype.$type),0)},a:null,b:null,c:null,_j:null,j:function(a){if(arguments.length===1){this._j=a;return a}else{return this._j}},_k:null,k:function(a){if(arguments.length===1){this._k=a;return a}else{return this._k}},_l:null,l:function(a){if(arguments.length===1){this._l=a;return a}else{return this._l}},_m:null,m:function(a){if(arguments.length===1){this._m=a;return a}else{return this._m}},_n:null,n:function(a){if(arguments.length===1){this._n=a;return a}else{return this._n}},_o:null,o:function(a){if(arguments.length===1){this._o=a;return a}else{return this._o}},ab:function(a){return this.c.containsKey(a)},ac:function(a){var $self=this;var b;if(!function(){var $ret=$self.a.tryGetValue(a.uniqueName(),b);b=$ret.value;return $ret.ret}()){var c=this.a.count();b=new $.ig.Tuple$2($.ig.Number.prototype.$type,$.ig.Member.prototype.$type,c,a);this.a.item(a.uniqueName(),b);this.b.item(c,a);var d;if(!function(){var $ret=$self.c.tryGetValue(a.levelUniqueName(),d);d=$ret.value;return $ret.ret}()){d=new $.ig.ArrayListCollection$1($.ig.Member.prototype.$type);this.c.item(a.levelUniqueName(),d)}d.add(a)}return b.c()},ad:function(a,b){var $self=this;var c;if(function(){var $ret=$self.a.tryGetValue(a,c);c=$ret.value;return $ret.ret}()){b=c.c();return{ret:true,memberOrdinal:b}}b=-1;return{ret:false,memberOrdinal:b};return{memberOrdinal:b}},ae:function(a,b){var $self=this;var c;if(function(){var $ret=$self.a.tryGetValue(a,c);c=$ret.value;return $ret.ret}()){b=c.d();return{ret:true,member:b}}b=null;return{ret:false,member:b};return{member:b}},af:function(a,b){var $self=this;return{ret:function(){var $ret=$self.b.tryGetValue(a,b);b=$ret.value;return $ret.ret}(),member:b};return{member:b}},ag:function(a,b){var $self=this;return{ret:function(){var $ret=$self.c.tryGetValue(a,b);b=$ret.value;return $ret.ret}(),members:b};return{members:b}},$type:new $.ig.Type("CubeMetaItemsCache",$.ig.Object.prototype.$type)},true);$.ig.util.defType("AxisDefinitionParser","Object",{init:function(a){$.ig.Object.prototype.init.call(this);this.l(-1);this.m(a)},_j:null,j:function(a){if(arguments.length===1){this._j=a;return a}else{return this._j}},_k:null,k:function(a){if(arguments.length===1){this._k=a;return a}else{return this._k}},_l:null,l:function(a){if(arguments.length===1){this._l=a;return a}else{return this._l}},_m:null,m:function(a){if(arguments.length===1){this._m=a;return a}else{return this._m}},v:function(){if(this.l()==this.m().length-1){return false}var a=-1;var b=-1;var c=false;while(this.l()+1<this.m().length){this.l(this.l()+1);var d=this.m().substr(this.l(),1);switch(d){case $.ig.AxisDefinitionParser.prototype.a:if(a==-1){a=this.l()}break;case $.ig.AxisDefinitionParser.prototype.b:b=this.l();while(this.l()+1<this.m().length){d=this.m().substr(this.l()+1,1);switch(d){case $.ig.AxisDefinitionParser.prototype.b:b=this.l()+1;break;case $.ig.AxisDefinitionParser.prototype.e:case $.ig.AxisDefinitionParser.prototype.c:case $.ig.AxisDefinitionParser.prototype.d:c=true;break}if(c){break}this.l(this.l()+1)}break;case $.ig.AxisDefinitionParser.prototype.e:c=true;break;case $.ig.AxisDefinitionParser.prototype.c:this.j(true);break;case $.ig.AxisDefinitionParser.prototype.d:$.ig.Debug.prototype.c(this.j());c=true;this.j(false);break}if(c){c=false;if(a>-1&&b>-1){break}}}if(this.l()==this.m().length-1){if(b==-1||a==-1){return false}}var e=this.m().substr(a,b-a+1).trim();this.k(e);return true},w:function(){var a=new $.ig.List$1($.ig.AxisElement.prototype.$type,0);var b=null;while(this.v()){if(!this.j()){b=new $.ig.ArrayListCollection$1(String);var c=new $.ig.AxisElement(this.k(),b);a.add(c)}else if(b!=null){b.add(this.k())}}return a},$type:new $.ig.Type("AxisDefinitionParser",$.ig.Object.prototype.$type)},true);$.ig.util.defType("CoreOlapElementParser","Object",{init:function(a){$.ig.Object.prototype.init.call(this);this.i(-1);this.j(a)},_h:null,h:function(a){if(arguments.length===1){this._h=a;return a}else{return this._h}},_i:null,i:function(a){if(arguments.length===1){this._i=a;return a}else{return this._i}},_j:null,j:function(a){if(arguments.length===1){this._j=a;return a}else{return this._j}},q:function(){if(this.i()==this.j().length-1){return false}var a=-1;var b=-1;var c=false;while(this.i()+1<this.j().length){this.i(this.i()+1);var d=this.j().substr(this.i(),1);switch(d){case $.ig.CoreOlapElementParser.prototype.a:if(a==-1){a=this.i()}break;case $.ig.CoreOlapElementParser.prototype.b:b=this.i();while(this.i()+1<this.j().length){d=this.j().substr(this.i()+1,1);switch(d){case $.ig.CoreOlapElementParser.prototype.b:b=this.i()+1;break;case $.ig.CoreOlapElementParser.prototype.c:c=true;break}if(c){break}this.i(this.i()+1)}break;case $.ig.CoreOlapElementParser.prototype.c:c=true;break}if(c){c=false;if(a>-1&&b>-1){break}}}if(this.i()==this.j().length-1){if(b==-1||a==-1){return false}}var e=this.j().substr(a,b-a+1).trim();this.h(e);return true},r:function(){var a=new $.ig.List$1(String,0);while(this.q()){a.add(this.h())}return a},$type:new $.ig.Type("CoreOlapElementParser",$.ig.Object.prototype.$type)},true);$.ig.util.defType("AxisElement","Object",{init:function(a,b){$.ig.Object.prototype.init.call(this);this.name(a);this.memberNames(b)},_name:null,name:function(a){if(arguments.length===1){this._name=a;return a}else{return this._name}},_memberNames:null,memberNames:function(a){if(arguments.length===1){this._memberNames=a;return a}else{return this._memberNames}},$type:new $.ig.Type("AxisElement",$.ig.Object.prototype.$type)},true);$.ig.util.defType("KeyValueItem","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_c:null,c:function(a){if(arguments.length===1){this._c=a;return a}else{return this._c}},_d:null,d:function(a){if(arguments.length===1){this._d=a;return a}else{return this._d}},$type:new $.ig.Type("KeyValueItem",$.ig.Object.prototype.$type)},true);$.ig.util.defType("PositionItemInfo$2","Dictionary$2",{$tKey:null,$tSortKey:null,init:function($tKey,$tSortKey,a,b,c,d){this.i=new $.ig.Dictionary$2(this.$tKey,$.ig.Object.prototype.$type,0);this.$tKey=$tKey;this.$tSortKey=$tSortKey;this.$type=this.$type.specialize(this.$tKey,this.$tSortKey);$.ig.Dictionary$2.prototype.init.call(this,this.$tKey,$.ig.PositionItemInfo$2.prototype.$type.specialize(this.$tKey,this.$tSortKey));this.positionItem(a);this.positionIndex(b);this.positionItemIndex(c);this.positionItemDepth(0);this.positionItemDepthMin(-1);this.positionItemDepthMax(Number.MAX_VALUE);this.positionSize(d);if(a!=null){this.positionItemDepth(this.positionItem().depth());this.key(this.positionItem().key());this.parentKey(this.positionItem().parentKey());this.hierarchyKey(this.positionItem().hierarchyKey());this.hierarchyLevelKey(this.positionItem().hierarchyLevelKey());this.sortKey(this.positionItem().sortKey());this.caption(this.positionItem().caption())}},y:function(a,b,c,d){return new $.ig.PositionItemInfo$2(this.$tKey,this.$tSortKey,a,b,c,d)},_positionItemDepthMin:null,positionItemDepthMin:function(a){if(arguments.length===1){this._positionItemDepthMin=a;return a}else{return this._positionItemDepthMin}},_positionItemDepthMax:null,positionItemDepthMax:function(a){if(arguments.length===1){this._positionItemDepthMax=a;return a}else{return this._positionItemDepthMax}},_positionItem:null,positionItem:function(a){if(arguments.length===1){this._positionItem=a;return a}else{return this._positionItem}},_positionIndex:null,positionIndex:function(a){if(arguments.length===1){this._positionIndex=a;return a}else{return this._positionIndex}},_positionItemDepth:null,positionItemDepth:function(a){if(arguments.length===1){this._positionItemDepth=a;return a}else{return this._positionItemDepth}},_positionItemIndex:null,positionItemIndex:function(a){if(arguments.length===1){this._positionItemIndex=a;return a}else{return this._positionItemIndex}},_positionSize:null,positionSize:function(a){if(arguments.length===1){this._positionSize=a;return a}else{return this._positionSize}},_key:null,key:function(a){if(arguments.length===1){this._key=a;return a}else{return this._key}},_parentKey:null,parentKey:function(a){if(arguments.length===1){this._parentKey=a;return a}else{return this._parentKey}},_hierarchyKey:null,hierarchyKey:function(a){if(arguments.length===1){this._hierarchyKey=a;return a}else{return this._hierarchyKey}},_hierarchyLevelKey:null,hierarchyLevelKey:function(a){if(arguments.length===1){this._hierarchyLevelKey=a;return a}else{return this._hierarchyLevelKey}},_caption:null,caption:function(a){if(arguments.length===1){this._caption=a;return a}else{return this._caption}},_sortKey:null,sortKey:function(a){if(arguments.length===1){this._sortKey=a;return a}else{return this._sortKey}},_isExpandable:null,isExpandable:function(a){if(arguments.length===1){this._isExpandable=a;return a}else{return this._isExpandable}},_isExpanded:null,isExpanded:function(a){if(arguments.length===1){this._isExpanded=a;return a}else{return this._isExpanded}},am:function(a,b,c){var d=false;if(this.positionItemIndex()==-1){d=true}else{if(c!=null){if(a.item(this.positionItemIndex()).key()!=null){var e=c.item(this.positionItemIndex());d=a.item(this.positionItemIndex()).key().equals(e.key())}}}if(this.positionItemIndex()+1==this.positionSize()){return d}var f=this.ao(a,b,this.positionItemIndex()+1,c);return d&&f},an:function(a,b){},i:null,ao:function(a,b,c,d){var $self=this;var e;var f=a.item(c);if(!this.containsKey(f.key())){var g=this.y(f,b,c,this.positionSize());g.isExpandable(f.isExpandable());if(this.i.containsKey(g.key())){this.i.remove(g.key());g.isExpanded(true)}if(f.parentKey()!=null){var h=null;if(function(){var $ret=$self.tryGetValue(f.parentKey(),h);h=$ret.value;return $ret.ret}()){h.isExpanded(true)}else{if(!this.i.containsKey(f.parentKey())){this.i.add(f.parentKey(),null)}}}e=g.am(a,b,d);this.add(f.key(),g);if(this.positionItemDepthMin()==-1){this.positionItemDepthMin(f.depth())}else{this.positionItemDepthMin(Math.min(this.positionItemDepthMin(),f.depth()))}if(this.positionItemDepthMax()==Number.MAX_VALUE){this.positionItemDepthMax(f.depth())}else{this.positionItemDepthMax(Math.max(this.positionItemDepthMax(),f.depth()))}this.an(a,g)}else{var i=this.item(f.key());e=i.am(a,b,d)}return e},getIndex:function(a){var b=new Array(a.count());for(var c=0;c<b.length;c++){b[c]=a.item(c).key()}return this.getIndex1(b)},getIndex1:function(a){return this.ap(a,a.length)},ap:function(a,b){var $self=this;if(this.positionItemIndex()==b-1){return this.positionIndex()}var c;if(!function(){var $ret=$self.tryGetValue(a[$self.positionItemIndex()+1],c);c=$ret.value;return $ret.ret}()){return-1}if(c.count()==0){return c.positionIndex()}return c.ap(a,b)},$type:new $.ig.Type("PositionItemInfo$2",$.ig.Dictionary$2.prototype.$type.specialize(0,$.ig.PositionItemInfo$2.prototype.$type.specialize(0,1)))},true);$.ig.util.defType("PositionResolver$2","Object",{$tKey:null,$tSortKey:null,a:null,b:null,c:null,d:null,init:function($tKey,$tSortKey,a,b){this.a=0;this.$tKey=$tKey;this.$tSortKey=$tSortKey;this.$type=this.$type.specialize(this.$tKey,this.$tSortKey);$.ig.Object.prototype.init.call(this);this.positions(a.toList$1($.ig.IPosition$2.prototype.$type));this.positionSize(b)},getPositionIndexCompleted:null,_positions:null,positions:function(a){if(arguments.length===1){this._positions=a;return a}else{return this._positions}},_positionSize:null,positionSize:function(a){if(arguments.length===1){this._positionSize=a;return a}else{return this._positionSize}},rootPositionInfo:function(){if(this.b==null){this.b=this.m(this.positionSize())}return this.b},m:function(a){return new $.ig.PositionItemInfo$2(this.$tKey,this.$tSortKey,null,-1,-1,a)},hasUnregisterdPositions:function(){return this.a<this.positions().count()},completeRegisterPositions:function(){if(this.hasUnregisterdPositions()){this.r(null)}},resolveParentPositionItem:function(a,b){b=-1;var c=$.ig.util.cast($.ig.IHierarchicalPositionItem$2.prototype.$type.specialize(this.$tKey,this.$tSortKey),a);if(c==null||c.parentKey()==null){return{ret:null,parentPositionIndex:b}}var d=c.position().indexOf(c);var e=new Array(c.position().itemsCount());for(var f=0;f<c.position().itemsCount();f++){e[f]=c.position().item(f).key()}e[d]=c.parentKey();b=this.rootPositionInfo().getIndex1(e);if(b==-1){return{ret:null,parentPositionIndex:b}}var g=this.positions().__inner[b];var h=g.item(d);return{ret:h,parentPositionIndex:b};return{parentPositionIndex:b}},getHostPositionItemInfo:function(a,b){var $self=this;var c=this.rootPositionInfo();var d=a.item(b);for(var e=0;e<b;e++){var f;if(function(){var $ret=c.tryGetValue(a.item(e).key(),f);f=$ret.value;return $ret.ret}()){c=f}else{c=null;break}}if(c==null){return null}if(!c.containsKey(d.key())){return null}return c},n:function(a,b){var $self=this;if(this.rootPositionInfo().count()==0){return null}var c=this.rootPositionInfo();var d=a.position().indexOf(a);for(var e=0;e<d;e++){var f;if(function(){var $ret=c.tryGetValue(a.position().item(e).key(),f);f=$ret.value;return $ret.ret}()){c=f}else{c=null;break}}if(c==null){return null}if(!c.containsKey(a.key())){return null
}var g=new $.ig.List$1($.ig.Number.prototype.$type,0);this.o(a.key(),c,g);if(b==$.ig.ListSortDirection.prototype.descending){g.t(function(h,i){if(h==i){return 0}if(h>i){return-1}return 1});return g}g.t(function(j,k){if(j==k){return 0}if(j>k){return 1}return-1});return g},o:function(a,b,c){var $self=this;var f=b.values().where$1($.ig.PositionItemInfo$2.prototype.$type,function(d){return a.equals(d.parentKey())}).getEnumerator();while(f.moveNext()){var e=f.current();if(e.count()==0){c.add(e.positionIndex())}else{this.p(e,c)}if(!e.isExpanded()){continue}if(e.positionItemDepth()<b.positionItemDepthMax()){this.o(e.key(),b,c)}}},p:function(a,b){var $self=this;var e=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type,function(c){return c.parentKey()==null}).getEnumerator();while(e.moveNext()){var d=e.current();if(d.count()==0){b.add(d.positionIndex())}else{this.p(d,b)}if(d.positionItemDepth()<a.positionItemDepthMax()){this.o(d.key(),a,b)}}},getChildren:function(a,b){var $self=this;if(this.hasUnregisterdPositions()){this.completeRegisterPositions()}var c=this.getHostPositionItemInfo(a,b);var d=a.item(b);return c.values().where$1($.ig.PositionItemInfo$2.prototype.$type,function(e){return d.key().equals(e.parentKey())})},isMemberExpanded:function(a){var $self=this;if(this.hasUnregisterdPositions()){this.completeRegisterPositions()}var b=this.getPositionIndex(a.position());if(b==-1||this.rootPositionInfo().count()==0){return null}var c=a.position().indexOf(a);var d=this.rootPositionInfo();for(var e=0;e<c;e++){var f;if(function(){var $ret=d.tryGetValue(a.position().item(e).key(),f);f=$ret.value;return $ret.ret}()){d=f}else{d=null;break}}if(d==null){return null}if(!d.containsKey(a.key())){return null}var g=null;var h=d.values().getEnumerator();while(h.moveNext()){if(a.key().equals(h.current().parentKey())){g=h.current();break}}return g!=null},getPositionIndex:function(a){if(a==null){return-1}if(a.itemsCount()!=this.positionSize()){return-1}if(a.isEmpty()&&this.positions().count()==1&&this.positions().__inner[0].isEmpty()){return 0}if(this.a>0){var b=this.q(a);if(b>-1){return b}if(this.a==this.positions().count()){return-1}}return this.r(a)},q:function(a){if(a.isEmpty()&&this.positions().count()==1&&this.positions().__inner[0].isEmpty()){return 0}return this.rootPositionInfo().getIndex(a.getItems().toList$1($.ig.IPositionItem$2.prototype.$type))},r:function(a){var b=a==null;var c=-1;for(var d=this.a;d<this.positions().count();d++){var e=this.positions().__inner[d];var f=this.rootPositionInfo().am(e,d,a);this.a++;if(c==-1&&f){c=d;if(!b){break}}}return c},$type:new $.ig.Type("PositionResolver$2",$.ig.Object.prototype.$type)},true);$.ig.util.defType("LevelSortDirection","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.sortBehavior($.ig.LevelSortBehavior.prototype.system)},_levelUniqueName:null,levelUniqueName:function(a){if(arguments.length===1){this._levelUniqueName=a;return a}else{return this._levelUniqueName}},_sortDirection:null,sortDirection:function(a){if(arguments.length===1){this._sortDirection=a;return a}else{return this._sortDirection}},_sortBehavior:null,sortBehavior:function(a){if(arguments.length===1){this._sortBehavior=a;return a}else{return this._sortBehavior}},$type:new $.ig.Type("LevelSortDirection",$.ig.Object.prototype.$type)},true);$.ig.util.defType("TaskExtensions","Object",{init:function(){$.ig.Object.prototype.init.call(this)},continueWithTask$1:function($tResult,b){var $self=this;var c=new $.ig.TaskCompletionSource$1($tResult,0);this.t(function(d){var $self=$self;if(d.h()==null){try{b(d).t(function(e){if(e.h()==null){c.i(e.aa());return}c.h(e.h())})}catch(e_){var f;f=e_;c.h(f)}}else{c.h(d.h())}});return c.d()},continueWithTask$21:function($tResult1,$tResult2,b){var $self=this;return this.continueWithTask$1($tResult2,function(c){return b(c)})},$type:new $.ig.Type("TaskExtensions",$.ig.Object.prototype.$type)},true);$.ig.util.defType("HierarchyFilterView","Object",{a:null,b:null,c:null,init:function(a){this.c=new $.ig.Dictionary$2(String,$.ig.FilterMember.prototype.$type,0);$.ig.Object.prototype.init.call(this);this.hierarchy(a);this.b=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.FilterMember.prototype.$type),0);this.a=new $.ig.Dictionary$2(String,$.ig.FilterMember.prototype.$type,0)},filterMemberExpansionChanged:null,filterMemberSelectionChanged:null,_hierarchy:null,hierarchy:function(a){if(arguments.length===1){this._hierarchy=a;return a}else{return this._hierarchy}},addFiltersForMembers:function(a){var c=a.getEnumerator();while(c.moveNext()){var b=c.current();this.addFilterForMember(b)}},addFilterForMember:function(a){var $self=this;if(!this.a.containsKey(a.uniqueName())){var b=new $.ig.FilterMember(a);b.propertyChanged=$.ig.Delegate.prototype.combine(b.propertyChanged,this.i.on(this));b.selectionChanged=$.ig.Delegate.prototype.combine(b.selectionChanged,this.h.on(this));var c;if(!function(){var $ret=$self.b.tryGetValue(a.levelDepth(),c);c=$ret.value;return $ret.ret}()){c=new $.ig.List$1($.ig.FilterMember.prototype.$type,0);this.b.add(a.levelDepth(),c)}this.a.add(a.uniqueName(),b);this.c.add(a.uniqueName(),b);c.add(b);this.l(b);this.k(b)}},tryGetFilterMember:function(a,b){var $self=this;return{ret:function(){var $ret=$self.a.tryGetValue(a,b);b=$ret.value;return $ret.ret}(),filterMember:b};return{filterMember:b}},getRootFilterMembers:function(){var a=-1;var c=this.b.keys().getEnumerator();while(c.moveNext()){var b=c.current();if(a==-1){a=b}else{a=Math.min(b,a)}}if(a==-1){return null}return this.b.item(a)},getSelectedFilterItems:function(){var a=this.getRootFilterMembers();var b=new $.ig.List$1($.ig.FilterMember.prototype.$type,0);var c=0;var e=a.getEnumerator();while(e.moveNext()){var d=e.current();if(d.isSelected().hasValue()==true&&d.isSelected().value()==true){c++}}if(c==a.count()){return b}var g=a.getEnumerator();while(g.moveNext()){var f=g.current();if(f.isSelected().hasValue()==false){this.j(f,b)}else if(f.isSelected().hasValue()==true&&f.isSelected().value()==true){b.add(f)}}return b},h:function(a,b){if(this.filterMemberSelectionChanged!=null){this.filterMemberSelectionChanged(this,new $.ig.FilterMemberStateChangedEventArgs(a))}},i:function(a,b){if(b.propertyName()=="IsExpanded"){if(this.filterMemberExpansionChanged!=null){this.filterMemberExpansionChanged(this,new $.ig.FilterMemberStateChangedEventArgs(a))}}},j:function(a,b){if(a.isSelected().hasValue()==true&&a.isSelected().value()==true){b.add(a)}else{if(a.children()==null){return}var d=a.children().getEnumerator();while(d.moveNext()){var c=d.current();this.j(c,b)}}},k:function(a){var $self=this;var b=a.member().parentUniqueName();if(String.isNullOrEmpty(b)){return}var c;if(function(){var $ret=$self.a.tryGetValue(b,c);c=$ret.value;return $ret.ret}()){c.s(a);if(c.isSelected().hasValue()==true&&c.isSelected().value()==false){a.isSelected($.ig.util.toNullable($.ig.Boolean.prototype.$type,false))}}},l:function(a){var $self=this;var b=a.member().levelDepth();var c;if(function(){var $ret=$self.b.tryGetValue(b+1,c);c=$ret.value;return $ret.ret}()){var e=c.getEnumerator();while(e.moveNext()){var d=e.current();if(d.member().parentUniqueName()==a.member().uniqueName()){a.s(d)}}}},$type:new $.ig.Type("HierarchyFilterView",$.ig.Object.prototype.$type)},true);$.ig.util.defType("FilterMember","Object",{a:null,b:null,c:null,d:null,init:function(a){this.c=false;this.d=false;$.ig.Object.prototype.init.call(this);this.a=$.ig.util.toNullable($.ig.Boolean.prototype.$type,true);this.member(a);this.l(0);this.m(0)},selectionChanged:null,propertyChanged:null,_parent:null,parent:function(a){if(arguments.length===1){this._parent=a;return a}else{return this._parent}},_member:null,member:function(a){if(arguments.length===1){this._member=a;return a}else{return this._member}},isExpandable:function(){return this.member().childrenCardinality()>0},isExpanded:function(a){if(arguments.length===1){if(this.b!=a){this.b=a;this.x("IsExpanded")}return a}else{return this.b}},isSelected:function(a){if(arguments.length===1){var b=$.ig.util.toNullable($.ig.Boolean.prototype.$type,a);if($.ig.util.nullableEquals($.ig.util.nullableEquals(this.a,b),false)){var c=$.ig.util.toNullable($.ig.Boolean.prototype.$type,this.a);this.a=$.ig.util.toNullable($.ig.Boolean.prototype.$type,a);if(!this.d){if(this.a.hasValue()==true){if(this.children()!=null){var e=this.children().getEnumerator();while(e.moveNext()){var d=e.current();d.c=true;d.isSelected($.ig.util.toNullable($.ig.Boolean.prototype.$type,this.a));d.c=false}}}}if(this.parent()!=null){if(c.hasValue()==true&&c.value()==false){if(this.a.hasValue()==false){this.q(true)}this.p(false)}else if(c.hasValue()==false){if(this.a.hasValue()==true&&this.a.value()==false){this.p(true)}this.q(false)}else{if(this.a.hasValue()==true&&this.a.value()==false){this.p(true)}else if(this.a.hasValue()==false){this.q(true)}}if(!this.c){this.parent().d=true;var f=this.parent().l();var g=this.parent().m();var h=this.parent().children().count();if(g==0){if(f==0){this.parent().isSelected($.ig.util.toNullable($.ig.Boolean.prototype.$type,true))}else if(f==h){this.parent().isSelected($.ig.util.toNullable($.ig.Boolean.prototype.$type,false))}else{this.parent().isSelected($.ig.util.toNullable($.ig.Boolean.prototype.$type,null))}}else{this.parent().isSelected($.ig.util.toNullable($.ig.Boolean.prototype.$type,null))}this.parent().d=false}}this.x("IsSelected");if(!this.c&&!this.d){if(this.selectionChanged!=null){this.selectionChanged(this,$.ig.EventArgs.prototype.empty)}}}return a}else{return this.a}},p:function(a){if(a){this.parent().l(this.parent().l()+1)}else{this.parent().l(this.parent().l()-1)}},q:function(a){if(a){this.parent().m(this.parent().m()+1)}else{this.parent().m(this.parent().m()-1)}},_children:null,children:function(a){if(arguments.length===1){this._children=a;return a}else{return this._children}},s:function(a){if(this.children()==null){this.children(new $.ig.List$1($.ig.FilterMember.prototype.$type,0))}a.parent(this);this.children().add(a);this.x("Children")},_l:null,l:function(a){if(arguments.length===1){this._l=a;return a}else{return this._l}},_m:null,m:function(a){if(arguments.length===1){this._m=a;return a}else{return this._m}},x:function(a){if(this.propertyChanged!=null){this.propertyChanged(this,new $.ig.PropertyChangedEventArgs(a))}},$type:new $.ig.Type("FilterMember",$.ig.Object.prototype.$type,[$.ig.INotifyPropertyChanged.prototype.$type])},true);$.ig.util.defType("FilterMemberStateChangedEventArgs","EventArgs",{init:function(a){$.ig.EventArgs.prototype.init.call(this);this.filterMember(a)},_filterMember:null,filterMember:function(a){if(arguments.length===1){this._filterMember=a;return a}else{return this._filterMember}},$type:new $.ig.Type("FilterMemberStateChangedEventArgs",$.ig.EventArgs.prototype.$type)},true);$.ig.util.defType("ResultSorter$1","Object",{$t:null,_d:null,d:function(a){if(arguments.length===1){this._d=a;return a}else{return this._d}},_e:null,e:function(a){if(arguments.length===1){this._e=a;return a}else{return this._e}},_f:null,f:function(a){if(arguments.length===1){this._f=a;return a}else{return this._f}},init:function($t,a,b,c){this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.Object.prototype.init.call(this);this.d(a);this.e(b);this.f(c)},m:function(){},n:function(a,b,c){a.i();var d=a.d();var e=new Array(d.count());for(var f=0;f<d.count();f++){var g=d.item(f);c.add(g,f)}for(var h=0;h<d.count();h++){var i=d.item(h);var j=b.tuples().__inner[i];e[h]=j}return new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,1,e)},$type:new $.ig.Type("ResultSorter$1",$.ig.Object.prototype.$type)},true);$.ig.util.defType("ResultHeaderSorter","ResultSorter$1",{o:null,_r:null,r:function(a){if(arguments.length===1){this._r=a;return a}else{return this._r}},_s:null,s:function(a){if(arguments.length===1){this._s=a;return a}else{return this._s}},init:function(a,b,c,d){$.ig.ResultSorter$1.prototype.init.call(this,$.ig.AxisHeaderSortingVisitor.prototype.$type,a,b,c);this.o=new $.ig.Dictionary$2(String,$.ig.LevelSortDirection.prototype.$type,1,d.count());var f=d.getEnumerator();while(f.moveNext()){var e=f.current();this.o.item(e.levelUniqueName(),e)}},m:function(){var $self=this;this.r(new $.ig.List$1($.ig.LevelSortDirection.prototype.$type,0));this.s(new $.ig.Dictionary$2(String,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type)),0));if(this.d().isEmpty()){return this.d()}var a=new $.ig.List$1($.ig.OlapResultAxis.prototype.$type,0);var b=0;var c=1;var d=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Number.prototype.$type,0);var e=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Number.prototype.$type,0);if(this.f()){var f=this.d().axes().item(b);var g=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type),0);var h=new $.ig.AxisHeaderSortingVisitor(f,this.o,this.r(),g);var i=this.n(h,f,d);var j=function(){var $ret=new $.ig.OlapResultAxis(i,f.tupleSize());$ret.name(f.name());return $ret}();a.add(j);this.s().item(f.name(),g);c=f.tuples().count();b++}if(this.e()){var k=this.d().axes().item(b);var l=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type),0);var m=new $.ig.AxisHeaderSortingVisitor(k,this.o,this.r(),l);var n=this.n(m,k,e);var o=function(){var $ret=new $.ig.OlapResultAxis(n,k.tupleSize());$ret.name(k.name());return $ret}();a.add(o);this.s().item(k.name(),l)}var p=new $.ig.List$1($.ig.OlapResultCell.prototype.$type,2,this.d().cells().count());var r=this.d().cells().getEnumerator();while(r.moveNext()){var q=r.current();var s=q.clone();var t=s.cellOrdinal();if(this.f()){var u=t%c;var v=d.item(u);if(u!=v){var w=$.ig.intDivide(t,c);t=w*c+v}}if(this.e()){var x=$.ig.intDivide(t,c);var y=e.item(x);if(x!=y){var z=t%c;t=y*c+z}}s.cellOrdinal(t);p.add(s)}var aa=function(){var $ret=new $.ig.OlapResult;$ret.isEmpty($self.d().isEmpty());$ret.axes(a);$ret.cells(p);return $ret}();return aa},$type:new $.ig.Type("ResultHeaderSorter",$.ig.ResultSorter$1.prototype.$type.specialize($.ig.AxisHeaderSortingVisitor.prototype.$type))},true);$.ig.util.defType("AxisTupleVisitor","Object",{_c:null,c:function(a){if(arguments.length===1){this._c=a;return a}else{return this._c}},_d:null,d:function(a){if(arguments.length===1){this._d=a;return a}else{return this._d}},init:function(a){$.ig.Object.prototype.init.call(this);this.c(a)},i:function(){var $self=this;if(this.c().positionResolver().hasUnregisterdPositions()){this.c().positionResolver().completeRegisterPositions()}this.d(new $.ig.List$1($.ig.Number.prototype.$type,2,this.c().tuples().count()));var a=this.c().positionResolver().rootPositionInfo();var c=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type,function(b){return b.positionItemDepth()==a.positionItemDepthMin()});var e=this.k(a,c).getEnumerator();while(e.moveNext()){var d=e.current();this.l(a,d)}},j:function(a,b){},k:function(a,b){},l:function(a,b){var $self=this;var d=b.values().where$1($.ig.PositionItemInfo$2.prototype.$type,function(c){return c.positionItemDepth()==b.positionItemDepthMin()});if(d.count$1($.ig.PositionItemInfo$2.prototype.$type)>0){var f=d.getEnumerator();while(f.moveNext()){var e=f.current();this.l(b,e)}}else{this.d().add(b.positionIndex())}var g=this.j(a,b);var i=g.getEnumerator();while(i.moveNext()){var h=i.current();this.l(a,h)}},$type:new $.ig.Type("AxisTupleVisitor",$.ig.Object.prototype.$type)},true);$.ig.util.defType("AxisHeaderSortingVisitor","AxisTupleVisitor",{m:null,n:null,o:null,init:function(a,b,c,d){$.ig.AxisTupleVisitor.prototype.init.call(this,a);this.m=b;this.n=c;this.o=d},j:function(a,b){var $self=this;var d=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type,function(c){return c.parentKey()==b.key()}).toList$1($.ig.PositionItemInfo$2.prototype.$type);if(d.count()>0){var e=d.item(0);var f;if(function(){var $ret=$self.m.tryGetValue(e.hierarchyLevelKey(),f);f=$ret.value;return $ret.ret}()){if(f.sortBehavior()==$.ig.LevelSortBehavior.prototype.system){d=f.sortDirection()==$.ig.ListSortDirection.prototype.ascending?d.orderBy$2($.ig.PositionItemInfo$2.prototype.$type,$.ig.Object.prototype.$type,function(g){return g.sortKey()}).toList$1($.ig.PositionItemInfo$2.prototype.$type):d.orderByDescending$2($.ig.PositionItemInfo$2.prototype.$type,$.ig.Object.prototype.$type,function(h){return h.sortKey()}).toList$1($.ig.PositionItemInfo$2.prototype.$type)}else{d=f.sortDirection()==$.ig.ListSortDirection.prototype.ascending?d.orderBy$2($.ig.PositionItemInfo$2.prototype.$type,$.ig.Object.prototype.$type,function(i){return i.caption()}).toList$1($.ig.PositionItemInfo$2.prototype.$type):d.orderByDescending$2($.ig.PositionItemInfo$2.prototype.$type,$.ig.Object.prototype.$type,function(j){return j.caption()}).toList$1($.ig.PositionItemInfo$2.prototype.$type)}if(!this.n.select$2($.ig.LevelSortDirection.prototype.$type,String,function(k){return k.levelUniqueName()}).contains$1(String,f.levelUniqueName())){this.n.add(f)}var l;if(!function(){var $ret=$self.o.tryGetValue(e.positionItemIndex(),l);l=$ret.value;return $ret.ret}()){l=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type,0);this.o.add(b.positionItemIndex(),l)}l.item(b.positionItemDepth(),f.sortDirection())}}return d},k:function(a,b){var $self=this;var c=b.toList$1($.ig.PositionItemInfo$2.prototype.$type);if(c.count()>0){var d=c.item(0);var e;if(d.hierarchyLevelKey()!=null&&function(){var $ret=$self.m.tryGetValue(d.hierarchyLevelKey(),e);e=$ret.value;return $ret.ret}()){if(e.sortBehavior()==$.ig.LevelSortBehavior.prototype.system){c=e.sortDirection()==$.ig.ListSortDirection.prototype.ascending?c.orderBy$2($.ig.PositionItemInfo$2.prototype.$type,$.ig.Object.prototype.$type,function(f){return f.sortKey()}).toList$1($.ig.PositionItemInfo$2.prototype.$type):c.orderByDescending$2($.ig.PositionItemInfo$2.prototype.$type,$.ig.Object.prototype.$type,function(g){return g.sortKey()}).toList$1($.ig.PositionItemInfo$2.prototype.$type)}else{c=e.sortDirection()==$.ig.ListSortDirection.prototype.ascending?c.orderBy$2($.ig.PositionItemInfo$2.prototype.$type,$.ig.Object.prototype.$type,function(h){return h.caption()}).toList$1($.ig.PositionItemInfo$2.prototype.$type):c.orderByDescending$2($.ig.PositionItemInfo$2.prototype.$type,$.ig.Object.prototype.$type,function(i){return i.caption()}).toList$1($.ig.PositionItemInfo$2.prototype.$type)}this.n.add(e);var j;if(!function(){var $ret=$self.o.tryGetValue(d.positionItemIndex(),j);j=$ret.value;return $ret.ret}()){j=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type,0);this.o.add(a.positionItemIndex(),j)}j.item(a.positionItemDepth(),e.sortDirection())}}return c},$type:new $.ig.Type("AxisHeaderSortingVisitor",$.ig.AxisTupleVisitor.prototype.$type)},true);$.ig.util.defType("ResultColumnValueSorter","ResultSorter$1",{o:null,_q:null,q:function(a){if(arguments.length===1){this._q=a;return a}else{return this._q}},init:function(a,b,c,d){$.ig.ResultSorter$1.prototype.init.call(this,$.ig.AxisValueSortingVisitor.prototype.$type,a,b,c);this.o=d},m:function(){var $self=this;this.q(new $.ig.List$1($.ig.TupleSortDirection.prototype.$type,0));if(!this.e()||this.d().isEmpty()){return this.d()}var a=new $.ig.List$1($.ig.OlapResultAxis.prototype.$type,0);var b=0;var c=null;var d=1;if(this.f()){c=this.d().axes().item(b);d=c.tuples().count();a.add(c.clone());b++}var e=this.d().axes().item(b);var f=this.d().axes().item(b).tuples().count();var g=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Object.prototype.$type,1,this.d().cells().count());var i=this.d().cells().getEnumerator();while(i.moveNext()){var h=i.current();g.item(h.cellOrdinal(),h.properties().item("Value"))}var j=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize($.ig.TupleSortDirection.prototype.$type,$.ig.Array.prototype.$type),2,this.o.count());var l=this.o.getEnumerator();while(l.moveNext()){var k=l.current();var m;if(c!=null&&k.memberNames()!=null){if(c.positionResolver().hasUnregisterdPositions()){c.positionResolver().completeRegisterPositions()}m=c.positionResolver().rootPositionInfo().getIndex1(k.memberNames());k.tupleIndex(m)}else{m=k.tupleIndex()}if(m>-1&&m<d){var n=new Array(f);for(var o=0;o<f;o++){var p=null;(function(){var $ret=g.tryGetValue(o*d+m,p);p=$ret.value;return $ret.ret})();n[o]=p}j.add(new $.ig.KeyValuePair$2($.ig.TupleSortDirection.prototype.$type,$.ig.Array.prototype.$type,k,n));this.q().add(k)}}var q=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Number.prototype.$type,0);var r=new $.ig.AxisValueSortingVisitor(e,j);var s=this.n(r,e,q);var t=function(){var $ret=new $.ig.OlapResultAxis(s,e.tupleSize());$ret.name(e.name());return $ret}();a.add(t);var u=new $.ig.List$1($.ig.OlapResultCell.prototype.$type,2,this.d().cells().count());var w=this.d().cells().getEnumerator();while(w.moveNext()){var v=w.current();var x=v.clone();var y=x.cellOrdinal();var z=$.ig.intDivide(y,d);var aa=q.item(z);if(z!=aa){var ab=y%d;y=aa*d+ab}x.cellOrdinal(y);u.add(x)}var ac=function(){var $ret=new $.ig.OlapResult;$ret.isEmpty($self.d().isEmpty());$ret.axes(a);$ret.cells(u);return $ret}();return ac},$type:new $.ig.Type("ResultColumnValueSorter",$.ig.ResultSorter$1.prototype.$type.specialize($.ig.AxisValueSortingVisitor.prototype.$type))},true);$.ig.util.defType("AxisValueSortingVisitor","AxisTupleVisitor",{m:null,init:function(a,b){$.ig.AxisTupleVisitor.prototype.init.call(this,a);this.m=b},j:function(a,b){var $self=this;var d=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type,function(c){return c.parentKey()==b.key()});return this.k(a,d)},k:function(a,b){var positionItemInfos_=b.toArray$1($.ig.PositionItemInfo$2.prototype.$type);if(positionItemInfos_.length>0){var tupleSortDirections_=this.m.toArray$1($.ig.PositionItemInfo$2.prototype.$type);var sortFunction=function(tupleSortDirections){var compareCells=function(comparer,cell1,cell2){var result=comparer(cell1,cell2);if(result<0){return-1}if(result>0){return 1}return!isNaN(parseFloat(result))&&isFinite(result)?result:0};return function(o1,o2){var i,length,tupleSortDirection,cells,direction,cell1,cell2,arr1=[],arr2=[];for(i=0;i<tupleSortDirections.length;i++){tupleSortDirection=tupleSortDirections[i].key();cells=tupleSortDirections[i].value();if(tupleSortDirection.sortDirection()===$.ig.ListSortDirection.prototype.ascending){direction=1}else{direction=-1}comparer=tupleSortDirection.comparer();cell1=cells[o1.positionIndex()];cell2=cells[o2.positionIndex()];if(tupleSortDirections.length===1){arr1=direction*compareCells(comparer,cell1,cell2);arr2=direction*compareCells(comparer,cell2,cell1)}else{arr1.push(direction*compareCells(comparer,cell1,cell2));arr2.push(direction*compareCells(comparer,cell2,cell1))}}if(arr1<arr2){return-1}if(arr1>arr2){return 1}return 0}};positionItemInfos_.sort(sortFunction(tupleSortDirections_))}return positionItemInfos_},$type:new $.ig.Type("AxisValueSortingVisitor",$.ig.AxisTupleVisitor.prototype.$type)},true);$.ig.util.defType("TupleSortDirection","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_tupleIndex:null,tupleIndex:function(a){if(arguments.length===1){this._tupleIndex=a;return a}else{return this._tupleIndex}},_memberNames:null,memberNames:function(a){if(arguments.length===1){this._memberNames=a;return a}else{return this._memberNames}},_sortDirection:null,sortDirection:function(a){if(arguments.length===1){this._sortDirection=a;return a}else{return this._sortDirection}},_comparer:null,comparer:function(a){if(arguments.length===1){this._comparer=a;return a}else{return this._comparer}},$type:new $.ig.Type("TupleSortDirection",$.ig.Object.prototype.$type)},true);$.ig.util.defType("DataSourceBase","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_dataSource:null,dataSource:function(a){if(arguments.length===1){this._dataSource=a;return a}else{return this._dataSource}},isInitialized:function(){return this.dataSource().isInitialized()},_isModified:null,isModified:function(a){if(arguments.length===1){this._isModified=a;return a}else{return this._isModified}},_isUpdating:null,isUpdating:function(a){if(arguments.length===1){this._isUpdating=a;return a}else{return this._isUpdating}},initialize:function(){var promise_=this.dataSource().initialize().f();var $this=this;if(!this._isInitializedAttached){this._isInitializedAttached=true;promise_.always(function(result){var args={error:null,metadataTreeRoot:null};if(this.state()==="rejected"){args.error=result}else{args.metadataTreeRoot=result}$($this).trigger("initialized",args);$this._isInitializedAttached=false})}return promise_},cubes:function(){return this.dataSource().cubes().inner()},cube:function(){return this.dataSource().cube()},setCube:function(a){var $self=this;return this.dataSource().setCube(a).ae($.ig.OlapMetadataTreeItem.prototype.$type,function(b){return b.aa()}).f()},metadataTree:function(){return this.dataSource().metadataTree()},addRowItem:function(a){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,a)!==null){this.dataSource().rowAxis().add(a);this.isModified(true)}},insertRowItem:function(a,b){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,b)!==null){this.dataSource().rowAxis().insert(a,b);this.isModified(true)}},removeRowItem:function(a){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,a)!==null||$.ig.util.cast($.ig.MeasureList.prototype.$type,a)!==null){this.dataSource().rowAxis().remove(a);this.isModified(true)}},addColumnItem:function(a){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,a)!==null){this.dataSource().columnAxis().add(a);this.isModified(true)}},insertColumnItem:function(a,b){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,b)!==null){this.dataSource().columnAxis().insert(a,b);this.isModified(true)}},removeColumnItem:function(a){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,a)!==null||$.ig.util.cast($.ig.MeasureList.prototype.$type,a)!==null){this.dataSource().columnAxis().remove(a);this.isModified(true)}},addFilterItem:function(a){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,a)!==null){this.dataSource().filters().add(a);this.isModified(true)}},insertFilterItem:function(a,b){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,b)!==null){this.dataSource().filters().insert(a,b);this.isModified(true)}},removeFilterItem:function(a){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,a)!==null){this.dataSource().filters().remove(a);this.isModified(true)}},addMeasureItem:function(a){if($.ig.util.cast($.ig.Measure.prototype.$type,a)!==null){this.dataSource().measures().add(a);this.isModified(true)}},insertMeasureItem:function(a,b){if($.ig.util.cast($.ig.Measure.prototype.$type,b)!==null){this.dataSource().measures().insert(a,b);this.isModified(true)}},removeMeasureItem:function(a){if($.ig.util.cast($.ig.Measure.prototype.$type,a)!==null){this.dataSource().measures().remove(a);this.isModified(true)}},setMeasureListIndex:function(a){this.dataSource().measureListIndex(a);this.isModified(true)},setMeasureListLocation:function(a){switch(a){case"rows":this.dataSource().measureListLocation($.ig.MeasureListLocation.prototype.rows);break;case"columns":this.dataSource().measureListLocation($.ig.MeasureListLocation.prototype.columns);break;default:break}this.isModified(true)},expandTupleMember:function(a,b,c){this.dataSource().expandTupleMember(a,b,c)},collapseTupleMember:function(a,b,c){this.dataSource().collapseTupleMember(a,b,c)},rowAxis:function(){return this.dataSource().rowAxis().inner()},columnAxis:function(){return this.dataSource().columnAxis().inner()},filters:function(){return this.dataSource().filters().inner()},measures:function(){return this.dataSource().measures().inner()},result:function(){return this.dataSource().result()},bindCollectionChanged:function(a){var options_=a;var ds_=this.dataSource();var attachCollectionChanged=function(collection,handler){collection.collectionChanged=$.ig.Delegate.prototype.combine(collection.collectionChanged,handler)};if($.isFunction(options_["filters"])){attachCollectionChanged(ds_._filters,options_["filters"])}if($.isFunction(options_["rowAxis"])){attachCollectionChanged(ds_._rowAxis,options_["rowAxis"])}if($.isFunction(options_["columnAxis"])){attachCollectionChanged(ds_._columnAxis,options_["columnAxis"])}if($.isFunction(options_["measures"])){attachCollectionChanged(ds_._measures,options_["measures"])}},unbindCollectionChanged:function(a){var options_=a;var ds_=this.dataSource();unbindCollectionChanged=function(collection,handler){collection.collectionChanged=$.ig.Delegate.prototype.remove(collection.collectionChanged,handler)};if($.isFunction(options_["filters"])){unbindCollectionChanged(ds_._filters,options_["filters"])}if($.isFunction(options_["rowAxis"])){unbindCollectionChanged(ds_._rowAxis,options_["rowAxis"])}if($.isFunction(options_["columnAxis"])){unbindCollectionChanged(ds_._columnAxis,options_["columnAxis"])}if($.isFunction(options_["measures"])){unbindCollectionChanged(ds_._measures,options_["measures"])}},clearPendingChanges:function(){this.dataSource().clearPendingChanges()},update:function(){var promise_=this.dataSource().update().f();var $this=this;if(!this.isUpdating()){this.isUpdating(true);promise_.always(function(result){var args={error:null,result:null};if(this.state()==="rejected"){args.error=result}else{args.result=result}$this.isUpdating(false);$this.isModified(false);$($this).trigger("updated",args)})}return promise_},getCoreElement:function(a,b){return this.dataSource().getCoreElement(a,b)},getCoreElements:function(a,b){return this.dataSource().getCoreElements(a,b).inner()},getMembersOfHierarchy:function(a){return this.dataSource().getMembersOfHierarchy(a).f()},getMembersOfLevel:function(a){return this.dataSource().getMembersOfLevel(a).f()},tryGetMember:function(a){var $self=this;var b;if(function(){var $ret=$self.dataSource().tryGetMember(a,b);b=$ret.member;return $ret.ret}()){return b}return null},tryGetMembersForLevel:function(a){var $self=this;var b=new $.ig.ArrayListCollection$1($.ig.Member.prototype.$type);var c=function(){var $ret=$self.dataSource().tryGetMembersForLevel(a,b);b=$ret.members;return $ret.ret}();return c?b.inner():new $.ig.ArrayListCollection$1($.ig.Member.prototype.$type).inner()},getMembersOfMember:function(a){return this.dataSource().getMembersOfMember(a).f()},addFilterMember:function(a,b){this.dataSource().addFilterMember(a,b);this.isModified(true)},removeAllFilterMembers:function(a){this.dataSource().removeAllFilterMembers(a);this.isModified(true)},getFilterMemberNames:function(a){return this.dataSource().getFilterMemberNames(a).inner()},getDimension:function(a){var $self=this;return this.dataSource().getCoreElement(function(b){return b.uniqueName()==a},$.ig.Dimension.prototype.$type)},getHierarchy:function(a){var $self=this;return this.dataSource().getCoreElement(function(b){return b.uniqueName()==a},$.ig.Hierarchy.prototype.$type)},getLevel:function(a){var $self=this;return this.dataSource().getCoreElement(function(b){return b.uniqueName()==a},$.ig.Level.prototype.$type)},getMeasure:function(a){var $self=this;return this.dataSource().getCoreElement(function(b){return b.uniqueName()==a},$.ig.Measure.prototype.$type)},getMeasureList:function(){return this.dataSource().getCoreElement(null,$.ig.MeasureList.prototype.$type)},$type:new $.ig.Type("DataSourceBase",$.ig.Object.prototype.$type)},true);$.ig.util.defType("jQueryUtils","Object",{init:function(){$.ig.Object.prototype.init.call(this)},b:function($t,a){if(a==null){return null}var jsObject_=a;var dict_=new $.ig.Dictionary$2(String,$t,0);(function(obj,dict){var tempDict=$.ig.Dictionary.prototype.getDictionary(obj);var keys=tempDict.keys();while(keys.moveNext()){var key=keys.current();var value=tempDict.item(key);dict.add(key,value)
}})(jsObject_,dict_);return dict_},d:function($t,a){if(a==null){return null}var dict_=a;return dict_.__inner.proxy},convertToObjectDictionary:function(a){return $.ig.jQueryUtils.prototype.b($.ig.Object.prototype.$type,a)},convertToStringDictionary:function(a){return $.ig.jQueryUtils.prototype.b(String,a)},convertFromObjectDictionary:function(a){return $.ig.jQueryUtils.prototype.d($.ig.Object.prototype.$type,a)},convertFromStringDictionary:function(a){return $.ig.jQueryUtils.prototype.d(String,a)},createJavascriptObject:function(){return{}},getJavascriptObjectProperty:function(a,b){var jsObject_=a;var property_=b;return jsObject_[property_]},setJavascriptObjectProperty:function(a,b,c){var jsObject_=a;var property_=b;var value_=c;jsObject_[property_]=value_},getJavascriptObjectMethodResult:function(a,b,c){var jsObject_=a;var method_=b;var args_=c;return jsObject_[method_].call(jsObject_,args_)},$type:new $.ig.Type("jQueryUtils",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapUtilities","Object",{init:function(){$.ig.Object.prototype.init.call(this)},dateMemberProvider:function(a,b,c,d){if(String.isNullOrEmpty(a)||String.isNullOrEmpty(b)){return null}var propName_=b;var datePartFormat_=d;var format_=c;var yearProvider_;var semesterProvider_;var quarterProvider_;var monthProvider_;a=a.toLowerCase();switch(a){case"year":if(datePartFormat_==null){datePartFormat_="yyyy"}if(format_==null){return function(item){return $.ig.formatter(new Date(item[propName_]),"date",datePartFormat_)}}return function(item){return format_.replace("{0}",$.ig.formatter(new Date(item[propName_]),"date",datePartFormat_))};case"semester":if(format_==null){format_="H{0}"}yearProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("year",b,null,null);return function(item){var year=yearProvider_(item);return format_.replace("{0}",Math.floor(new Date(item[propName_]).getMonth()/6)+1).replace("{1}",year)};case"quarter":if(format_==null){format_="Q{0}"}yearProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("year",b,null,null);semesterProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("semester",b,null,null);return function(item){var year=yearProvider_(item);var semester=semesterProvider_(item);return format_.replace("{0}",Math.floor(new Date(item[propName_]).getMonth()/3)+1).replace("{1}",semester).replace("{2}",year)};case"month":if(datePartFormat_==null){datePartFormat_="MMMM"}if(format_==null){return function(item){return $.ig.formatter(new Date(item[propName_]),"date",datePartFormat_)}}yearProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("year",b,null,null);semesterProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("semester",b,null,null);quarterProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("quarter",b,null,null);return function(item){var year=yearProvider_(item);var semester=semesterProvider_(item);var quarter=quarterProvider_(item);return format_.replace("{0}",$.ig.formatter(new Date(item[propName_]),"date",datePartFormat_)).replace("{1}",quarter).replace("{2}",semester).replace("{3}",year)};case"date":if(datePartFormat_==null){datePartFormat_="MM/dd/yyyy"}if(format_==null){return function(item){return $.ig.formatter(new Date(item[propName_]),"date",datePartFormat_)}}yearProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("year",b,null,null);semesterProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("semester",b,null,null);quarterProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("quarter",b,null,null);monthProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("month",b,null,null);return function(item){var year=yearProvider_(item);var semester=semesterProvider_(item);var quarter=quarterProvider_(item);var month=monthProvider_(item);return format_.replace("{0}",$.ig.formatter(new Date(item[propName_]),"date",datePartFormat_)).replace("{1}",month).replace("{2}",quarter).replace("{3}",semester).replace("{4}",year)}}return null},getDateHierarchy:function(a,b,c,d,e,f){var $self=this;if(String.isNullOrEmpty(a)){return null}if(b==null||b.length==0){b=function(){var $ret=new Array;$ret.add("year");$ret.add("quarter");$ret.add("month");$ret.add("date");return $ret}()}else{for(var g=0;g<b.length;g++){b[g]=b[g].toLowerCase()}}if(c==null){c="Dates"}if(d==null){d=c}var res_=null;var name_=c;var caption_=d;var rootCaption_=f;var dateParts_=b;if(e==null){e=new Array(b.length);for(var h=0;h<e.length;h++){var i=b[h];e[h]=i.substr(0,1).toUpperCase()+i.substr(1,i.length)+"s"}}var captions_=e;var memberProviders_=new Array(b.length);for(var j=0;j<b.length;j++){var k=b[j];memberProviders_[j]=$.ig.OlapUtilities.prototype.dateMemberProvider(k,a,null,null)}var levelsMetadata=[];var levelOffset=0;if(rootCaption_!=null&&rootCaption_!=""){levelOffset=1;levelsMetadata[0]={name:rootCaption_,caption:rootCaption_,memberProvider:function(item){return rootCaption_}}}for(var i=0;i<memberProviders_.length;i++){levelsMetadata[i+levelOffset]={name:dateParts_[i],caption:captions_[i],memberProvider:memberProviders_[i]}}res_={name:name_,caption:caption_,levels:levelsMetadata};return res_},sumAggregator:function(a,b){var propName_=a;var precision_=b;return function(items,cellMetadata){var sum=0,areAllNullOrUndefined=true,value;for(var i=0;i<items.length;i++){value=items[i][propName_];if(value!==null&&value!==undefined){areAllNullOrUndefined=false;sum+=value}}if(areAllNullOrUndefined)return null;if(precision_!=null){return sum.toFixed(precision_)}return sum}},avgAggregator:function(a,b){var propName_=a;var precision_=b;return function(items,cellMetadata){if(precision_==null){precision_=2}var sum=0,count=0,areAllNullOrUndefined=true,value;for(var i=0;i<items.length;i++){value=items[i][propName_];if(value!==null&&value!==undefined){areAllNullOrUndefined=false;sum+=value;count++}}if(areAllNullOrUndefined)return null;return(sum/count).toFixed(precision_)}},minAggregator:function(a){var propName_=a;return function(items,cellMetadata){var result=items[0][propName_];for(var i=1;i<items.length;i++){result=Math.min(result,items[i][propName_])}return result}},maxAggregator:function(a){var propName_=a;return function(items,cellMetadata){var result=items[0][propName_];for(var i=1;i<items.length;i++){result=Math.max(result,items[i][propName_])}return result}},countAggregator:function(){return function(items,cellMetadata){return items.length}},$type:new $.ig.Type("OlapUtilities",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapTableView","Object",{a:null,init:function(a,b,c,d){$.ig.Object.prototype.init.call(this);var e=this.b(d);this.a=new $.ig.TableViewImpl(a,b,c,e)},rowHeaders:function(){if(this.a.rowHeaders()==null){return null}return this.a.rowHeaders().inner()},columnHeaders:function(){if(this.a.columnHeaders()==null){return null}return this.a.columnHeaders().inner()},resultCells:function(){if(this.a.resultCells()==null){return null}return this.a.resultCells().inner()},columnSortDirections:function(a){if(arguments.length===1){this.a.columnSortDirections().clear();var c=a.getEnumerator();while(c.moveNext()){var b=c.current();var d=this.c(b);this.a.columnSortDirections().add(d)}return a}else{var e=new $.ig.Array;var g=this.a.columnSortDirections().getEnumerator();while(g.moveNext()){var f=g.current();e.add(this.d(f))}return e}},appliedColumnSortDirections:function(){var b=new $.ig.Array;var d=this.a.appliedColumnSortDirections().getEnumerator();while(d.moveNext()){var c=d.current();b.add(this.d(c))}return b},levelSortDirections:function(a){if(arguments.length===1){this.a.levelSortDirections().clear();var c=a.getEnumerator();while(c.moveNext()){var b=c.current();var d=this.e(b);this.a.levelSortDirections().add(d)}return a}else{var e=new $.ig.Array;var g=this.a.levelSortDirections().getEnumerator();while(g.moveNext()){var f=g.current();e.add(this.f(f))}return e}},appliedLevelSortDirections:function(){var b=new $.ig.Array;var d=this.a.appliedLevelSortDirections().getEnumerator();while(d.moveNext()){var c=d.current();b.add(this.f(c))}return b},appliedSortDirectionsMap:function(){var resultMap_=$.ig.jQueryUtils.prototype.createJavascriptObject();var b=this.a.appliedSortDirectionsMap().getEnumerator();while(b.moveNext()){var i_=b.current();var axisMap_=$.ig.jQueryUtils.prototype.createJavascriptObject();var c=i_.value().getEnumerator();while(c.moveNext()){var j_=c.current();var hierarchyMap_=$.ig.jQueryUtils.prototype.createJavascriptObject();var d=j_.value().getEnumerator();while(d.moveNext()){var k_=d.current();var sortDirection_=k_.value()==$.ig.ListSortDirection.prototype.ascending?"ascending":"descending";hierarchyMap_[k_.key()]=sortDirection_}axisMap_[j_.key()]=hierarchyMap_}resultMap_[i_.key()]=axisMap_}return resultMap_},initialize:function(){this.a.initialize()},b:function(a){var $self=this;var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"isParentInFrontForColumns");var c=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"isParentInFrontForRows");var d=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"compactColumnHeaders");var e=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"compactRowHeaders");return function(){var $ret=new $.ig.TableViewSettings;$ret.e(b);$ret.f(c);$ret.h(d);$ret.g(e);return $ret}()},c:function(o_){var $self=this;var a=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(o_,"memberNames");var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(o_,"tupleIndex");var c=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(o_,"sortDirection");var d=$.ig.ListSortDirection.prototype.ascending;if(!String.isNullOrEmpty(c)){c=c.toLowerCase();if(c=="descending"){d=$.ig.ListSortDirection.prototype.descending}}var comparer_=null;if($.isFunction(o_.comparer)){comparer_=o_.comparer}else{comparer_=function(o1,o2){return parseFloat(o1||-Infinity)-parseFloat(o2||-Infinity)}}return function(){var $ret=new $.ig.TupleSortDirection;$ret.memberNames(a);$ret.tupleIndex(b);$ret.sortDirection(d);$ret.comparer(comparer_);return $ret}()},d:function(a){var b=$.ig.jQueryUtils.prototype.createJavascriptObject();$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(b,"memberNames",a.memberNames());$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(b,"tupleIndex",a.tupleIndex());$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(b,"sortDirection",a.sortDirection()==$.ig.ListSortDirection.prototype.ascending?"ascending":"descending");if(a.comparer()!=null){$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(b,"comparer",a.comparer())}return b},e:function(a){var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"levelUniqueName");var c=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"sortDirection");var d=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"sortBehavior");if(!String.isNullOrEmpty(b)){var e=new $.ig.LevelSortDirection;e.sortDirection($.ig.ListSortDirection.prototype.ascending);e.sortBehavior($.ig.LevelSortBehavior.prototype.system);e.levelUniqueName(b);if(!String.isNullOrEmpty(c)){c=c.toLowerCase();if(c=="descending"){e.sortDirection($.ig.ListSortDirection.prototype.descending)}}if(!String.isNullOrEmpty(d)){d=d.toLowerCase();if(d=="alphabetical"){e.sortBehavior($.ig.LevelSortBehavior.prototype.alphabetical)}}return e}else{return null}},f:function(a){var b=$.ig.jQueryUtils.prototype.createJavascriptObject();$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(b,"levelUniqueName",a.levelUniqueName());$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(b,"sortDirection",a.sortDirection()==$.ig.ListSortDirection.prototype.ascending?"ascending":"descending");return b},$type:new $.ig.Type("OlapTableView",$.ig.Object.prototype.$type)},true);$.ig.LevelSortBehavior.prototype.alphabetical=0;$.ig.LevelSortBehavior.prototype.system=1;$.ig.OlapMetadataTreeItemType.prototype.cube=0;$.ig.OlapMetadataTreeItemType.prototype.dimension=1;$.ig.OlapMetadataTreeItemType.prototype.group=2;$.ig.OlapMetadataTreeItemType.prototype.userDefinedHierarchy=3;$.ig.OlapMetadataTreeItemType.prototype.systemEnabledHierarchy=4;$.ig.OlapMetadataTreeItemType.prototype.parentChildHierarchy=5;$.ig.OlapMetadataTreeItemType.prototype.measure=6;$.ig.OlapMetadataTreeItemType.prototype.level1=7;$.ig.OlapMetadataTreeItemType.prototype.level2=8;$.ig.OlapMetadataTreeItemType.prototype.level3=9;$.ig.OlapMetadataTreeItemType.prototype.level4=10;$.ig.OlapMetadataTreeItemType.prototype.level5=11;$.ig.MeasureListLocation.prototype.rows=0;$.ig.MeasureListLocation.prototype.columns=1;$.ig.HeaderCellsLayoutOrientation.prototype.horizontal=0;$.ig.HeaderCellsLayoutOrientation.prototype.vertical=1;$.ig.MemberType.prototype.unknown=0;$.ig.MemberType.prototype.regular=0;$.ig.MemberType.prototype.all=1;$.ig.MemberType.prototype.measure=2;$.ig.MemberType.prototype.formula=3;$.ig.CardinalityType.prototype.one=0;$.ig.CardinalityType.prototype.many=1;$.ig.AggregatorType.prototype.unknown=0;$.ig.AggregatorType.prototype.sum=1;$.ig.AggregatorType.prototype.count=2;$.ig.AggregatorType.prototype.min=3;$.ig.AggregatorType.prototype.max=4;$.ig.AggregatorType.prototype.average=5;$.ig.AggregatorType.prototype.variance=6;$.ig.AggregatorType.prototype.std=7;$.ig.AggregatorType.prototype.distinctCount=8;$.ig.AggregatorType.prototype.none=9;$.ig.AggregatorType.prototype.averageOfChildren=10;$.ig.AggregatorType.prototype.firstNonEmpty=13;$.ig.AggregatorType.prototype.lastNonEmpty=14;$.ig.AggregatorType.prototype.byAccount=15;$.ig.AggregatorType.prototype.calculated=127;$.ig.HierarchyOrigin.prototype.userDefined=1;$.ig.HierarchyOrigin.prototype.systemEnabled=2;$.ig.HierarchyOrigin.prototype.systemInternal=4;$.ig.DimensionType.prototype.unknown=0;$.ig.DimensionType.prototype.time=1;$.ig.DimensionType.prototype.measure=2;$.ig.DimensionType.prototype.other=3;$.ig.DimensionType.prototype.quantitative=5;$.ig.DimensionType.prototype.accounts=6;$.ig.DimensionType.prototype.customers=7;$.ig.DimensionType.prototype.products=8;$.ig.DimensionType.prototype.scenario=9;$.ig.DimensionType.prototype.utility=10;$.ig.DimensionType.prototype.currency=11;$.ig.DimensionType.prototype.rates=12;$.ig.DimensionType.prototype.channel=13;$.ig.DimensionType.prototype.promotion=14;$.ig.DimensionType.prototype.organization=15;$.ig.DimensionType.prototype.billOfMaterials=16;$.ig.DimensionType.prototype.geography=17;$.ig.CubeType.prototype.cube=0;$.ig.CubeType.prototype.dimension=1;$.ig.CubeType.prototype.unknown=2;$.ig.AxisDefinitionParser.prototype.a="[";$.ig.AxisDefinitionParser.prototype.b="]";$.ig.AxisDefinitionParser.prototype.c="{";$.ig.AxisDefinitionParser.prototype.d="}";$.ig.AxisDefinitionParser.prototype.e=",";$.ig.CoreOlapElementParser.prototype.a="[";$.ig.CoreOlapElementParser.prototype.b="]";$.ig.CoreOlapElementParser.prototype.c=".";$.ig.CoreOlapElementParser.prototype.d="&";$.ig.util.extCopy($.ig.TaskExtensions,[[[$.ig.Task],["continueWithTask$1"]],[[$.ig.Task$1],["continueWithTask$21"]]]);$.ig.util.extCopy($.ig.Enumerable,[[[$.ig.ArrayListCollection$1],["where$1","where$11111","select$2","selectMany$2","last$1","first$1","firstOrDefault$1","orderBy$2","orderByDescending$2","toList$1","concat$1","max","max$111","min","min$111","count$1","reverse$1","take$1","skip$1","any$1","contains$1","union$1","toArray$1","elementAt$1","sum","sum$111"]],[[$.ig.ArrayListCollection$1],["ofType$1","cast$1"]]]);$.ig.util.extCopy($.ig.Queryable,[[[$.ig.ArrayListCollection$1],["asQueryable"]]]);$.ig=$.ig||{};$.ig.util.bulkDefine(["IFlatDataAxisProvider","FlatDataAxisProvider","FlatDataAxisProviderHelper","FlatDataPartialAxisProvider","IFlatDataProvider","FlatDataProvider","CellMetadata","CubeMetadata","MeasuresDimensionMetadata","DataMemberMetadata","DataSourceMetadata","DimensionMetadata","HierarchyMetadata","LevelMetadata","MeasureMetadata","RowMetadata","TableMetadata","FlatDataSourceImpl","IFlatDataProviderFactory","DefaultFlatDataProviderFactory","PositionInfo","FlatDataSourceOptions","OlapFlatDataSource"]);$.ig.util.defType("IFlatDataAxisProvider","Object",{$type:new $.ig.Type("IFlatDataAxisProvider",null)},true);$.ig.util.defType("FlatDataAxisProvider","Object",{a:null,b:null,init:function(a,b){var $self=this;this.c=null;this.d=null;this.e=false;this.f=false;$.ig.Object.prototype.init.call(this);this.m(a);this.a=b.select$2($.ig.ICoreOlapElement.prototype.$type,$.ig.ICoreOlapElement.prototype.$type,function(c){return c}).toList$1($.ig.ICoreOlapElement.prototype.$type);this.b=new $.ig.FlatDataAxisProviderHelper(a,b.count())},_m:null,m:function(a){if(arguments.length===1){this._m=a;return a}else{return this._m}},_axis:null,axis:function(a){if(arguments.length===1){this._axis=a;return a}else{return this._axis}},n:function(){return this.b.i()},c:null,d:null,e:null,f:null,s:function(a){var $self=this;if(this.axis()!=null){this.d=this.axis();this.c=a.select$2($.ig.ICoreOlapElement.prototype.$type,$.ig.ICoreOlapElement.prototype.$type,function(b){return b}).toList$1($.ig.ICoreOlapElement.prototype.$type);this.e=true}else{this.b=new $.ig.FlatDataAxisProviderHelper(this.m(),a.count());this.a=a}},t:function(){if(this.axis()!=null){this.f=true}},u:function(a){var $self=this;this.e=false;var b=this.c;var c=this.d;var d=new $.ig.TaskCompletionSource$1($.ig.OlapResultAxis.prototype.$type,0);var e=new $.ig.List$1(String,0);for(var f=0;f<this.a.count();f++){var g=this.a.item(f);if($.ig.util.cast($.ig.MeasureList.prototype.$type,g)!==null){e.add(this.m().ag().b().i().e());continue}e.add(g.uniqueName())}this.a=b;var h=new $.ig.List$1(String,0);var i=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize(String,$.ig.Number.prototype.$type),0);for(var j=0;j<this.a.count();j++){var k=this.a.item(j);if($.ig.util.cast($.ig.MeasureList.prototype.$type,k)!==null){h.add(this.m().ag().b().i().e());continue}h.add(k.uniqueName());i.add(new $.ig.KeyValuePair$2(String,$.ig.Number.prototype.$type,k.uniqueName(),0))}var l=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize(String,$.ig.Number.prototype.$type),0);if(e.count()>0){var m=-1;for(var n=0;n<h.count();n++){if(n==e.count()||e.item(n)!=h.item(n)){break}m=n}if(m<i.count()-1){for(var o=m+1;o<i.count();o++){l.add(i.item(o))}}else{l=i}var p=new Array(this.a.count());var q=new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0);this.b.u(l).ac(function(r){return $self.v(m,b,p,r.aa(),q,c.name(),d,true)});return d.d()}return this.generateAxis(a)},generateAxis:function(a){var $self=this;if(this.f||this.e){var b=null;if(this.f){b=this.y(a)}if(this.e){b=this.u(a)}return b}var c=new $.ig.TaskCompletionSource$1($.ig.OlapResultAxis.prototype.$type,0);if(this.axis()!=null){c.i(this.axis());return c.d()}var d=new Array(this.a.count());var e=new $.ig.List$1(String,0);var f=new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0);var g=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize(String,$.ig.Number.prototype.$type),0);var h=this.a;for(var i=0;i<this.a.count();i++){var j=this.a.item(i);if($.ig.util.cast($.ig.MeasureList.prototype.$type,j)!==null){e.add(this.m().ag().b().i().e());continue}e.add(j.uniqueName());g.add(new $.ig.KeyValuePair$2(String,$.ig.Number.prototype.$type,j.uniqueName(),0))}var k=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize(String,$.ig.Number.prototype.$type),0);var l=this.m().ae().e();k=g;this.b.u(k).ac(function(m){$self.b.t(h,0,d,m.aa(),l,null,f);$self.axis(function(){var $ret=new $.ig.OlapResultAxis(f,h.count());$ret.name(a);return $ret}());c.i($self.axis())});return c.d()},v:function(a,b,c,d,e,f,g,h){var $self=this;var i=this.n();if(h){this.b=new $.ig.FlatDataAxisProviderHelper(this.m(),b.count())}if(a>-1&&i.rootPositionInfo().count()>0){this.b.r(b,a,i.rootPositionInfo(),c,d,e)}else{var k=this.m().ae().e().where$1($.ig.RowMetadata.prototype.$type,function(j){return!j.f()}).toList$1($.ig.RowMetadata.prototype.$type);this.b.t(b,0,c,d,k,null,e)}this.axis(function(){var $ret=new $.ig.OlapResultAxis(e,b.count());$ret.name(f);return $ret}());g.i(this.axis())},w:function(a){if(this.axis()==null){throw new $.ig.InvalidOperationException(0)}var c=a.getEnumerator();while(c.moveNext()){var b=c.current();this.b.q(b.key(),b.value())}},x:function(a){var b=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize($.ig.OlapResultTuple.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.RowMetadata.prototype.$type)),0);var d=a.j().getEnumerator();while(d.moveNext()){var c=d.current();var e=a.getTupleRowsMetadata(c);b.add(new $.ig.KeyValuePair$2($.ig.OlapResultTuple.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.RowMetadata.prototype.$type),c,e))}this.w(b)},y:function(a){var $self=this;this.f=false;var b=new $.ig.TaskCompletionSource$1($.ig.OlapResultAxis.prototype.$type,0);var c=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize($.ig.OlapResultTuple.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.RowMetadata.prototype.$type)),0);var d=new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0);for(var e=0;e<this.b.i().positions().count();e++){var f=this.b.i().positions().__inner[e];var h=this.m().ar(f.members().toArray$1($.ig.OlapResultAxisMember.prototype.$type),f.itemsCount()).where$1($.ig.RowMetadata.prototype.$type,function(g){return!g.f()}).toList$1($.ig.RowMetadata.prototype.$type);if(h.count()>0){d.add(f)}c.add(new $.ig.KeyValuePair$2($.ig.OlapResultTuple.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.RowMetadata.prototype.$type),f,h))}if(c.count()>0){this.w(c)}var i=new Array(this.a.count());var j=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize(String,$.ig.Number.prototype.$type),0);for(var k=0;k<this.a.count();k++){var l=this.a.item(k);if($.ig.util.cast($.ig.MeasureList.prototype.$type,l)!==null){continue}j.add(new $.ig.KeyValuePair$2(String,$.ig.Number.prototype.$type,l.uniqueName(),0))}this.b.u(j).ac(function(m){return $self.v($self.a.count()-1,$self.a,i,m.aa(),new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0),a,b,false)});return b.d()},getTupleRowsMetadata:function(a){return this.b.p(a)},$type:new $.ig.Type("FlatDataAxisProvider",$.ig.Object.prototype.$type,[$.ig.IFlatDataAxisProvider.prototype.$type])},true);$.ig.util.defType("FlatDataAxisProviderHelper","Object",{a:null,_g:null,g:function(a){if(arguments.length===1){this._g=a;return a}else{return this._g}},init:function(a,b){$.ig.Object.prototype.init.call(this);this.h(a);this.a=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.RowMetadata.prototype.$type),0);this.i(new $.ig.PositionResolver$2(String,$.ig.Object.prototype.$type,new $.ig.List$1($.ig.IPosition$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),0),b));this.g(this.i().positions())},_h:null,h:function(a){if(arguments.length===1){this._h=a;return a}else{return this._h}},_i:null,i:function(a){if(arguments.length===1){this._i=a;return a}else{return this._i}},p:function(a){var $self=this;var b=null;var c=this.i().getPositionIndex(a);if(c>-1){(function(){var $ret=$self.a.tryGetValue(c,b);b=$ret.value;return $ret.ret})()}return b},q:function(a,b){var c=this.i().getPositionIndex(a);if(c==-1){this.a.add(this.g().count(),b);this.g().add(a);return true}this.a.item(c,b);return false},r:function(a,b,c,d,e,f){var $self=this;var g=c.positionItemDepthMin();var j=c.values().where$1($.ig.PositionItemInfo$2.prototype.$type,function(h){return h.positionItemDepth()==g}).getEnumerator();while(j.moveNext()){var i=j.current();if(i.positionItemIndex()==b||i.count()==0){if(i.count()==0){b=i.positionItemIndex()}this.s(c,i,d,a,b,e,f)}else{var k=i.positionItem();var l=k.clone();var m=new Array(a.count());$.ig.Array.prototype.copy(d,0,m,0,a.count());m[i.positionItemIndex()]=l;this.r(a,b,i,m,e,f)}}},s:function(a,b,c,d,e,f,g){var $self=this;var h=b.positionItem();var i=h.clone();var j=new Array(d.count());$.ig.Array.prototype.copy(c,0,j,0,d.count());j[b.positionItemIndex()]=i;var k=this.h().ar(j,b.positionItemIndex()+1).toList$1($.ig.RowMetadata.prototype.$type);if(k.count()>0){if(e<d.count()-1){this.t(d,e+1,j,f,k,null,g)}else{var l=new $.ig.OlapResultTuple(j);var n=k.where$1($.ig.RowMetadata.prototype.$type,function(m){return!m.f()}).toList$1($.ig.RowMetadata.prototype.$type);var o=this.i().getPositionIndex(l);if(o==-1){this.a.add(this.g().count(),n);this.g().add(l)}else{this.g().item(o,l)}for(var q=0;q<j.length;q++){var p=j[q];p.position(l)}if(n.count()>0){g.add(l)}}if(b.isExpanded()){var t=a.values().where$1($.ig.RowMetadata.prototype.$type,function(r){return r.parentKey()==b.key()}).getEnumerator();while(t.moveNext()){var s=t.current();this.s(a,s,c,d,e,f,g)}}}},t:function(a,b,c,d,e,f,g){var $self=this;var h=a.item(b);if($.ig.util.cast($.ig.Hierarchy.prototype.$type,h)!==null){var i=d.item(h.uniqueName());if(f!=null){i=i.where$1($.ig.Member.prototype.$type,function(j){return j.parentUniqueName()==f})}var l=i.getEnumerator();while(l.moveNext()){var k=l.current();var m;(function(){var $ret=$self.h().as(k.uniqueName(),m);m=$ret.memberId;return $ret.ret})();var o=e.where$1($.ig.Member.prototype.$type,function(n){return n.h(k.levelUniqueName())==m}).toList$1($.ig.RowMetadata.prototype.$type);if(o.count()>0){var p=new Array(a.count());$.ig.Array.prototype.copy(c,0,p,0,a.count());var q=new $.ig.OlapResultAxisMember;q.caption(k.caption());q.hierarchyUniqueName(k.hierarchyUniqueName());q.levelNumber(k.levelDepth());q.levelUniqueName(k.levelUniqueName());q.uniqueName(k.uniqueName());q.displayInfo(k.childrenCardinality());q.properties().add("PARENT_UNIQUE_NAME",k.parentUniqueName());q.properties().add("memberId",m.toString());p[b]=q;if(b==a.count()-1){var s=o.where$1($.ig.Member.prototype.$type,function(r){return!r.f()}).toList$1($.ig.RowMetadata.prototype.$type);var t=new $.ig.OlapResultTuple(p);var u=this.i().getPositionIndex(t);if(u==-1){this.a.add(this.g().count(),s);this.g().add(t)}else{this.g().item(u,t)}for(var w=0;w<p.length;w++){var v=p[w];v.position(t)}if(s.count()>0){g.add(t)}}else{this.t(a,b+1,p,d,o,null,g)}}}}else if($.ig.util.cast($.ig.MeasureList.prototype.$type,h)!==null){var x=h;var z=x.measures().getEnumerator();while(z.moveNext()){var y=z.current();var aa=new Array(a.count());$.ig.Array.prototype.copy(c,0,aa,0,a.count());var ab=new $.ig.OlapResultAxisMember;ab.caption(y.caption());var ac=this.v(this.h().ag().b().i().e());ab.hierarchyUniqueName(ac);ab.levelNumber(0);ab.uniqueName(y.uniqueName());aa[b]=ab;if(b==a.count()-1){var ad=new $.ig.OlapResultTuple(aa);var ae=this.i().getPositionIndex(ad);if(ae==-1){this.a.add(this.g().count(),e.toList$1($.ig.RowMetadata.prototype.$type));this.g().add(ad)}else{this.g().item(ae,ad)}for(var ag=0;ag<aa.length;ag++){var af=aa[ag];af.position(ad)}g.add(ad)}else{this.t(a,b+1,aa,d,e,null,g)}}}},u:function(a){var $self=this;if(a.count()==0){var b=new $.ig.TaskCompletionSource$1($.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Member.prototype.$type)),0);b.i(new $.ig.Dictionary$2(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Member.prototype.$type),0));return b.d()}var c=new $.ig.List$1($.ig.Task.prototype.$type,0);var d=new $.ig.List$1($.ig.Number.prototype.$type,0);for(var e=0;e<a.count();e++){var f=a.item(e).key();var g=new $.ig.KeyValueItem;g.c("HIERARCHY_UNIQUE_NAME");g.d(f);var h=new $.ig.List$1($.ig.KeyValueItem.prototype.$type,0);h.add(g);var i=this.h().discoverLevelsAsync(null,h);c.add(i);d.add(a.item(e).value())}var j=new Array(c.count());for(var k=0;k<c.count();k++){j[k]=c.item(k)}var l=new $.ig.TaskFactory;return l.c($.ig.IDictionary$2.prototype.$type,j,function(m){return $self.y(m,d)}).continueWithTask$21($.ig.IDictionary$2.prototype.$type,$.ig.IDictionary$2.prototype.$type,function(n){return $self.w(n.aa())})},v:function(a){if(a.substr(0,1)!="["){a="["+a}if(a.substr(a.length-1,1)!="]"){a+="]"}return a},w:function(a){var $self=this;var b=new Array(a.count());var c=new Array(a.count());var d=0;var f=a.getEnumerator();while(f.moveNext()){var e=f.current();var g=new $.ig.List$1($.ig.KeyValueItem.prototype.$type,0);g.add(function(){var $ret=new $.ig.KeyValueItem;$ret.c("LEVEL_UNIQUE_NAME");$ret.d(e.value().uniqueName());return $ret}());b[d]=this.h().discoverMembersAsync(null,g);c[d]=e.key();d++}var h=new $.ig.TaskFactory;return h.c($.ig.IDictionary$2.prototype.$type,b,function(i){return $self.x(i,c)})},x:function(a,b){var c=new $.ig.Dictionary$2(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Member.prototype.$type),0);for(var d=0;d<b.length;d++){var e=b[d];if(!c.containsKey(e)){c.add(e,a[d].aa())}}return c},y:function(a,b){var $self=this;var c=new $.ig.Dictionary$2(String,$.ig.Level.prototype.$type,0);for(var d=0;d<b.count();d++){var e=a[d];if(e.h()!=null||e.g()){return null}var f=b.item(d);var h=e.aa().where$1($.ig.Level.prototype.$type,function(g){return g.depth()==f}).firstOrDefault$1($.ig.Level.prototype.$type);if(h!=null&&!c.containsKey(h.hierarchyUniqueName())){c.add(h.hierarchyUniqueName(),h)}}return c},$type:new $.ig.Type("FlatDataAxisProviderHelper",$.ig.Object.prototype.$type)},true);$.ig.util.defType("FlatDataPartialAxisProvider","Object",{a:null,b:null,c:null,init:function(a,b,c){$.ig.Object.prototype.init.call(this);this.f(a);this.a=new $.ig.FlatDataAxisProviderHelper(a,b.count());this.c=c;this.b=b},_f:null,f:function(a){if(arguments.length===1){this._f=a;return a}else{return this._f}},_axis:null,axis:function(a){if(arguments.length===1){this._axis=a;return a}else{return this._axis}},generateAxis:function(a){var $self=this;var b=new $.ig.TaskCompletionSource$1($.ig.OlapResultAxis.prototype.$type,0);if(this.axis()!=null){b.i(this.axis());return b.d()}var c=new Array(this.c.position().itemsCount());var d=new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0);var e=this.c.position().indexOf(this.c);var f=this.c.position();var g=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize(String,$.ig.Number.prototype.$type),0);for(var h=0;h<this.c.position().itemsCount();h++){if(h<e){c[h]=this.c.position().members().item(h).clone()}else if(h==e){var i=f.members().item(h);g.add(new $.ig.KeyValuePair$2(String,$.ig.Number.prototype.$type,i.hierarchyUniqueName(),i.depth()+1))}else{var j=f.members().item(h);g.add(new $.ig.KeyValuePair$2(String,$.ig.Number.prototype.$type,j.hierarchyUniqueName(),j.depth()))}}this.a.u(g).ac(function(k){var l=$self.f().ar(f.members().toArray$1($.ig.OlapResultAxisMember.prototype.$type),e+1).toList$1($.ig.RowMetadata.prototype.$type);$self.a.t($self.b,e,c,k.aa(),l,$self.c.uniqueName(),d);$self.axis(function(){var $ret=new $.ig.OlapResultAxis(d,f.itemsCount());$ret.name(a);return $ret}());b.i($self.axis())});return b.d()},getTupleRowsMetadata:function(a){return this.a.p(a)},j:function(){return this.a.g()},$type:new $.ig.Type("FlatDataPartialAxisProvider",$.ig.Object.prototype.$type,[$.ig.IFlatDataAxisProvider.prototype.$type])},true);$.ig.util.defType("IFlatDataProvider","Object",{$type:new $.ig.Type("IFlatDataProvider",null)},true);$.ig.util.defType("FlatDataProvider","Object",{b:null,c:null,d:null,e:null,f:null,g:null,h:null,i:null,j:null,k:null,l:null,m:null,_ae:null,ae:function(a){if(arguments.length===1){this._ae=a;return a}else{return this._ae}},init:function(a,b){var $self=this;this.h=new $.ig.Dictionary$2(String,$.ig.Number.prototype.$type,0);this.i=new $.ig.Dictionary$2(String,$.ig.DataMemberMetadata.prototype.$type,0);this.j=new $.ig.Dictionary$2(String,$.ig.DataMemberMetadata.prototype.$type,0);this.n=new $.ig.Dictionary$2(String,$.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.DataMemberMetadata.prototype.$type),0);$.ig.Object.prototype.init.call(this);this.af(a);this.ag(b);this.ae(new $.ig.TableMetadata(a));if(b.b()!=null){if(b.b().i()==null){b.b().i(function(){var $ret=new $.ig.MeasuresDimensionMetadata;$ret.d("Measures");$ret.e("Measures");return $ret}())}else{if(String.isNullOrEmpty(b.b().i().d())){b.b().i().d("Measures")}if(String.isNullOrEmpty(b.b().i().e())){b.b().i().e("Measures")}}}},_af:null,af:function(a){if(arguments.length===1){this._af=a;return a}else{return this._af}},_ag:null,ag:function(a){if(arguments.length===1){this._ag=a;
return a}else{return this._ag}},discoverCubesAsync:function(a,b){var c=new $.ig.TaskCompletionSource$1($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Cube.prototype.$type),0);if(this.b==null){this.b=this.a0()}c.i(this.b);return c.d()},discoverDimensionsAsync:function(a,b){var c=new $.ig.TaskCompletionSource$1($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Dimension.prototype.$type),0);if(this.c==null){this.c=this.a2()}c.i(this.c);return c.d()},discoverHierarchiesAsync:function(a,b){var c=new $.ig.TaskCompletionSource$1($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Hierarchy.prototype.$type),0);if(this.d==null){this.d=this.a3()}c.i(this.d);return c.d()},discoverLevelsAsync:function(a,b){var c=new $.ig.TaskCompletionSource$1($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Level.prototype.$type),0);var d=this.an(a,b);c.i(d);return c.d()},an:function(a,b){var $self=this;if(this.e==null){this.f=new $.ig.Dictionary$2(String,$.ig.IList$1.prototype.$type.specialize($.ig.Level.prototype.$type),0);this.e=this.a4()}var c=null;var d=null;if(b!=null){c=b.where$1($.ig.KeyValueItem.prototype.$type,function(e){return e.c()=="HIERARCHY_UNIQUE_NAME"}).firstOrDefault$1($.ig.KeyValueItem.prototype.$type);d=b.where$1($.ig.KeyValueItem.prototype.$type,function(f){return f.c()=="LEVEL_UNIQUE_NAME"}).firstOrDefault$1($.ig.KeyValueItem.prototype.$type)}var g;if(c!=null){g=this.e.where$1($.ig.KeyValueItem.prototype.$type,function(h){return h.hierarchyUniqueName()==c.d()})}else{g=this.e.toList$1($.ig.Level.prototype.$type)}if(d!=null){g=g.where$1($.ig.KeyValueItem.prototype.$type,function(i){return i.uniqueName()==d.d()})}return g},discoverMeasuresAsync:function(a,b){var c=new $.ig.TaskCompletionSource$1($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Measure.prototype.$type),0);if(this.k==null){this.l=new $.ig.Dictionary$2(String,$.ig.Func$3.prototype.$type.specialize($.ig.IEnumerable.prototype.$type,$.ig.CellMetadata.prototype.$type,$.ig.Object.prototype.$type),0);this.k=this.a1(this.l)}c.i(this.k);return c.d()},discoverMeasureGroupsAsync:function(a,b){throw new $.ig.NotImplementedException},discoverMeasureGroupDimensionsAsync:function(a,b){throw new $.ig.NotImplementedException},discoverMembersAsync:function(a,b){var c=new $.ig.TaskCompletionSource$1($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Member.prototype.$type),0);var d=this.ao(a,b);c.i(d);return c.d()},ao:function(a,b){var $self=this;if(this.m==null){this.m=new $.ig.Dictionary$2(String,$.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.Member.prototype.$type),0)}var d=b.where$1($.ig.KeyValueItem.prototype.$type,function(c){return c.c()=="HIERARCHY_UNIQUE_NAME"}).firstOrDefault$1($.ig.KeyValueItem.prototype.$type);var f=b.where$1($.ig.KeyValueItem.prototype.$type,function(e){return e.c()=="LEVEL_UNIQUE_NAME"}).firstOrDefault$1($.ig.KeyValueItem.prototype.$type);var h=b.where$1($.ig.KeyValueItem.prototype.$type,function(g){return g.c()=="MEMBER_UNIQUE_NAME"}).firstOrDefault$1($.ig.KeyValueItem.prototype.$type);if(this.e==null){this.e=this.a4()}var i=null;var j=this.e;if(d!=null){j=j.where$1($.ig.KeyValueItem.prototype.$type,function(k){return k.hierarchyUniqueName()==d.d()}).toList$1($.ig.Level.prototype.$type)}if(f!=null){var m=j.where$1($.ig.KeyValueItem.prototype.$type,function(l){return l.uniqueName()==f.d()}).first$1($.ig.Level.prototype.$type);var n=m.hierarchyUniqueName();var o=m.depth();var p=0;if(h!=null){p=1}j=j.where$1($.ig.KeyValueItem.prototype.$type,function(q){return q.hierarchyUniqueName()==n&&q.depth()<=o+p}).toList$1($.ig.Level.prototype.$type)}else if(h!=null){throw new $.ig.InvalidOperationException(1,"LEVEL_UNIQUE_NAME restriction is required for MEMBER_UNIQUE_NAME restriction.")}i=new Array(j.count());for(var r=0;r<j.count();r++){i[r]=j.item(r)}var s=null;if(i.length>0){var t=i[0];var v=this.d.where$1($.ig.KeyValueItem.prototype.$type,function(u){return u.uniqueName()==t.hierarchyUniqueName()}).first$1($.ig.Level.prototype.$type);var w=this.ae().e();this.ay(i,0,".",null,v,w);if(d!=null&&f==null&&h==null){var x=new $.ig.List$1($.ig.Member.prototype.$type,0);for(var y=0;y<i.length;y++){var z=i[y];var aa;if(!function(){var $ret=$self.m.tryGetValue(z.uniqueName(),aa);aa=$ret.value;return $ret.ret}()){}var ac=aa.values().getEnumerator();while(ac.moveNext()){var ab=ac.current();x.add(ab)}}s=x}else{t=i[i.length-1];if(h==null){var ad;if(!function(){var $ret=$self.m.tryGetValue(t.uniqueName(),ad);ad=$ret.value;return $ret.ret}()){}s=ad.values()}else{var ae;if(!function(){var $ret=$self.m.tryGetValue(t.uniqueName(),ae);ae=$ret.value;return $ret.ret}()){}var af=new $.ig.List$1($.ig.Member.prototype.$type,0);var ah=ae.values().getEnumerator();while(ah.moveNext()){var ag=ah.current();if(ag.parentUniqueName()==h.d()){af.add(ag)}}s=af}}}else{s=new $.ig.List$1($.ig.Member.prototype.$type,0)}return s},ap:function(a,b,c){var $self=this;var d=new $.ig.List$1($.ig.Task.prototype.$type,0);if(a!=null){d.add(a.generateAxis("Axis0"))}if(b!=null){var e=a==null?"Axis0":"Axis1";d.add(b.generateAxis(e))}if(d.count()>0){var f=new Array(d.count());for(var g=0;g<d.count();g++){f[g]=d.item(g)}var h=new $.ig.TaskFactory;return h.c($.ig.OlapResult.prototype.$type,f,function(i){return $self.au(a,b,c)})}var j=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);var k=this.au(null,null,c);j.i(k);return j.d()},aq:function(a){var $self=this;var b=new $.ig.Dictionary$2(String,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.DataMemberMetadata.prototype.$type)),0);var d=a.getEnumerator();while(d.moveNext()){var c=d.current();if(c.memberNames().count()>0){for(var e=0;e<c.memberNames().count();e++){var f=c.memberNames().item(e);var g;if(function(){var $ret=$self.i.tryGetValue(f,g);g=$ret.value;return $ret.ret}()){var h;if(!function(){var $ret=b.tryGetValue(c.name(),h);h=$ret.value;return $ret.ret}()){h=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.DataMemberMetadata.prototype.$type),0);b.add(c.name(),h)}var i;if(!function(){var $ret=h.tryGetValue(g.h().levelDepth(),i);i=$ret.value;return $ret.ret}()){i=new $.ig.Dictionary$2(String,$.ig.DataMemberMetadata.prototype.$type,0);h.add(g.h().levelDepth(),i)}if(!i.containsKey(f)){i.add(f,g)}}}}}var j=new $.ig.Dictionary$2(String,$.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.DataMemberMetadata.prototype.$type),0);var l=b.getEnumerator();while(l.moveNext()){var k=l.current();var m=k.value();var p=m.orderBy$2($.ig.KeyValuePair$2.prototype.$type,$.ig.Number.prototype.$type,function(n){return n.key()}).select$2($.ig.KeyValuePair$2.prototype.$type,$.ig.IDictionary$2.prototype.$type,function(o){return o.value()}).toList$1($.ig.IDictionary$2.prototype.$type);for(var q=p.count()-1;q>=0;q--){var s=p.item(q).select$2($.ig.KeyValuePair$2.prototype.$type,$.ig.IDictionary$2.prototype.$type,function(r){return r.value()}).toList$1($.ig.IDictionary$2.prototype.$type);for(var t=0;t<s.count();t++){var u=s.item(t);var v=u.h().levelDepth();if(v>0){var w;if(!function(){var $ret=m.tryGetValue(v-1,w);w=$ret.value;return $ret.ret}()||!w.containsKey(u.h().parentUniqueName())){var x;if(!function(){var $ret=j.tryGetValue(u.h().parentUniqueName(),x);x=$ret.value;return $ret.ret}()){x=new $.ig.Dictionary$2(String,$.ig.DataMemberMetadata.prototype.$type,0);j.add(u.h().parentUniqueName(),x)}x.add(u.h().uniqueName(),u)}}}}var y=p.item(0);var z=y.values().first$1($.ig.DataMemberMetadata.prototype.$type);if(!String.isNullOrEmpty(z.h().parentUniqueName())){z=this.i.item(z.h().parentUniqueName())}var aa=new $.ig.List$1($.ig.KeyValueItem.prototype.$type,0);aa.add(function(){var $ret=new $.ig.KeyValueItem;$ret.c("LEVEL_UNIQUE_NAME");$ret.d(z.h().levelUniqueName());return $ret}());var ab=this.ao(null,aa).toList$1($.ig.IDictionary$2.prototype.$type);for(var ac=0;ac<ab.count();ac++){var ad=ab.item(ac);if(!y.containsKey(ad.uniqueName())&&!j.containsKey(ad.uniqueName())){j.add(ad.uniqueName(),new $.ig.Dictionary$2(String,$.ig.DataMemberMetadata.prototype.$type,0))}}}var af=this.n.keys().getEnumerator();while(af.moveNext()){var ae=af.current();var ag;if(function(){var $ret=$self.i.tryGetValue(ae,ag);ag=$ret.value;return $ret.ret}()){for(var ah=0;ah<ag.k().count();ah++){var ai=ag.k().item(ah);if(ai.f()){ai.j()}}}}this.n=j;var ak=this.n.keys().getEnumerator();while(ak.moveNext()){var aj=ak.current();var al;if(function(){var $ret=$self.i.tryGetValue(aj,al);al=$ret.value;return $ret.ret}()){var am=al.h().parentUniqueName();if(String.isNullOrEmpty(am)||!this.n.containsKey(am)){for(var an=0;an<al.k().count();an++){var ao=al.k().item(an);ao.i()}}}}var aq=this.n.keys().getEnumerator();while(aq.moveNext()){var ap=aq.current();var ar;if(function(){var $ret=$self.i.tryGetValue(ap,ar);ar=$ret.value;return $ret.ret}()){var as=this.n.item(ap).values().toList$1($.ig.IDictionary$2.prototype.$type);for(var at=0;at<as.count();at++){var au=as.item(at);for(var av=0;av<au.k().count();av++){var aw=au.k().item(av);if(aw.f()){aw.j()}}}}}},n:null,ar:function(a,b){var $self=this;var c=null;var d=-1;for(var e=0;e<b;e++){var f=a[e];var g=null;var h;if(function(){var $ret=$self.at(f.uniqueName(),h);h=$ret.memberMetadata;return $ret.ret}()){g=h.k()}if(g!=null){if(c==null||c.count()>g.count()){d=e;c=g}}}if(c==null){c=this.ae().e().toList$1($.ig.RowMetadata.prototype.$type)}var i=c;for(var j=0;j<b;j++){if(j!=d){var k=a[j];var l;if(function(){var $ret=k.properties().tryGetValue("memberId",l);l=$ret.value;return $ret.ret}()){var m=k.levelUniqueName();var n=$.ig.Number.prototype.parseInt(l);i=i.where$1($.ig.RowMetadata.prototype.$type,function(o){return o.h(m)==n})}}}return i},as:function(a,b){var $self=this;return{ret:function(){var $ret=$self.h.tryGetValue(a,b);b=$ret.value;return $ret.ret}(),memberId:b};return{memberId:b}},at:function(a,b){var $self=this;return{ret:function(){var $ret=$self.i.tryGetValue(a,b);b=$ret.value;return $ret.ret}(),memberMetadata:b};return{memberMetadata:b}},au:function(a,b,c){var $self=this;var d=null;if(a!=null){d=a.axis()}var e=null;if(b!=null){e=b.axis()}var f=this.ax(d,e,c);var g=f[0];var h=f[1];var i=null;if(g=="none"&&c.count()>0){i=this.l.item(c.item(0).uniqueName())}if(d==null&&e==null){var j=new $.ig.List$1($.ig.OlapResultCell.prototype.$type,0);if(i!=null){var l=this.ae().e().where$1($.ig.RowMetadata.prototype.$type,function(k){return!k.f()});var m=new $.ig.Array;var p=l.select$2($.ig.RowMetadata.prototype.$type,$.ig.Object.prototype.$type,function(n){return n.e()}).getEnumerator();while(p.moveNext()){var o=p.current();m.add(o)}if(m.length>0){var q=new $.ig.CellMetadata(null,0,0,0);var r=i(m,q);if(r!=null){var s=new $.ig.OlapResultCell;s.cellOrdinal(0);s.properties().add("Value",r);s.properties().add("FmtValue",r.toString());j.add(s)}}}return this.av(null,null,j)}var t=1;if(d!=null){t=d.tuples().count()}var u=1;if(e!=null){u=e.tuples().count()}var v=new $.ig.List$1($.ig.OlapResultCell.prototype.$type,0);for(var w=0;w<u;w++){var x=null;var y=null;if(e!=null){y=e.tuples().__inner[w];x=b.getTupleRowsMetadata(y);if(g=="rows"){i=this.l.item(y.members().item(h).uniqueName())}}for(var z=0;z<t;z++){var aa=x;var ab=null;var ac=null;if(d!=null){ac=d.tuples().__inner[z];ab=a.getTupleRowsMetadata(ac);if(g=="columns"){i=this.l.item(ac.members().item(h).uniqueName())}}if(aa!=null){if(ab!=null){aa=this.aw(aa,ab,y,ac,h)}}else{aa=ab}if(i!=null){var ad=w*t+z;var ae=new $.ig.CellMetadata(null,w,z,ad);var af=new $.ig.Array;var ai=aa.select$2($.ig.RowMetadata.prototype.$type,$.ig.Object.prototype.$type,function(ag){return ag.e()}).getEnumerator();while(ai.moveNext()){var ah=ai.current();af.add(ah)}if(af.length>0){var aj=i(af,ae);if(aj!=null){var ak=new $.ig.OlapResultCell;ak.cellOrdinal(ad);ak.properties().add("Value",aj.toString());ak.properties().add("FmtValue",aj.toString());v.add(ak)}}}}}var al=this.av(d,e,v);return al},av:function(a,b,c){var $self=this;var d=function(){var $ret=new $.ig.OlapResult;$ret.axes(new $.ig.List$1($.ig.OlapResultAxis.prototype.$type,0));return $ret}();if(a!=null){d.axes().add(a)}if(b!=null){d.axes().add(b)}d.cells(c);d.isEmpty(b==null&&a==null&&c.count()==0);return d},aw:function(a,b,c,d,e){var $self=this;if(b.count()<a.count()){a=b;d=c}for(var f=0;f<d.members().count();f++){if(f!=e){var g=d.members().item(f);var h;if(function(){var $ret=g.properties().tryGetValue("memberId",h);h=$ret.value;return $ret.ret}()){var i=$.ig.Number.prototype.parseInt(h);a=a.where$1($.ig.RowMetadata.prototype.$type,function(j){return j.h(g.levelUniqueName())==i}).toList$1($.ig.RowMetadata.prototype.$type)}}}return a},ax:function(a,b,c){var $self=this;var d=this.az(this.ag().b().i().e());var e="none";var f=-1;if(c.count()>0){if(a!=null&&a.tuples().count()>0){var g=a.tuples().__inner[0];for(var h=0;h<g.members().count();h++){var i=g.members().item(h);if(i.hierarchyUniqueName()==d){e="columns";f=h;break}}}if(e=="none"){if(b!=null&&b.tuples().count()>0){var j=b.tuples().__inner[0];for(var k=0;k<j.members().count();k++){var l=j.members().item(k);if(l.hierarchyUniqueName()==d){e="rows";f=k;break}}}}}return function(){var $ret=new Array;$ret.add(e);$ret.add(f);return $ret}()},ay:function(a,b,c,d,e,f){var $self=this;var g=a[b];var h=this.g.item(g.uniqueName());var j=this.e.where$1($.ig.Level.prototype.$type,function(i){return i.hierarchyUniqueName()==e.uniqueName()&&i.depth()==g.depth()+1}).firstOrDefault$1($.ig.Level.prototype.$type);var k=null;if(d!=null){k=d.uniqueName()}var l;if(!function(){var $ret=$self.m.tryGetValue(g.uniqueName(),l);l=$ret.value;return $ret.ret}()){l=new $.ig.Dictionary$2(String,$.ig.Member.prototype.$type,0);this.m.add(g.uniqueName(),l)}var m=new $.ig.Dictionary$2(String,$.ig.IList$1.prototype.$type.specialize($.ig.RowMetadata.prototype.$type),0);var o=f.getEnumerator();while(o.moveNext()){var n=o.current();var p=h(n.e());var q;if(!function(){var $ret=m.tryGetValue(p,q);q=$ret.value;return $ret.ret}()){q=new $.ig.List$1($.ig.RowMetadata.prototype.$type,0);m.add(p,q)}q.add(n)}var s=m.getEnumerator();while(s.moveNext()){var r=s.current();var t=r.key();var u=r.value();var v=c+"&"+this.az(t);var w=g.uniqueName()+v;var x;var y;var z;if(!function(){var $ret=l.tryGetValue(w,x);x=$ret.value;return $ret.ret}()){x=new $.ig.Member;x.caption(t);x.dimensionUniqueName(g.dimensionUniqueName());x.hierarchyUniqueName(g.hierarchyUniqueName());x.levelDepth(g.depth());x.levelUniqueName(g.uniqueName());x.name(t);x.parentLevel(g.depth()-1);x.parentUniqueName(k);x.uniqueName(w);if(j!=null){x.childrenCardinality(1)}if(d!=null){d.childrenCardinality(d.childrenCardinality()+1)}l.add(w,x);y=this.h.count();this.h.add(x.uniqueName(),y);z=new $.ig.DataMemberMetadata(x,v,y,l.count());this.i.add(x.uniqueName(),z);this.j.add(x.uniqueName(),z);for(var aa=0;aa<u.count();aa++){var ab=u.item(aa);ab.g(g.uniqueName(),y);z.x(ab)}}if(b+1<a.length){this.ay(a,b+1,v,x,e,u)}}},az:function(a){if(a.substr(0,1)!="["){a="["+a}if(a.substr(a.length-1,1)!="]"){a+="]"}return a},o:null,p:null,a0:function(){var a=new $.ig.List$1($.ig.Cube.prototype.$type,0);if(this.ag()==null||this.ag().b()==null){return a}var b=new $.ig.Cube;b.caption(this.ag().b().g());b.name(this.ag().b().f());b.description(this.ag().b().h());a.add(b);return a},a1:function(a){var b=new $.ig.List$1($.ig.Measure.prototype.$type,0);if(this.ag()==null||this.ag().b()==null||this.ag().b().i()==null||this.ag().b().i().f()==null){return b}var c=this.ag().b().i().e();var e=this.ag().b().i().f().getEnumerator();while(e.moveNext()){var d=e.current();var f=new $.ig.Measure;f.caption(d.k());f.defaultFormatString(d.i());f.measureDisplayFolder(d.l());f.name(d.j());f.uniqueName(this.az(c)+"."+this.az(d.j()));b.add(f);a.item(f.uniqueName(),d.g())}return b},a2:function(){if(this.b==null){this.b=this.a0()}var a=new $.ig.List$1($.ig.Dimension.prototype.$type,0);if(this.ag()==null||this.ag().b()==null){return a}var b=new $.ig.Dimension;b.dimensionType($.ig.DimensionType.prototype.measure);b.caption(this.ag().b().i().d());b.uniqueName(this.az(this.ag().b().i().e()));a.add(b);if(this.ag().b().j()==null){return a}this.o=new $.ig.List$1($.ig.DimensionMetadata.prototype.$type,0);var d=this.ag().b().j().getEnumerator();while(d.moveNext()){var c=d.current();this.o.add(c);var e=new $.ig.Dimension;e.caption(c.h());e.defaultHierarchy(c.g());e.uniqueName(this.az(c.f()));e.name(c.f());e.description(c.i());a.add(e)}return a},a3:function(){var $self=this;if(this.c==null){this.c=this.a2()}var a=new $.ig.List$1($.ig.Hierarchy.prototype.$type,0);if(this.ag()==null||this.ag().b()==null){return a}var b=new $.ig.Hierarchy;b.uniqueName(this.az(this.ag().b().i().e()));b.dimensionUniqueName(this.az(this.ag().b().i().e()));a.add(b);if(this.ag().b().j()==null){return a}this.p=new $.ig.Dictionary$2(String,$.ig.IList$1.prototype.$type.specialize($.ig.HierarchyMetadata.prototype.$type),0);for(var c=0;c<this.o.count();c++){var d=this.o.item(c);if(d.j()!=null){var e;if(!function(){var $ret=$self.p.tryGetValue(d.f(),e);e=$ret.value;return $ret.ret}()){e=new $.ig.List$1($.ig.HierarchyMetadata.prototype.$type,0);this.p.add(d.f(),e)}var g=d.j().getEnumerator();while(g.moveNext()){var f=g.current();e.add(f);var h=new $.ig.Hierarchy;h.caption(f.g());h.description(f.h());h.dimensionUniqueName(this.az(d.f()));h.hierarchyDisplayFolder(f.i());h.name(f.f());h.uniqueName(h.dimensionUniqueName()+"."+this.az(h.name()));a.add(h)}}}return a},a4:function(){var $self=this;if(this.d==null){this.d=this.a3()}this.g=new $.ig.Dictionary$2(String,$.ig.Func$2.prototype.$type.specialize($.ig.Object.prototype.$type,String),0);var a=new $.ig.List$1($.ig.Level.prototype.$type,0);if(this.ag()==null||this.ag().b()==null){return a}var b=new $.ig.Level;b.hierarchyUniqueName(this.az(this.ag().b().i().e()));b.uniqueName(b.hierarchyUniqueName()+".[MeasuresLevel]");a.add(b);if(this.ag().b().j()==null){return a}var c=new $.ig.HierarchyMetadata;c.f(this.ag().b().i().e());c.g(this.ag().b().i().d());var d=new $.ig.List$1($.ig.HierarchyMetadata.prototype.$type,0);d.add(c);for(var e=0;e<this.o.count();e++){var f=this.o.item(e);var g;if(function(){var $ret=$self.p.tryGetValue(f.f(),g);g=$ret.value;return $ret.ret}()){for(var h=0;h<g.count();h++){d.add(g.item(h))}}}for(var i=0;i<d.count();i++){var j=d.item(i);if(j.j()==null){continue}var k=this.d.item(i);for(var l=0;l<j.j().count();l++){var m=j.j().item(l);var n=new $.ig.Level;n.caption(m.e());n.depth(l);n.dimensionUniqueName(k.dimensionUniqueName());n.hierarchyUniqueName(k.uniqueName());n.name(m.d());n.uniqueName(k.uniqueName()+"."+this.az(n.name()));a.add(n);var o;if(!function(){var $ret=$self.f.tryGetValue(k.uniqueName(),o);o=$ret.value;return $ret.ret}()){o=new $.ig.List$1($.ig.Level.prototype.$type,0);this.f.add(k.uniqueName(),o)}o.add(n);this.g.item(n.uniqueName(),m.f())}}return a},$type:new $.ig.Type("FlatDataProvider",$.ig.Object.prototype.$type,[$.ig.IFlatDataProvider.prototype.$type])},true);$.ig.util.defType("CellMetadata","Object",{init:function(a,b,c,d){$.ig.Object.prototype.init.call(this);this.e(b);this.f(c);this.g(d);this.h(a)},_e:null,e:function(a){if(arguments.length===1){this._e=a;return a}else{return this._e}},_f:null,f:function(a){if(arguments.length===1){this._f=a;return a}else{return this._f}},_g:null,g:function(a){if(arguments.length===1){this._g=a;return a}else{return this._g}},_h:null,h:function(a){if(arguments.length===1){this._h=a;return a}else{return this._h}},$type:new $.ig.Type("CellMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("CubeMetadata","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.j(new $.ig.ArrayListCollection$1($.ig.DimensionMetadata.prototype.$type))},_f:null,f:function(a){if(arguments.length===1){this._f=a;return a}else{return this._f}},_g:null,g:function(a){if(arguments.length===1){this._g=a;return a}else{return this._g}},_h:null,h:function(a){if(arguments.length===1){this._h=a;return a}else{return this._h}},_i:null,i:function(a){if(arguments.length===1){this._i=a;return a}else{return this._i}},_j:null,j:function(a){if(arguments.length===1){this._j=a;return a}else{return this._j}},$type:new $.ig.Type("CubeMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MeasuresDimensionMetadata","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_d:null,d:function(a){if(arguments.length===1){this._d=a;return a}else{return this._d}},_e:null,e:function(a){if(arguments.length===1){this._e=a;return a}else{return this._e}},_f:null,f:function(a){if(arguments.length===1){this._f=a;return a}else{return this._f}},$type:new $.ig.Type("MeasuresDimensionMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("DataMemberMetadata","Object",{init:function(a,b,c,d){$.ig.Object.prototype.init.call(this);this.h(a);this.i(b);this.g(c);this.j(d);this.k(new $.ig.List$1($.ig.RowMetadata.prototype.$type,0))},_g:null,g:function(a){if(arguments.length===1){this._g=a;return a}else{return this._g}},_h:null,h:function(a){if(arguments.length===1){this._h=a;return a}else{return this._h}},_i:null,i:function(a){if(arguments.length===1){this._i=a;return a}else{return this._i}},_j:null,j:function(a){if(arguments.length===1){this._j=a;return a}else{return this._j}},_k:null,k:function(a){if(arguments.length===1){this._k=a;return a}else{return this._k}},l:function(){var $self=this;return this.k().where$1($.ig.RowMetadata.prototype.$type,function(b){return b.f()==false}).toList$1($.ig.RowMetadata.prototype.$type)},x:function(a){this.k().add(a)},y:function(a){if(this.k().remove(a)){return true}return false},$type:new $.ig.Type("DataMemberMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("DataSourceMetadata","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_b:null,b:function(a){if(arguments.length===1){this._b=a;return a}else{return this._b}},$type:new $.ig.Type("DataSourceMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("DimensionMetadata","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_f:null,f:function(a){if(arguments.length===1){this._f=a;return a}else{return this._f}},_g:null,g:function(a){if(arguments.length===1){this._g=a;return a}else{return this._g}},_h:null,h:function(a){if(arguments.length===1){this._h=a;return a}else{return this._h}},_i:null,i:function(a){if(arguments.length===1){this._i=a;return a}else{return this._i}},_j:null,j:function(a){if(arguments.length===1){this._j=a;return a}else{return this._j}},$type:new $.ig.Type("DimensionMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("HierarchyMetadata","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_f:null,f:function(a){if(arguments.length===1){this._f=a;return a}else{return this._f}},_g:null,g:function(a){if(arguments.length===1){this._g=a;return a}else{return this._g}},_h:null,h:function(a){if(arguments.length===1){this._h=a;return a}else{return this._h}},_i:null,i:function(a){if(arguments.length===1){this._i=a;return a}else{return this._i}},_j:null,j:function(a){if(arguments.length===1){this._j=a;return a}else{return this._j}},$type:new $.ig.Type("HierarchyMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("LevelMetadata","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_d:null,d:function(a){if(arguments.length===1){this._d=a;return a}else{return this._d}},_e:null,e:function(a){if(arguments.length===1){this._e=a;return a}else{return this._e}},_f:null,f:function(a){if(arguments.length===1){this._f=a;return a}else{return this._f}},$type:new $.ig.Type("LevelMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MeasureMetadata","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.h($.ig.AggregatorType.prototype.sum)},_g:null,g:function(a){if(arguments.length===1){this._g=a;return a}else{return this._g}},_h:null,h:function(a){if(arguments.length===1){this._h=a;return a}else{return this._h}},_i:null,i:function(a){if(arguments.length===1){this._i=a;return a}else{return this._i}},_j:null,j:function(a){if(arguments.length===1){this._j=a;return a}else{return this._j}},_k:null,k:function(a){if(arguments.length===1){this._k=a;return a}else{return this._k}},_l:null,l:function(a){if(arguments.length===1){this._l=a;return a}else{return this._l}},$type:new $.ig.Type("MeasureMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("RowMetadata","Object",{a:null,b:null,init:function(a){$.ig.Object.prototype.init.call(this);this.a=new $.ig.Dictionary$2(String,$.ig.Number.prototype.$type,0);this.b=0;this.f(false);this.e(a)},g:function(a,b){if(this.a.containsKey(a)){return}this.a.item(a,b)},h:function(a){var $self=this;var b;(function(){var $ret=$self.a.tryGetValue(a,b);b=$ret.value;return $ret.ret})();return b},i:function(){this.b++;this.f(true)},j:function(){this.b--;this.f(this.b>0)},_e:null,e:function(a){if(arguments.length===1){this._e=a;return a}else{return this._e}},_f:null,f:function(a){if(arguments.length===1){this._f=a;return a}else{return this._f}},$type:new $.ig.Type("RowMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("TableMetadata","Object",{a:null,b:null,c:null,d:null,init:function(a){$.ig.Object.prototype.init.call(this);var b=0;var c=$.ig.util.cast($.ig.IList.prototype.$type,a);if(c!=null){b=c.count()}else{var e=a.getEnumerator();while(e.moveNext()){var d=e.current();b++}}this.c=new $.ig.List$1($.ig.RowMetadata.prototype.$type,0);this.b=new Array(b);var g=a.getEnumerator();while(g.moveNext()){var f=g.current();var h=new $.ig.RowMetadata(f);this.k(h);this.c.add(h)}this.a=new $.ig.List$1(String,0)},e:function(){return this.c},f:function(){return this.b},g:function(){return this.d},k:function(a){if(this.d==this.b.length){this.n()}this.b[this.d++]=a},l:function(a,b){if(this.d==this.b.length){this.n()}$.ig.Array.prototype.copy(this.b,a,this.b,a+1,this.d-a);this.b[a]=b;this.d++},m:function(a){var $self=this;this.d--;$.ig.Array.prototype.copy(this.b,a+1,this.b,a,this.d-a);(function(){var $ret=$.ig.Array.prototype.resize$1($.ig.RowMetadata.prototype.$type,$self.b,$self.d);$self.b=$ret.array;return $ret.ret})()},n:function(){var a=new Array(this.d+1);$.ig.Array.prototype.copy(this.b,0,a,0,this.d);this.b=a},$type:new $.ig.Type("TableMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("FlatDataSourceImpl","Object",{a:null,dataProvider:function(){if(this.a==null){this.a=this.dataProviderFactory().createDataProvider(this.sourceOptions().itemsSource(),this.sourceOptions().dataSourceMetadata())}return this.a},b:null,c:null,d:null,e:null,f:null,g:null,h:null,i:null,j:null,k:null,l:null,m:null,n:null,o:null,p:null,q:null,r:null,s:null,t:null,init:function(a){var $self=this;this.c=new $.ig.List$1($.ig.PositionInfo.prototype.$type,0);this.d=new $.ig.List$1($.ig.PositionInfo.prototype.$type,0);this.e=new $.ig.List$1($.ig.AxisElement.prototype.$type,0);this.f=new $.ig.List$1($.ig.AxisElement.prototype.$type,0);this.g=new $.ig.List$1($.ig.AxisElement.prototype.$type,0);this.h=new $.ig.List$1(String,0);this.u=new $.ig.List$1($.ig.FlatDataAxisProvider.prototype.$type,0);$.ig.Object.prototype.init.call(this);this.i=false;this.j=null;this.k=false;this.l=null;this.p=false;this.o=false;this.q=false;this.isInitialized(false);this.sourceOptions(a);this.cubes(new $.ig.ArrayListCollection$1($.ig.Cube.prototype.$type));this.rowAxis(new $.ig.ArrayListCollection$1($.ig.ICoreOlapElement.prototype.$type));this.columnAxis(new $.ig.ArrayListCollection$1($.ig.ICoreOlapElement.prototype.$type));this.filters(new $.ig.ArrayListCollection$1($.ig.Hierarchy.prototype.$type));this.measures(new $.ig.ArrayListCollection$1($.ig.Measure.prototype.$type));this.dataProviderFactory(a.dataProviderFactory());if(this.dataProviderFactory()==null){this.dataProviderFactory(new $.ig.DefaultFlatDataProviderFactory)}this.measureListLocation($.ig.MeasureListLocation.prototype.columns);this.measureListIndex(-1);this.result(function(){var $ret=new $.ig.OlapResult;$ret.isEmpty(true);return $ret}())},_isInitialized:null,isInitialized:function(a){if(arguments.length===1){this._isInitialized=a;return a}else{return this._isInitialized}},_dataProviderFactory:null,dataProviderFactory:function(a){if(arguments.length===1){this._dataProviderFactory=a;return a}else{return this._dataProviderFactory}},_sourceOptions:null,sourceOptions:function(a){if(arguments.length===1){this._sourceOptions=a;return a}else{return this._sourceOptions}},ao:function($t,a){var b=new $.ig.ArrayListCollection$1($t);var d=a.getEnumerator();while(d.moveNext()){var c=d.current();b.add(c)}return b},initialize:function(){var $self=this;if(this.i){return this.j}this.i=true;this.j=this.ap();var a=this.j;this.j.ac(function(b){$self.i=false;$self.j=null});return a},ap:function(){var $self=this;var a=new $.ig.TaskCompletionSource$1($.ig.OlapMetadataTreeItem.prototype.$type,0);if(this.isInitialized()){a.i(this.metadataTree());return a.d()}this.columnAxis().collectionChanged=$.ig.Delegate.prototype.combine(this.columnAxis().collectionChanged,this.bs.on(this));this.rowAxis().collectionChanged=$.ig.Delegate.prototype.combine(this.rowAxis().collectionChanged,this.bt.on(this));this.filters().collectionChanged=$.ig.Delegate.prototype.combine(this.filters().collectionChanged,this.bw.on(this));this.measures().collectionChanged=$.ig.Delegate.prototype.combine(this.measures().collectionChanged,this.bx.on(this));return this.dataProvider().discoverCubesAsync(null,null).continueWithTask$21($.ig.IEnumerable$1.prototype.$type,$.ig.OlapMetadataTreeItem.prototype.$type,function(b){var c=new $.ig.List$1($.ig.Cube.prototype.$type,0);var e=b.aa().getEnumerator();while(e.moveNext()){var d=e.current();c.add(d)}$self.cubes($self.ao($.ig.Cube.prototype.$type,b.aa()));return $self.ax($self.cubes().first$1($.ig.Cube.prototype.$type).name(),null)}).continueWithTask$21($.ig.IEnumerable$1.prototype.$type,$.ig.OlapMetadataTreeItem.prototype.$type,function(f){return $self.aq()})},aq:function(){var $self=this;var a=null;var b=null;var c=null;var d=new $.ig.List$1($.ig.AxisElement.prototype.$type,0);if(!String.isNullOrEmpty(this.sourceOptions().columns())){var e=new $.ig.AxisDefinitionParser(this.sourceOptions().columns());a=e.w()}if(!String.isNullOrEmpty(this.sourceOptions().rows())){var f=new $.ig.AxisDefinitionParser(this.sourceOptions().rows());b=f.w()}if(!String.isNullOrEmpty(this.sourceOptions().filters())){var g=new $.ig.AxisDefinitionParser(this.sourceOptions().filters());c=g.w()}if(a!=null&&a.count()>0){var i=a.getEnumerator();while(i.moveNext()){var h=i.current();this.as($.ig.ICoreOlapElement.prototype.$type,h.name(),this.columnAxis(),$.ig.Hierarchy.prototype.$type);this.e.add(h);if(h.memberNames().count()>0){d.add(h);var k=h.memberNames().getEnumerator();while(k.moveNext()){var j=k.current();this.h.add(j)}}}}if(b!=null&&b.count()>0){var m=b.getEnumerator();while(m.moveNext()){var l=m.current();this.as($.ig.ICoreOlapElement.prototype.$type,l.name(),this.rowAxis(),$.ig.Hierarchy.prototype.$type);this.f.add(l);if(l.memberNames().count()>0){d.add(l);var o=l.memberNames().getEnumerator();while(o.moveNext()){var n=o.current();this.h.add(n)}}}}if(c!=null&&c.count()>0){var q=c.getEnumerator();while(q.moveNext()){var p=q.current();this.as($.ig.Hierarchy.prototype.$type,p.name(),this.filters(),$.ig.Hierarchy.prototype.$type);this.g.add(p);if(p.memberNames().count()>0){d.add(p);var s=p.memberNames().getEnumerator();while(s.moveNext()){var r=s.current();this.h.add(r)}}}}var t=null;if(!String.isNullOrEmpty(this.sourceOptions().measures())){var u=new $.ig.AxisDefinitionParser(this.sourceOptions().measures());t=u.w()}if(t!=null&&t.count()>0){var w=t.getEnumerator();while(w.moveNext()){var v=w.current();this.as($.ig.Measure.prototype.$type,v.name(),this.measures(),$.ig.Measure.prototype.$type)}}if(this.m||this.n||this.o||this.p||this.q){if(d.count()>0){var x=new Array(d.count());for(var y=0;y<d.count();y++){var z=d.item(y).name();x[y]=this.getMembersOfHierarchy(z)}var aa=new $.ig.TaskFactory;return aa.c($.ig.Task$1.prototype.$type,x,function(ab){return $self.be()
}).continueWithTask$21($.ig.Task$1.prototype.$type,$.ig.OlapMetadataTreeItem.prototype.$type,function(ac){$self.at();var ad=new $.ig.TaskCompletionSource$1($.ig.OlapMetadataTreeItem.prototype.$type,0);ad.i($self.metadataTree());return ad.d()})}return this.be().continueWithTask$21($.ig.Task$1.prototype.$type,$.ig.OlapMetadataTreeItem.prototype.$type,function(ae){$self.at();var af=new $.ig.TaskCompletionSource$1($.ig.OlapMetadataTreeItem.prototype.$type,0);af.i($self.metadataTree());return af.d()})}this.at();var ag=new $.ig.TaskCompletionSource$1($.ig.OlapMetadataTreeItem.prototype.$type,0);ag.i(this.metadataTree());return ag.d()},as:function($tItem,a,b,c){var $self=this;var e=function(d){return d.uniqueName()==a};var f=this.getCoreElement(e,c);if(f!=null&&!b.contains$1($.ig.ICoreOlapElement.prototype.$type,f)){b.add(f)}},at:function(){this.isInitialized(true)},au:function(a){this.b=new $.ig.CubeMetaItemsCache;var b=a[0];var c=a[1];var d=a[2];var e=a[3];this.b.j(e.aa());this.b.k(b.aa());this.b.l(c.aa());this.b.m(d.aa())},_cube:null,cube:function(a){if(arguments.length===1){this._cube=a;return a}else{return this._cube}},_cubes:null,cubes:function(a){if(arguments.length===1){this._cubes=a;return a}else{return this._cubes}},setCube:function(a){if(!this.isInitialized()){throw new $.ig.InvalidOperationException(1,"Data source is not initialized.")}return this.ax(a,null)},ax:function(a,b){var $self=this;if(String.isNullOrEmpty(a)){if(a==null){throw new $.ig.ArgumentNullException("cubeName")}throw new $.ig.InvalidOperationException(1,"cubeName cannot be empty.")}var c=new $.ig.TaskCompletionSource$1($.ig.OlapMetadataTreeItem.prototype.$type,0);if(this.cube()!=null){if(this.cube().name()==a){c.i(this.metadataTree());return c.d()}this.ay()}var e=this.cubes().getEnumerator();while(e.moveNext()){var d=e.current();if(d.name()==a){this.cube(d);break}}var f=this.dataProvider();var g=new $.ig.List$1($.ig.Task.prototype.$type,0);g.add(f.discoverDimensionsAsync(null,null));g.add(f.discoverHierarchiesAsync(null,null));g.add(f.discoverLevelsAsync(null,null));g.add(f.discoverMeasuresAsync(null,null));var h=new Array(g.count());g.copyTo(h,0);var i=new $.ig.TaskFactory;return i.a(h,function(j){return $self.au(j)}).continueWithTask$1($.ig.OlapMetadataTreeItem.prototype.$type,function(k){return $self.az(null)})},ay:function(){this.cube(null);this.filters().clear();this.rowAxis().clear();this.columnAxis().clear();this.measures().clear();this.b=null},az:function(a){var $self=this;var b=new $.ig.TaskCompletionSource$1($.ig.OlapMetadataTreeItem.prototype.$type,0);var c=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.cube);$ret.caption($self.cube().caption());$ret.item($self.cube());return $ret}();var d;var e;var f=true;if(String.isNullOrEmpty(a)){d=this.b.k();e=this.b.j()}else{f=false;d=this.b.o().getMeasureGroupDimensions(a);e=this.b.o().getMeasureGroupMeasures(a)}var g=$.ig.MetaTreeHelper.prototype.getDimensionMetaItems(d,e,this.b.l(),this.b.m(),f);$.ig.MetaTreeHelper.prototype.setMetaItemChildren(c,g);this.metadataTree(c);b.i(c);return b.d()},_metadataTree:null,metadataTree:function(a){if(arguments.length===1){this._metadataTree=a;return a}else{return this._metadataTree}},_rowAxis:null,rowAxis:function(a){if(arguments.length===1){this._rowAxis=a;return a}else{return this._rowAxis}},_columnAxis:null,columnAxis:function(a){if(arguments.length===1){this._columnAxis=a;return a}else{return this._columnAxis}},_filters:null,filters:function(a){if(arguments.length===1){this._filters=a;return a}else{return this._filters}},_measures:null,measures:function(a){if(arguments.length===1){this._measures=a;return a}else{return this._measures}},measureListIndex:function(a){if(arguments.length===1){if(this.s!=a){this.r=true;this.s=a;this.bo();this.r=false}return a}else{return this.s}},measureListLocation:function(a){if(arguments.length===1){if(this.t!=a){this.bn();this.t=a;this.bo()}return a}else{return this.t}},expandTupleMember:function(a,b,c){var $self=this;var d=this.bj(a,this.result());if(d==null){throw new $.ig.InvalidOperationException(1,"No axis found for the specified index.")}var f=this.c.where$1($.ig.PositionInfo.prototype.$type,function(e){return e.d()==a&&e.e()==b&&e.f()==c}).firstOrDefault$1($.ig.PositionInfo.prototype.$type);if(f==null){f=function(){var $ret=new $.ig.PositionInfo;$ret.d(a);$ret.f(c);$ret.e(b);return $ret}();this.c.add(f)}else{this.c.remove(f)}},collapseTupleMember:function(a,b,c){var $self=this;var d=this.bj(a,this.result());if(d==null){throw new $.ig.InvalidOperationException(1,"No axis found for the specified index.")}var f=this.c.where$1($.ig.PositionInfo.prototype.$type,function(e){return e.d()==a&&e.e()==b&&e.f()==c}).firstOrDefault$1($.ig.PositionInfo.prototype.$type);if(f==null){f=function(){var $ret=new $.ig.PositionInfo;$ret.d(a);$ret.f(c);$ret.e(b);return $ret}();this.d.add(f)}else{this.c.remove(f)}},_result:null,result:function(a){if(arguments.length===1){this._result=a;return a}else{return this._result}},_aj:null,aj:function(a){if(arguments.length===1){this._aj=a;return a}else{return this._aj}},getCoreElement:function(a,b){if(b==$.ig.MeasureList.prototype.$type){var c;if(this.measureListLocation()==$.ig.MeasureListLocation.prototype.columns){c=this.columnAxis()}else{c=this.rowAxis()}var d=null;var f=c.getEnumerator();while(f.moveNext()){var e=f.current();d=$.ig.util.cast($.ig.MeasureList.prototype.$type,e);if(d!=null){break}}return d}else{return this.getCoreElements(a,b).firstOrDefault$1($.ig.ICoreOlapElement.prototype.$type)}},getCoreElements:function(a,b){var $self=this;if(b==$.ig.Dimension.prototype.$type){return this.ao($.ig.Dimension.prototype.$type,this.b.k().where$1($.ig.Dimension.prototype.$type,function(c){return a(c)}))}if(b==$.ig.Hierarchy.prototype.$type){return this.ao($.ig.Dimension.prototype.$type,this.b.l().where$1($.ig.Dimension.prototype.$type,function(d){return a(d)}))}if(b==$.ig.Level.prototype.$type){return this.ao($.ig.Dimension.prototype.$type,this.b.m().where$1($.ig.Dimension.prototype.$type,function(e){return a(e)}))}if(b==$.ig.Measure.prototype.$type){return this.ao($.ig.Dimension.prototype.$type,this.b.j().where$1($.ig.Dimension.prototype.$type,function(f){return a(f)}))}throw new $.ig.NotSupportedException(0,"Supported types are Dimension, Hierarchy, Level and Measure")},clearPendingChanges:function(){this.d.clear();this.c.clear()},a8:function(a){var $self=this;if(a.count()==0){var b=new $.ig.TaskCompletionSource$1($.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Member.prototype.$type)),0);b.i(new $.ig.Dictionary$2(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Member.prototype.$type),0));return b.d()}var c=new $.ig.List$1($.ig.Task.prototype.$type,0);var d=new $.ig.List$1($.ig.Number.prototype.$type,0);for(var e=0;e<a.count();e++){var f=a.item(e);var g=new $.ig.KeyValueItem;g.c("HIERARCHY_UNIQUE_NAME");g.d(f);var h=new $.ig.List$1($.ig.KeyValueItem.prototype.$type,0);h.add(g);var i=this.dataProvider().discoverLevelsAsync(null,h);c.add(i);d.add(0)}var j=new Array(c.count());for(var k=0;k<c.count();k++){j[k]=c.item(k)}var l=new $.ig.TaskFactory;return l.c($.ig.IDictionary$2.prototype.$type,j,function(m){return $self.bb(m,d)}).continueWithTask$21($.ig.IDictionary$2.prototype.$type,$.ig.IDictionary$2.prototype.$type,function(n){return $self.a9(n.aa())})},a9:function(a){var $self=this;var b=new Array(a.count());var c=new Array(a.count());var d=0;var f=a.getEnumerator();while(f.moveNext()){var e=f.current();var g=new $.ig.List$1($.ig.KeyValueItem.prototype.$type,0);g.add(function(){var $ret=new $.ig.KeyValueItem;$ret.c("LEVEL_UNIQUE_NAME");$ret.d(e.value().uniqueName());return $ret}());b[d]=this.dataProvider().discoverMembersAsync(null,g);c[d]=e.key();d++}var h=new $.ig.TaskFactory;return h.c($.ig.IDictionary$2.prototype.$type,b,function(i){return $self.ba(i,c)})},ba:function(a,b){var c=new $.ig.Dictionary$2(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Member.prototype.$type),0);for(var d=0;d<b.length;d++){var e=b[d];if(!c.containsKey(e)){c.add(e,a[d].aa())}}return c},bb:function(a,b){var $self=this;var c=new $.ig.Dictionary$2(String,$.ig.Level.prototype.$type,0);for(var d=0;d<b.count();d++){var e=a[d];if(e.h()!=null||e.g()){return null}var f=b.item(d);var h=e.aa().where$1($.ig.Level.prototype.$type,function(g){return g.depth()==f}).firstOrDefault$1($.ig.Level.prototype.$type);if(h!=null&&!c.containsKey(h.hierarchyUniqueName())){c.add(h.hierarchyUniqueName(),h)}}return c},update:function(){var $self=this;if(this.k){return this.l}this.k=true;this.l=this.be();var a=this.l;this.l.ac(function(b){$self.k=false;$self.l=null});return a},bc:function(a,b){var c=0;var d=this.measureListIndex();if(a){var e=this.bm(c);if(e!=null&&this.measureListLocation()==$.ig.MeasureListLocation.prototype.columns){if(d>-1){var f=e.n().rootPositionInfo();if(f!=null){this.bd(f,d-1)}}}c++}if(b){var g=this.bm(c);if(g!=null&&this.measureListLocation()==$.ig.MeasureListLocation.prototype.rows){if(d>-1){var h=g.n().rootPositionInfo();if(h!=null){this.bd(h,d-1)}}}}},bd:function(a,b){if(a.positionItemIndex()==b){a.clear()}else{var d=a.values().getEnumerator();while(d.moveNext()){var c=d.current();this.bd(c,b)}}},be:function(){var $self=this;var a=this.bg();if(!String.isNullOrEmpty(a)){var b=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);b.h(new $.ig.InvalidOperationException(1,a));return b.d()}var c=this.columnAxis().count()>0;var d=this.rowAxis().count()>0;if(!d&&!c&&this.measures().count()==0){var e=function(){var $ret=new $.ig.OlapResult;$ret.isEmpty(true);return $ret}();var f=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);f.i(e);this.aj(new $.ig.OlapResultView(e,e,false,false));this.result(e);this.clearPendingChanges();return f.d()}var g=this.m;var h=this.n;var i=this.p||this.q;var j=this.o;var k=this.c.count()>0;var l=this.d.count()>0;var m=this.h.count()>0;if(!g&&!h&&!i&&!j&&!k&&!l&&!m){var n=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);n.i(this.result());return n.d()}if(this.p){this.bc(c,d)}var o=null;var p=null;var q=0;var r="Axis0";var s=this.m;if(this.p&&c&&this.measureListIndex()>-1&&this.measureListLocation()==$.ig.MeasureListLocation.prototype.columns){s=true}o=this.bk(this.columnAxis(),s,q);this.m=false;if(o!=null){q++;r="Axis1"}var t=this.n;if(this.p&&d&&this.measureListIndex()>-1&&this.measureListLocation()==$.ig.MeasureListLocation.prototype.rows){t=true}p=this.bk(this.rowAxis(),t,q);this.n=false;if(p!=null){if(p.axis()!=null){p.axis().name(r)}q++}this.p=false;this.o=false;this.q=false;var u=new $.ig.List$1($.ig.AxisElement.prototype.$type,0);var w=this.e.getEnumerator();while(w.moveNext()){var v=w.current();u.add(v)}var y=this.f.getEnumerator();while(y.moveNext()){var x=y.current();u.add(x)}var aa=this.g.getEnumerator();while(aa.moveNext()){var z=aa.current();u.add(z)}var ab=this.bf(u,c,d,k,l,o,p);return ab},bf:function(a,b,c,d,e,f,g){var $self=this;if(this.h.count()>0){this.dataProvider().aq(a);var i=this.u.getEnumerator();while(i.moveNext()){var h=i.current();h.t()}this.h.clear()}this.bh(b,c);this.bi(b,c,true);if(d||e){var j=null;if(b){var l=this.c.where$1($.ig.PositionInfo.prototype.$type,function(k){return k.d()=="Axis0"}).toList$1($.ig.PositionInfo.prototype.$type);if(l.count()>0){var m=l.item(0);this.c.remove(m);var n=this.result().axes().item(0).tuples().__inner[m.e()];var o=n.members().item(m.f());var p=new $.ig.FlatDataPartialAxisProvider(this.dataProvider(),this.columnAxis(),o);var q=p.generateAxis("Axis0");j=q.continueWithTask$21($.ig.OlapResultAxis.prototype.$type,$.ig.OlapResult.prototype.$type,function(r){var s=$self.dataProvider().ap(p,g,$self.measures());return s});j=j.continueWithTask$21($.ig.OlapResultAxis.prototype.$type,$.ig.OlapResult.prototype.$type,function(t){var u=$self.aj();$self.aj($self.aj().extend(t.aa(),"Axis0"));$self.result($self.aj().visibleResult());$.ig.ResultViewHelper.prototype.b("Axis0",u,$self.aj());$.ig.ResultViewHelper.prototype.a(m.d(),m.e(),m.f(),true,$self.aj());f.x(p);f.axis($self.bj("Axis0",$self.result()));var v=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);v.i($self.aj().visibleResult());$.ig.ResultViewHelper.prototype.d(m.e(),m.f(),true,f.n());return v.d()})}}if(c){var w=b?"Axis1":"Axis0";var y=this.c.where$1($.ig.PositionInfo.prototype.$type,function(x){return x.d()==w}).toList$1($.ig.PositionInfo.prototype.$type);if(d&&y.count()>0){var z=y.item(0);this.c.remove(z);var ab=this.result().axes().where$1($.ig.PositionInfo.prototype.$type,function(aa){return aa.name()==w}).first$1($.ig.OlapResultAxis.prototype.$type).tuples().__inner[z.e()];var ac=ab.members().item(z.f());var ad;var ae=new $.ig.FlatDataPartialAxisProvider(this.dataProvider(),this.rowAxis(),ac);if(j!=null){ad=j.continueWithTask$21($.ig.OlapResultAxis.prototype.$type,$.ig.OlapResult.prototype.$type,function(af){return ae.generateAxis(w)})}else{ad=ae.generateAxis(w)}j=ad.continueWithTask$21($.ig.OlapResultAxis.prototype.$type,$.ig.OlapResult.prototype.$type,function(ag){var ah=$self.dataProvider().ap(f,ae,$self.measures());return ah});j=j.continueWithTask$21($.ig.OlapResultAxis.prototype.$type,$.ig.OlapResult.prototype.$type,function(ai){if($self.aj()==null){$self.aj(new $.ig.OlapResultView($self.result(),$self.result(),b,c))}var aj=$self.aj();var ak=$self.aj().hasColumns()?"Axis1":"Axis0";$self.aj($self.aj().extend(ai.aa(),ak));$self.result($self.aj().visibleResult());$.ig.ResultViewHelper.prototype.b(ak,aj,$self.aj());$.ig.ResultViewHelper.prototype.a(z.d(),z.e(),z.f(),true,$self.aj());var al=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);al.i($self.aj().visibleResult());g.x(ae);g.axis($self.bj(ak,$self.result()));$.ig.ResultViewHelper.prototype.d(z.e(),z.f(),true,g.n());return al.d()})}}if(j!=null){return j}var am=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);am.i(this.result());return am.d()}else{var an=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);if(f==null&&g==null&&this.measures().count()==0){var ao=function(){var $ret=new $.ig.OlapResult;$ret.isEmpty(true);return $ret}();this.result(ao);an.i(this.result());return an.d()}var ap=this.dataProvider().ap(f,g,this.measures());return ap.continueWithTask$21($.ig.OlapResultAxis.prototype.$type,$.ig.OlapResult.prototype.$type,function(aq){$self.aj(new $.ig.OlapResultView(aq.aa(),aq.aa(),b,c));$self.result($self.aj().visibleResult());$self.clearPendingChanges();an.i($self.result());return an.d()})}},bg:function(){var $self=this;var a=new $.ig.Dictionary$2(String,String,0);for(var b=0;b<this.columnAxis().count();b++){var c=this.columnAxis().item(b);if($.ig.util.cast($.ig.MeasureList.prototype.$type,c)!==null){continue}if(!a.containsKey(c.uniqueName())){a.add(c.uniqueName(),"columns")}else{return"the "+c.uniqueName()+" hierarchy is used twice in columns"}}for(var d=0;d<this.rowAxis().count();d++){var e=this.rowAxis().item(d);if($.ig.util.cast($.ig.MeasureList.prototype.$type,e)!==null){continue}if(!a.containsKey(e.uniqueName())){a.add(e.uniqueName(),"rows")}else{return"the "+e.uniqueName()+" hierarchy is used in rows and in columns"}}for(var f=0;f<this.filters().count();f++){var g=this.filters().item(f);var h;if(!function(){var $ret=a.tryGetValue(g.uniqueName(),h);h=$ret.value;return $ret.ret}()){a.add(g.uniqueName(),"filters")}else{return"the "+g.uniqueName()+" hierarchy is used in filters and in "+h}}for(var i=0;i<this.measures().count();i++){var j=this.measures().item(i);var k;if(!function(){var $ret=a.tryGetValue(j.uniqueName(),k);k=$ret.value;return $ret.ret}()){a.add(j.uniqueName(),"measures")}else{if(k=="measures"){return"the "+j.uniqueName()+" measure is used twice in measures"}return"the "+j.uniqueName()+" measure is used in measures and in "+k}}return null},bh:function(a,b){var $self=this;var c=new $.ig.Dictionary$2(String,$.ig.IList$1.prototype.$type.specialize($.ig.PositionInfo.prototype.$type),0);var d=this.aj();for(var e=0;e<this.c.count();e++){var f=this.c.item(e);var g;if(!function(){var $ret=c.tryGetValue(f.d(),g);g=$ret.value;return $ret.ret}()){g=new $.ig.List$1($.ig.PositionInfo.prototype.$type,0);c.add(f.d(),g)}if(this.aj()==null){this.aj(new $.ig.OlapResultView(this.result(),this.result(),a,b))}var h=this.aj().expandTupleMember(f.d(),f.e(),f.f());if(h!=null){g.add(f);this.aj(h);this.result(this.aj().visibleResult())}}var j=c.getEnumerator();while(j.moveNext()){var i=j.current();var l=i.value().getEnumerator();while(l.moveNext()){var k=l.current();this.c.remove(k)}}var m=0;var n="Axis0";if(a){var p=c.keys().where$1(String,function(o){return o==n}).firstOrDefault$1(String)!=null;var q=this.bm(m);if(q!=null&&p){var r=c.item(n);if(r.count()>0){$.ig.ResultViewHelper.prototype.b(n,d,this.aj());var t=r.getEnumerator();while(t.moveNext()){var s=t.current();$.ig.ResultViewHelper.prototype.a(n,s.e(),s.f(),true,this.aj());$.ig.ResultViewHelper.prototype.d(s.e(),s.f(),true,q.n())}var u=this.bj(n,this.result());q.axis(u);$.ig.ResultViewHelper.prototype.e(u.positionResolver(),q.n())}}m++;n="Axis1"}if(b){var w=c.keys().where$1(String,function(v){return v==n}).firstOrDefault$1(String)!=null;var x=this.bm(m);if(x!=null&&w){var y=c.item(n);if(y.count()>0){$.ig.ResultViewHelper.prototype.b(n,d,this.aj());var aa=y.getEnumerator();while(aa.moveNext()){var z=aa.current();$.ig.ResultViewHelper.prototype.a(n,z.e(),z.f(),true,this.aj());$.ig.ResultViewHelper.prototype.d(z.e(),z.f(),true,x.n())}var ab=this.bj(n,this.result());x.axis(ab);$.ig.ResultViewHelper.prototype.e(ab.positionResolver(),x.n())}}}return this.c.count()>0},bi:function(a,b,c){var $self=this;if(this.result()!=null){var d=new $.ig.Dictionary$2(String,$.ig.IList$1.prototype.$type.specialize($.ig.PositionInfo.prototype.$type),0);var e=this.aj();for(var f=0;f<this.d.count();f++){var g=this.d.item(f);var h;if(!function(){var $ret=d.tryGetValue(g.d(),h);h=$ret.value;return $ret.ret}()){h=new $.ig.List$1($.ig.PositionInfo.prototype.$type,0);d.add(g.d(),h)}h.add(g);if(c){if(this.aj()==null){this.aj(new $.ig.OlapResultView(this.result(),this.result(),a,b))}else{this.aj(this.aj().collapseTupleMember(g.d(),g.e(),g.f()));this.result(this.aj().visibleResult())}}}var i=0;var j="Axis0";if(a){var l=d.keys().where$1(String,function(k){return k==j}).firstOrDefault$1(String)!=null;var m=this.bm(i);if(m!=null&&l){var n=d.item(j);if(n.count()>0){$.ig.ResultViewHelper.prototype.b(j,e,this.aj());var p=n.getEnumerator();while(p.moveNext()){var o=p.current();$.ig.ResultViewHelper.prototype.d(o.e(),o.f(),false,m.n())}var q=this.bj(j,this.result());m.axis(q)}}i++;j="Axis1"}if(b){var s=d.keys().where$1(String,function(r){return r==j}).firstOrDefault$1(String)!=null;var t=this.bm(i);if(t!=null&&s){var u=d.item(j);if(u.count()>0){$.ig.ResultViewHelper.prototype.b(j,e,this.aj());var w=u.getEnumerator();while(w.moveNext()){var v=w.current();$.ig.ResultViewHelper.prototype.d(v.e(),v.f(),false,t.n())}var x=this.bj(j,this.result());t.axis(x)}}}this.d.clear()}},bj:function(a,b){var $self=this;if(b!=null&&b.axes()!=null&&b.axes().count()>0){return b.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(c){return c.name()==a}).firstOrDefault$1($.ig.OlapResultAxis.prototype.$type)}return null},bk:function(a,b,c){var d=null;if(a.count()>0){d=this.bm(c);if(b){if(d!=null){d.s(a)}else{d=new $.ig.FlatDataAxisProvider(this.dataProvider(),a);this.bl(c,d)}}}return d},bl:function(a,b){this.u.item(a,b)},bm:function(a){if(a<this.u.count()){return this.u.item(a)}return null},bn:function(){var a;if(this.measureListLocation()==$.ig.MeasureListLocation.prototype.columns){a=this.columnAxis()}else{a=this.rowAxis()}if(a==null){return}var b=null;var c=0;var e=a.getEnumerator();while(e.moveNext()){var d=e.current();b=$.ig.util.cast($.ig.MeasureList.prototype.$type,d);if(b!=null){break}c++}if(b!=null){this.q=true;a.removeAt(c)}},bo:function(){var $self=this;var a;if(this.measureListLocation()==$.ig.MeasureListLocation.prototype.columns){a=this.columnAxis()}else{a=this.rowAxis()}var b=null;var c=0;var e=a.getEnumerator();while(e.moveNext()){var d=e.current();b=$.ig.util.cast($.ig.MeasureList.prototype.$type,d);if(b!=null){break}c++}if(this.measures().count()>1){if(b==null){b=function(){var $ret=new $.ig.MeasureList;$ret.measures($self.measures());return $ret}();if(this.measureListIndex()<0||this.measureListIndex()>a.count()){this.s=a.count();a.add(b)}else{a.insert(this.measureListIndex(),b)}}else{if(c!=this.measureListIndex()){a.removeAt(c);if(this.measureListIndex()>a.count()){this.s=a.count();a.add(b)}else{a.insert(this.measureListIndex(),b)}}}}else{if(b!=null){a.removeAt(c)}}},bp:function(a,b){var $self=this;var d=this.e.where$1($.ig.AxisElement.prototype.$type,function(c){return c.name()==a}).firstOrDefault$1($.ig.AxisElement.prototype.$type);if(d!=null){b=this.e;return{ret:d,filtersCollection:b}}d=this.f.where$1($.ig.AxisElement.prototype.$type,function(e){return e.name()==a}).firstOrDefault$1($.ig.AxisElement.prototype.$type);if(d!=null){b=this.f;return{ret:d,filtersCollection:b}}d=this.g.where$1($.ig.AxisElement.prototype.$type,function(f){return f.name()==a}).firstOrDefault$1($.ig.AxisElement.prototype.$type);if(d!=null){b=this.g;return{ret:d,filtersCollection:b}}b=null;return{ret:null,filtersCollection:b};return{filtersCollection:b}},getFilterMemberNames:function(a){var $self=this;var b;var c=function(){var $ret=$self.bp(a,b);b=$ret.filtersCollection;return $ret.ret}();if(c!=null){return this.ao(String,c.memberNames())}return new $.ig.ArrayListCollection$1(String)},addFilterMember:function(a,b){var $self=this;var c;var d=function(){var $ret=$self.bp(a,c);c=$ret.filtersCollection;return $ret.ret}();if(d==null){d=new $.ig.AxisElement(a,function(){var $ret=new $.ig.ArrayListCollection$1(String);$ret.add(b);return $ret}());c.add(d)}else{if(!d.memberNames().contains(b)){d.memberNames().add(b);if(this.h.contains(b)){this.h.remove(b)}else{this.h.add(b)}}}},removeFilterMember:function(a,b){var $self=this;var c;var d=function(){var $ret=$self.bp(a,c);c=$ret.filtersCollection;return $ret.ret}();if(d==null){return}if(d.memberNames().remove(b)){if(this.h.contains(b)){this.h.remove(b)}else{this.h.add(b)}}},removeAllFilterMembers:function(a){var $self=this;var b;var c=function(){var $ret=$self.bp(a,b);b=$ret.filtersCollection;return $ret.ret}();if(c==null){return}for(var d=c.memberNames().count()-1;d>=0;d--){var e=c.memberNames().item(d);c.memberNames().removeAt(d);if(this.h.contains(e)){this.h.remove(e)}else{this.h.add(e)}}},getMembersOfLevel:function(a){var $self=this;var b=new $.ig.List$1($.ig.KeyValueItem.prototype.$type,0);b.add(function(){var $ret=new $.ig.KeyValueItem;$ret.c("LEVEL_UNIQUE_NAME");$ret.d(a);return $ret}());var c=this.dataProvider().discoverMembersAsync(null,b);c.ac(function(d){var f=d.aa().getEnumerator();while(f.moveNext()){var e=f.current();$self.b.ac(e)}});return c},tryGetMember:function(a,b){var $self=this;return{ret:function(){var $ret=$self.b.ae(a,b);b=$ret.member;return $ret.ret}(),member:b};return{member:b}},tryGetMembersForLevel:function(a,b){var $self=this;return{ret:function(){var $ret=$self.b.ag(a,b);b=$ret.members;return $ret.ret}(),members:b};return{members:b}},getMembersOfHierarchy:function(a){var $self=this;var b=new $.ig.CoreOlapElementParser(a);var c=b.r();if(c.count()<2){throw new $.ig.ArgumentException(1,"Specified value: "+a+" is not valid.",a)}var d=new $.ig.KeyValueItem;d.c("HIERARCHY_UNIQUE_NAME");d.d(c.item(0)+"."+c.item(1));var e=new $.ig.List$1($.ig.KeyValueItem.prototype.$type,0);e.add(d);var f=this.dataProvider().discoverMembersAsync(null,e);f.ac(function(g){var i=g.aa().getEnumerator();while(i.moveNext()){var h=i.current();$self.b.ac(h)}});return f},getMembersOfMember:function(a){var $self=this;var b=new $.ig.CoreOlapElementParser(a);var c=b.r();var d=new $.ig.KeyValueItem;if(c.count()<3){throw new $.ig.ArgumentException(1,"Specified value: "+a+" is not valid.",a)}switch(c.count()){case 1:d.c("DIMENSION_UNIQUE_NAME");d.d(c.item(0));break;case 2:d.c("HIERARCHY_UNIQUE_NAME");d.d(c.item(0)+"."+c.item(1));break;default:d.c("LEVEL_UNIQUE_NAME");d.d(c.item(0)+"."+c.item(1)+"."+c.item(2));break}var e=new $.ig.List$1($.ig.KeyValueItem.prototype.$type,0);e.add(d);e.add(function(){var $ret=new $.ig.KeyValueItem;$ret.c("MEMBER_UNIQUE_NAME");$ret.d(a);return $ret}());var f=this.dataProvider().discoverMembersAsync(null,e);f.ac(function(g){var i=g.aa().getEnumerator();while(i.moveNext()){var h=i.current();$self.b.ac(h)}});return f},bq:function(a,b){var $self=this;switch(a.action()){case $.ig.NotifyCollectionChangedAction.prototype.add:var d=a.newItems().getEnumerator();while(d.moveNext()){var c=d.current();var e=$.ig.util.cast($.ig.Hierarchy.prototype.$type,c);if(e!=null){if(this.isInitialized()){b.add(new $.ig.AxisElement(e.uniqueName(),new $.ig.ArrayListCollection$1(String)))}}}break;case $.ig.NotifyCollectionChangedAction.prototype.remove:var g=a.oldItems().getEnumerator();while(g.moveNext()){var f=g.current();var h=$.ig.util.cast($.ig.Hierarchy.prototype.$type,f);if(h!=null){var j=b.where$1($.ig.AxisElement.prototype.$type,function(i){return i.name()==h.uniqueName()}).firstOrDefault$1($.ig.AxisElement.prototype.$type);if(j!=null){var k=new $.ig.List$1(String,0);for(var l=0;l<j.memberNames().count();l++){k.add(j.memberNames().item(l))}for(var m=0;m<k.count();m++){var n=k.item(m);this.removeFilterMember(j.name(),n)}b.remove(j)}}else if(!this.p&&!this.q&&!this.r){var o=$.ig.util.cast($.ig.MeasureList.prototype.$type,f);if(o!=null){this.measures().clear()}}}break}},br:function(a,b){var $self=this;var d=$.ig.util.cast($.ig.MeasureList.prototype.$type,b.where$1($.ig.ICoreOlapElement.prototype.$type,function(c){return $.ig.util.cast($.ig.MeasureList.prototype.$type,c)!==null}).firstOrDefault$1($.ig.ICoreOlapElement.prototype.$type));switch(a.action()){case $.ig.NotifyCollectionChangedAction.prototype.add:var f=a.newItems().getEnumerator();while(f.moveNext()){var e=f.current();var g=$.ig.util.cast($.ig.Hierarchy.prototype.$type,e);if(g!=null){if(d!=null&&this.measureListIndex()>=a.newStartingIndex()){this.measureListIndex(this.measureListIndex()+1)}}}break;case $.ig.NotifyCollectionChangedAction.prototype.remove:var i=a.oldItems().getEnumerator();while(i.moveNext()){var h=i.current();var j=$.ig.util.cast($.ig.Hierarchy.prototype.$type,h);if(j!=null){if(d!=null&&this.measureListIndex()>a.oldStartingIndex()){this.measureListIndex(this.measureListIndex()-1)}}}break}},bs:function(a,b){this.m=true;this.bu(0,this.columnAxis(),this.rowAxis());this.bq(b,this.e);this.br(b,this.columnAxis());if(b.action()!=$.ig.NotifyCollectionChangedAction.prototype.reset&&this.columnAxis()!=null){var c=Math.max(b.newStartingIndex(),b.oldStartingIndex());this.bv("Axis0",c)}},bt:function(a,b){this.n=true;this.bu(1,this.rowAxis(),this.columnAxis());this.bq(b,this.f);this.br(b,this.rowAxis());if(b.action()!=$.ig.NotifyCollectionChangedAction.prototype.reset&&this.rowAxis()!=null){var c=this.columnAxis()==null?"Axis0":"Axis1";var d=Math.max(b.newStartingIndex(),b.oldStartingIndex());this.bv(c,d)}},u:null,bu:function(a,b,c){if(b.count()>0){if(c.count()>0){if(this.u.count()<2){this.u.insert(a,null)}}else{if(this.u.count()==0){this.u.insert(0,null)}}}else{if(this.u.count()>0){if(this.u.count()>1){this.u.removeAt(a)}else{this.u.removeAt(0)}}}},bv:function(a,b){for(var c=this.d.count()-1;c>=0;c--){var d=this.d.item(c);if(d.d()==a&&d.f()>=b){this.d.removeAt(c)}}for(var e=this.c.count()-1;e>=0;e--){var f=this.c.item(e);if(f.d()==a&&f.f()>=b){this.c.removeAt(e)}}},bw:function(a,b){this.o=true;this.bq(b,this.g)},bx:function(a,b){this.p=true;this.bo()},$type:new $.ig.Type("FlatDataSourceImpl",$.ig.Object.prototype.$type,[$.ig.IOlapDataSource.prototype.$type])},true);$.ig.util.defType("IFlatDataProviderFactory","Object",{$type:new $.ig.Type("IFlatDataProviderFactory",null)},true);$.ig.util.defType("DefaultFlatDataProviderFactory","Object",{init:function(){$.ig.Object.prototype.init.call(this)},createDataProvider:function(a,b){return new $.ig.FlatDataProvider(a,b)},$type:new $.ig.Type("DefaultFlatDataProviderFactory",$.ig.Object.prototype.$type,[$.ig.IFlatDataProviderFactory.prototype.$type])},true);$.ig.util.defType("PositionInfo","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_d:null,d:function(a){if(arguments.length===1){this._d=a;return a}else{return this._d}},_e:null,e:function(a){if(arguments.length===1){this._e=a;return a}else{return this._e}},_f:null,f:function(a){if(arguments.length===1){this._f=a;return a}else{return this._f}},$type:new $.ig.Type("PositionInfo",$.ig.Object.prototype.$type)},true);$.ig.util.defType("FlatDataSourceOptions","DataSourceBaseOptions",{init:function(){$.ig.DataSourceBaseOptions.prototype.init.call(this)},_itemsSource:null,itemsSource:function(a){if(arguments.length===1){this._itemsSource=a;return a}else{return this._itemsSource}},_dataSourceMetadata:null,dataSourceMetadata:function(a){if(arguments.length===1){this._dataSourceMetadata=a;return a}else{return this._dataSourceMetadata}},_dataProviderFactory:null,dataProviderFactory:function(a){if(arguments.length===1){this._dataProviderFactory=a;return a}else{return this._dataProviderFactory}},$type:new $.ig.Type("FlatDataSourceOptions",$.ig.DataSourceBaseOptions.prototype.$type)},true);$.ig.util.defType("OlapFlatDataSource","DataSourceBase",{j:null,init:function(a){this.j=null;$.ig.DataSourceBase.prototype.init.call(this);if(a==null){throw new $.ig.ArgumentNullException("options")}this.j=a;this.r(this.j)},k:function(a){var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"metadata");if(b==null){throw new $.ig.InvalidOperationException(1,"metadata is null or undefined.")}var c=new $.ig.DataSourceMetadata;var d=this.l(b);c.b(d);return c},l:function(a){var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"cube");if(b==null){throw new $.ig.InvalidOperationException(1,"metadata.cube is null or undefined.")}var c=new $.ig.CubeMetadata;c.f($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(b,"name"));if(String.isNullOrEmpty(c.f())){throw new $.ig.InvalidOperationException(1,"cube.name is null, empty or undefined")}c.g($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(b,"caption"));if(String.isNullOrEmpty(c.g())){c.g(c.f())}c.i(this.m(b));c.h($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(b,"description"));c.j(this.n(b));return c},m:function(a){var $self=this;var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"measuresDimension");if(b==null){return null}var c=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(b,"caption");var d=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(b,"name");var e=function(){var $ret=new $.ig.MeasuresDimensionMetadata;$ret.d(c);$ret.e(d);return $ret}();e.f(this.o(b));return e},n:function(a){var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"dimensions");if(b==null){return null}var c=new $.ig.ArrayListCollection$1($.ig.DimensionMetadata.prototype.$type);for(var d=0;d<b.length;d++){var e=new $.ig.DimensionMetadata;c.add(e);var f=b[d];e.f($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"name"));if(String.isNullOrEmpty(e.f())){throw new $.ig.InvalidOperationException(1,"dimension.name is null, empty or undefined")}e.h($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"caption"));if(String.isNullOrEmpty(e.h())){e.h(e.f())}e.g($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"defaultHierarchy"));e.j(this.p(f));e.i($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"description"))}return c},o:function(a){var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"measures");if(b==null){return null}var c=new $.ig.ArrayListCollection$1($.ig.MeasureMetadata.prototype.$type);for(var d=0;d<b.length;d++){var e=new $.ig.MeasureMetadata;c.add(e);var f=b[d];e.j($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"name"));if(String.isNullOrEmpty(e.j())){throw new $.ig.InvalidOperationException(1,"measure.name is null, empty or undefined")
}e.k($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"caption"));if(String.isNullOrEmpty(e.k())){e.k(e.j())}e.i($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"displayFormat"));e.l($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"displayFolder"));e.g($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"aggregator"));if(e.g()==null){throw new $.ig.InvalidOperationException(1,"aggregator is null or undefined for measureMetadata: "+e.j())}}return c},p:function(a){var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"hierarchies");if(b==null){return null}var c=new $.ig.ArrayListCollection$1($.ig.HierarchyMetadata.prototype.$type);for(var d=0;d<b.length;d++){var e=new $.ig.HierarchyMetadata;c.add(e);var f=b[d];e.f($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"name"));if(String.isNullOrEmpty(e.f())){throw new $.ig.InvalidOperationException(1,"hierarchy.hierarchyName is null, empty or undefined")}e.g($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"caption"));if(String.isNullOrEmpty(e.g())){e.g(e.f())}e.i($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"displayFolder"));e.j(this.q(f));if(e.j()==null||e.j().count()==0){throw new $.ig.InvalidOperationException(1,"levelKeys is null, empty or undefined for hierarchyMetadata: "+e.f())}}return c},q:function(a){var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"levels");if(b==null){return null}var c=new $.ig.ArrayListCollection$1($.ig.LevelMetadata.prototype.$type);for(var d=0;d<b.length;d++){var e=new $.ig.LevelMetadata;c.add(e);var f=b[d];e.d($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"name"));if(String.isNullOrEmpty(e.d())){throw new $.ig.InvalidOperationException(1,"level.name is null, empty or undefined")}e.e($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"caption"));if(String.isNullOrEmpty(e.e())){e.e(e.d())}e.f($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"memberProvider"));if(e.f()==null){throw new $.ig.InvalidOperationException(1,"levelMetadata.memberProvider is null or undefined")}}return c},r:function(a){var options_=a;var schema_=this.s(a);var dataSource=options_.dataSource;if(!options_.dataSource&&options_.dataSourceUrl){options_.dataSource=options_.dataSourceUrl}var dataOptions={callback:this.dataSourceDataResolved,callee:this,dataSource:options_.dataSource,defaultChildrenDataProperty:options_.bindings.childDataProperty,responseDataType:options_.responseDataType,localSchemaTransform:options_.dataSourceType&&options_.dataSourceType==="xml"?true:false,schema:schema_};if(options_.dataSourceType){dataOptions.type=options_.dataSourceType}if(options_.responseDataKey){dataOptions.responseDataKey=options_.responseDataKey}if(!(options_.dataSource instanceof $.ig.DataSource)){options_.dataSource=new $.ig.DataSource(dataOptions)}options_.dataSource.dataBind(this.dataSourceDataResolved,this)},dataSourceDataResolved:function(){var $self=this;var a=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(this.j,"dataSource");if(a==null){throw new $.ig.InvalidOperationException(1,"dataSource is null or undefined")}var b=this.k(this.j);var c=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(this.j,"measures");var d=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(this.j,"filters");var e=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(this.j,"columns");var f=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(this.j,"rows");var g=$.ig.jQueryUtils.prototype.getJavascriptObjectMethodResult(a,"data");var h=function(){var $ret=new $.ig.FlatDataSourceOptions;$ret.measures(c);$ret.filters(d);$ret.columns(e);$ret.rows(f);$ret.itemsSource(g);$ret.dataSourceMetadata(b);return $ret}();this.dataSource(new $.ig.FlatDataSourceImpl(h))},s:function(a){var options_=a;var schema_=null;var schema={},opt=options_,bindings=options_.bindings;if(bindings==null){opt.bindings={};schema.text={name:"Text",type:"string"};opt.bindings.textKey="Text";schema.value={name:"Value",type:"string"};opt.bindings.valueKey="Value";schema.imageUrl={name:"ImageUrl",type:"string"};opt.bindings.imageUrlKey="ImageUrl";schema.navigateUrl={name:"NavigateUrl",type:"string"};opt.bindings.navigateUrlKey="NavigateUrl";schema.childData={name:"Nodes",type:"object"};opt.bindings.childDataProperty="Nodes";schema.target={name:"Target",type:"string"};opt.bindings.targetKey="Target";bindings=opt.bindings}else if(opt.dataSourceType==="xml"){if(bindings.searchFieldXPath){schema.searchField=bindings.searchFieldXPath}}schema.fields=[];if(bindings.textKey){schema.fields.push({name:bindings.textKey,type:"string",xpath:bindings.textXPath});schema.textKey=bindings.textKey}if(bindings.valueKey){schema.fields.push({name:bindings.valueKey,type:"string",xpath:bindings.valueXPath});schema.valueKey=bindings.valueKey}if(bindings.navigateUrlKey){schema.fields.push({name:bindings.navigateUrlKey,type:"string",xpath:bindings.navigateUrlXPath});schema.navigateUrlKey=bindings.navigateUrlKey}if(bindings.imageUrlKey){schema.fields.push({name:bindings.imageUrlKey,type:"string",xpath:bindings.imageUrlXPath});schema.imageUrlKey=bindings.imageUrlKey}if(bindings.targetKey){schema.fields.push({name:bindings.targetKey,type:"string"});schema.targetKey=bindings.targetKey}if(bindings.expandedKey){schema.fields.push({name:"Expanded",type:"boolean"});schema.expandedKey=bindings.expandedKey}if(bindings.primaryKey){schema.fields.push({name:bindings.primaryKey,type:"string"});schema.primaryKey=bindings.primaryKey}if(bindings.childDataProperty){schema.fields.push({name:bindings.childDataProperty,type:"object",xpath:bindings.childDataXPath});schema.childDataProperty=bindings.childDataProperty}if(!schema.searchField&&opt.responseDataKey){schema.searchField=opt.responseDataKey}schema_=schema;return schema_},$type:new $.ig.Type("OlapFlatDataSource",$.ig.DataSourceBase.prototype.$type)},true);$.ig.FlatDataProvider.prototype.a="(All)";(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$('<div id="__ig_wm__"></div>').appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})})(jQuery);